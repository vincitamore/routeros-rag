<!DOCTYPE html>
<html>
    <head>
        <title>RouterOS : CRS1xx and 2xx series switches</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="RouterOS_328059.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="Bridging-and-Switching_328068.html">Bridging and Switching</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            RouterOS : CRS1xx and 2xx series switches
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Edgars P.</span>, last updated on Oct 04, 2024
    
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1747742023987 {padding: 0px;}
div.rbtoc1747742023987 ul {margin-left: 0px;}
div.rbtoc1747742023987 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1747742023987'>
<ul class='toc-indentation'>
<li><a href='#CRS1xxand2xxseriesswitches-Summary'>Summary</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-CloudRouterSwitchmodels'>Cloud Router Switch models</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-AbbreviationsandExplanations'>Abbreviations and Explanations</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-PortSwitching'>Port Switching</a>
<ul class='toc-indentation'>
<li><a href='#CRS1xxand2xxseriesswitches-Multipleswitchgroups'>Multiple switch groups</a></li>
</ul>
</li>
<li><a href='#CRS1xxand2xxseriesswitches-GlobalSettings'>Global Settings</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-PortSettings'>Port Settings</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-ForwardingDatabases'>Forwarding Databases</a>
<ul class='toc-indentation'>
<li><a href='#CRS1xxand2xxseriesswitches-UnicastFDB'>Unicast FDB</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-MulticastFDB'>Multicast FDB</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-ReservedFDB'>Reserved FDB</a></li>
</ul>
</li>
<li><a href='#CRS1xxand2xxseriesswitches-VLAN'>VLAN</a>
<ul class='toc-indentation'>
<li><a href='#CRS1xxand2xxseriesswitches-VLANTable'>VLAN Table</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-EgressVLANTag'>Egress VLAN Tag</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-Ingress/EgressVLANTranslation'>Ingress/Egress VLAN Translation</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-ProtocolBasedVLAN'>Protocol Based VLAN</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-MACBasedVLAN'>MAC Based VLAN</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-1:1VLANSwitching'>1:1 VLAN Switching</a></li>
</ul>
</li>
<li><a href='#CRS1xxand2xxseriesswitches-PortIsolation/Leakage'>Port Isolation/Leakage</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-Trunking'>Trunking</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-QualityofService'>Quality of Service</a>
<ul class='toc-indentation'>
<li><a href='#CRS1xxand2xxseriesswitches-Shaper'>Shaper</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-IngressPortPolicer'>Ingress Port Policer</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-QoSGroup'>QoS Group</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-DSCPQoSMap'>DSCP QoS Map</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-DSCPToDSCPMap'>DSCP To DSCP Map</a></li>
<li><a href='#CRS1xxand2xxseriesswitches-PolicerQoSMap'>Policer QoS Map</a></li>
</ul>
</li>
<li><a href='#CRS1xxand2xxseriesswitches-AccessControlList'>Access Control List</a>
<ul class='toc-indentation'>
<li><a href='#CRS1xxand2xxseriesswitches-ACLPolicer'>ACL Policer</a></li>
</ul>
</li>
<li><a href='#CRS1xxand2xxseriesswitches-Seealso'>See also</a></li>
</ul>
</div></p><h1 id="CRS1xxand2xxseriesswitches-Summary"><span class="mw-headline">Summary</span></h1><hr/><p>The Cloud Router Switch series are highly integrated switches with high-performance MIPS CPU and feature-rich packet processors. The CRS switches can be designed into various Ethernet applications including unmanaged switch, Layer 2 managed switch, carrier switch, and wireless/wired unified packet processing. See <a href="https://help.mikrotik.com/docs/pages/viewpage.action?pageId=103841836" rel="nofollow">Cloud Router Switch</a> configuration examples</p><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>This article applies to CRS1xx and CRS2xx series switches and not to CRS3xx series switches. For CRS3xx series devices, read the<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/CRS3xx%2C+CRS5xx%2C+CCR2116%2C+CCR2216+switch+chip+features" rel="nofollow">CRS3xx, CRS5xx series switches and CCR2116, CCR2216 routers</a><span> </span>manual.</p></div></div><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Features</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>Forwarding</strong></td><td class="confluenceTd"><ul class="bullets"><li>Configurable ports for switching or routing</li><li>Full non-blocking wire-speed switching</li><li>Up to 16k MAC entries in Unicast FDB for Layer 2 unicast forwarding</li><li>Up to 1k MAC entries in Multicast FDB for multicast forwarding</li><li>Up to 256 MAC entries in Reserved FDB for control and management purposes</li><li>All Forwarding Databases support IVL and SVL</li><li>Configurable Port-based MAC learning limit</li><li>Jumbo frame support (CRS1xx: 4064 Bytes; CRS2xx: 9204 Bytes)</li><li>IGMP Snooping support</li></ul></td></tr><tr><td class="confluenceTd"><strong>Mirroring</strong></td><td class="confluenceTd"><ul class="bullets"><li>Various types of mirroring:<ul class="bullets"><li>Port-based mirroring</li><li>VLAN-based mirroring</li><li>MAC-based mirroring</li></ul></li><li>2 independent mirroring analyzer ports</li></ul></td></tr><tr><td class="confluenceTd"><strong>VLAN</strong></td><td class="confluenceTd"><ul class="bullets"><li>Fully compatible with IEEE802.1Q and IEEE802.1ad VLAN</li><li>4k active VLANs</li><li>Flexible VLAN assignment:<ul class="bullets"><li>Port-based VLAN</li><li>Protocol-based VLAN</li><li>MAC-based VLAN</li></ul></li><li>From any to any VLAN translation and swapping</li><li>1:1 VLAN switching - VLAN to port mapping</li><li>VLAN filtering</li></ul></td></tr><tr><td class="confluenceTd"><strong>Port Isolation and Leakage</strong></td><td class="confluenceTd"><ul class="bullets"><li>Applicable for Private VLAN implementation</li><li>3 port profile types: Promiscuous, Isolated, and Community</li><li>Up to 28 Community profiles</li><li>Leakage profiles allow bypassing egress VLAN filtering</li></ul></td></tr><tr><td class="confluenceTd"><strong>Trunking</strong></td><td class="confluenceTd"><ul class="bullets"><li>Supports static link aggregation groups</li><li>Up to 8 Port Trunk groups</li><li>Up to 8 member ports per Port Trunk group</li><li>Hardware automatic failover and load balancing</li></ul></td></tr><tr><td class="confluenceTd"><strong>Quality of Service (QoS)</strong></td><td class="confluenceTd"><ul class="bullets"><li>Flexible QoS classification and assignment:<ul class="bullets"><li>Port-based</li><li>MAC-based</li><li>VLAN-based</li><li>Protocol-based</li><li>PCP/DEI based</li><li>DSCP based</li><li>ACL based</li></ul></li><li>QoS remarking and remapping for QoS domain translation between a service provider and client networks</li><li>Overriding of each QoS assignment according to the configured priority</li></ul></td></tr><tr><td class="confluenceTd"><strong>Shaping and Scheduling</strong></td><td class="confluenceTd"><ul class="bullets"><li>8 queues on each physical port</li><li>Shaping per port, per queue, per queue group</li></ul></td></tr><tr><td class="confluenceTd"><strong>Access Control List</strong></td><td class="confluenceTd"><ul class="bullets"><li>Ingress and Egress ACL tables</li><li>Up to 128 ACL rules (limited by RouterOS)</li><li>Classification based on ports, L2, L3, L4 protocol header fields</li><li>ACL actions include filtering, forwarding, and modifying the protocol header fields</li></ul></td></tr></tbody></table></div><h1 id="CRS1xxand2xxseriesswitches-CloudRouterSwitchmodels"><span class="mw-headline">Cloud Router Switch models</span></h1><hr/><p>This table clarifies the main differences between Cloud Router Switch models.</p><div class="table-wrap"><table class="wrapped confluenceTable" style="text-align: center;"><tbody><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong title=""><u>Model</u></strong></td><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong title="">Switch Chip</strong></td><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong title="">CPU</strong></td><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong title="">Wireless</strong></td><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong title="">SFP+ port</strong></td><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong title="">Access Control List</strong></td><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong title="">Jumbo Frame (Bytes)</strong></td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong>CRS105-5S-FB</strong></td><td class="confluenceTd">QCA-8511</td><td class="confluenceTd">400MHz</td><td class="confluenceTd">-</td><td class="confluenceTd">-</td><td class="confluenceTd">+</td><td class="confluenceTd">9204</td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong>CRS106-1C-5S</strong></td><td class="confluenceTd">QCA-8511</td><td class="confluenceTd">400MHz</td><td class="confluenceTd">-</td><td class="confluenceTd">-</td><td class="confluenceTd">+</td><td class="confluenceTd">9204</td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong>CRS112-8G-4S</strong></td><td class="confluenceTd">QCA-8511</td><td class="confluenceTd">400MHz</td><td class="confluenceTd">-</td><td class="confluenceTd">-</td><td class="confluenceTd">+</td><td class="confluenceTd">9204</td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong>CRS210-8G-2S+</strong></td><td class="confluenceTd">QCA-8519</td><td class="confluenceTd">400MHz</td><td class="confluenceTd">-</td><td class="confluenceTd">+</td><td class="confluenceTd">+</td><td class="confluenceTd">9204</td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong>CRS212-1G-10S-1S+</strong></td><td class="confluenceTd">QCA-8519</td><td class="confluenceTd">400MHz</td><td class="confluenceTd">-</td><td class="confluenceTd">+</td><td class="confluenceTd">+</td><td class="confluenceTd">9204</td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong>CRS226-24G-2S+</strong></td><td class="confluenceTd">QCA-8519</td><td class="confluenceTd">400MHz</td><td class="confluenceTd">-</td><td class="confluenceTd">+</td><td class="confluenceTd">+</td><td class="confluenceTd">9204</td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong>CRS125-24G-1S</strong></td><td class="confluenceTd">QCA-8513L</td><td class="confluenceTd">600MHz</td><td class="confluenceTd">-</td><td class="confluenceTd">-</td><td class="confluenceTd">-</td><td class="confluenceTd">4064</td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong>CRS125-24G-1S-2HnD</strong></td><td class="confluenceTd">QCA-8513L</td><td class="confluenceTd">600MHz</td><td class="confluenceTd">+</td><td class="confluenceTd">-</td><td class="confluenceTd">-</td><td class="confluenceTd">4064</td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong>CRS109-8G-1S-2HnD</strong></td><td class="confluenceTd">QCA-8513L</td><td class="confluenceTd">600MHz</td><td class="confluenceTd">+</td><td class="confluenceTd">-</td><td class="confluenceTd">-</td><td class="confluenceTd">4064</td></tr></tbody></table></div><h1 id="CRS1xxand2xxseriesswitches-AbbreviationsandExplanations"><span class="mw-headline">Abbreviations and Explanations</span></h1><hr/><p>CVID - Customer VLAN id: inner VLAN tag id of the IEEE 802.1ad frame</p><p>SVID - Service VLAN id: outer VLAN tag id of the IEEE 802.1ad frame</p><p>IVL - Independent VLAN learning - learning/lookup is based on both MAC addresses and VLAN IDs.</p><p>SVL - Shared VLAN learning - learning/lookup is based on MAC addresses - not on VLAN IDs.</p><p>TPID - Tag Protocol Identifier</p><p>PCP - Priority Code Point: a 3-bit field which refers to the IEEE 802.1p priority</p><p>DEI - Drop Eligible Indicator</p><p>DSCP - Differentiated services Code Point</p><p>Drop precedence - internal CRS switch QoS attribute used for packet enqueuing or dropping.</p><h1 id="CRS1xxand2xxseriesswitches-PortSwitching"><span class="mw-headline">Port Switching</span></h1><hr/><p>To set up port switching on CRS1xx/2xx series switches, check the<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-BridgeHardwareOffloading" rel="nofollow">Bridge Hardware Offloading</a><span> </span>page.</p><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Dynamic reserved VLAN entries (VLAN4091; VLAN4090; VLAN4089; etc.) are created in the CRS switch when switched port groups are added when a hardware offloaded bridge is created. These VLANs are necessary for internal operation and have lower precedence than user-configured VLANs.</p></div></div><h2 id="CRS1xxand2xxseriesswitches-Multipleswitchgroups"><span class="mw-headline">Multiple switch groups</span></h2><p>The CRS1xx/2xx series switches allow you to use multiple bridges with hardware offloading, this allows you to easily isolate multiple switch groups. This can be done by simply creating multiple bridges and enabling hardware offloading.</p><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Multiple hardware offloaded bridge configuration is designed as a fast and simple port isolation solution, but it limits a part of the VLAN functionality supported by the CRS switch chip. For advanced configurations use one bridge within the CRS switch chip for all ports, configure VLANs, and isolate port groups with port isolation profile configuration.</p></div></div><p><br/></p><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>CRS1xx/2xx series switches can run multiple hardware offloaded bridges with (R)STP enabled, but it is not recommended since the device is not designed to run multiple (R)STP instances on a hardware level. To isolate multiple switch groups and have (R)STP enabled you should isolate port groups with port isolation profile configuration.</p></div></div><h1 id="CRS1xxand2xxseriesswitches-GlobalSettings"><span class="mw-headline">Global Settings</span></h1><hr/><p><span class="mw-headline">The CRS switch chip is configurable from the<span> </span><span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>/interface ethernet switch</code></span><span> </span>console menu.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>name</strong><span> </span>(<em>string value</em>; Default:<span> </span><strong>switch1</strong>)</td><td class="confluenceTd">Name of the switch.</td></tr><tr><td class="confluenceTd"><strong>bridge-type</strong><span> </span>(<em>customer-vid-used-as-lookup-vid | service-vid-used-as-lookup-vid</em>; Default:<span> </span><strong>customer-vid-used-as-lookup-vid</strong>)</td><td class="confluenceTd">The bridge type defines which VLAN tag is used as Lookup-VID. Lookup-VID serves as the VLAN key for all VLAN-based lookups.</td></tr><tr><td class="confluenceTd"><strong>mac-level-isolation</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Globally enables or disables MAC level isolation. Once enabled, the switch will check the source and destination MAC address entries and their<span> </span><code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">isolation-profile</span></code><span> </span>from the unicast forwarding table. By default, the switch will learn MAC addresses and place them into a<span> </span><span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>promiscuous</code></span><span> </span>isolation profile. Other isolation profiles can be used when creating static unicast entries. If the source or destination MAC address is located on a<span> </span><span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>promiscuous</code></span><span> </span>isolation profile, the packet is forwarded. If both source and destination MAC addresses are located on the same<span> </span><span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>community1</code></span><span> </span>or<span> </span><span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>community2</code></span><span> </span>isolation profile, the packet is forwarded. The packet is dropped when the source and destination MAC address isolation profile is<span> </span><span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>isolated</code></span>, or when the source and destination MAC address isolation profiles are from different communities (e.g. source MAC address is<span> </span><span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>community1</code></span><span> </span>and destination MAC address is<span> </span><span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>community2</code></span>). When MAC level isolation is globally disabled, the isolation is bypassed.</td></tr><tr><td class="confluenceTd"><strong>use-svid-in-one2one-vlan-lookup</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Whether to use service VLAN ID for 1:1 VLAN switching lookup.</td></tr><tr><td class="confluenceTd"><strong>use-cvid-in-one2one-vlan-lookup</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Whether to use customer VLAN ID for 1:1 VLAN switching lookup.</td></tr><tr><td class="confluenceTd"><strong>multicast-lookup-mode</strong><p>(<em>dst-ip-and-vid-for-ipv4 | dst-mac-and-vid-always</em>;</p>Default:<strong>dst-ip-and-vid-for-ipv4</strong>)</td><td class="confluenceTd">Lookup mode for IPv4 multicast bridging.<ul class="bullets"><li>dst-mac-and-vid-always<span> </span>- For all packet types lookup key is the destination MAC and VLAN ID.</li><li>dst-ip-and-vid-for-ipv4<span> </span>- For IPv4 packets lookup key is the destination IP and VLAN ID. For other packet types, the lookup key is the destination MAC and VLAN ID.</li></ul></td></tr><tr><td class="confluenceTd"><strong>unicast-fdb-timeout</strong><span> </span>(<em>time interval</em>; Default:<span> </span><strong>5m</strong>)</td><td class="confluenceTd">Timeout for Unicast FDB entries.</td></tr><tr><td class="confluenceTd"><strong>override-existing-when-ufdb-full</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enable or disable to override existing entry which has the lowest aging value when UFDB is full.</td></tr></tbody></table></div><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>drop-if-no-vlan-assignment-on-ports</strong><span> </span>(<em>ports</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Ports which drop frames if no MAC-based, Protocol-based VLAN assignment or Ingress VLAN Translation is applied.</td></tr><tr><td class="confluenceTd"><strong>drop-if-invalid-or-src-port-<br/>-not-member-of-vlan-on-ports</strong><br/>(<em>ports</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Ports that drop invalid and other port VLAN ID frames.</td></tr><tr><td class="confluenceTd"><strong>unknown-vlan-lookup-mode</strong><span> </span>(<em>ivl | svl</em>; Default:<span> </span><strong>svl</strong>)</td><td class="confluenceTd">Lookup and learning mode for packets with invalid VLAN.</td></tr><tr><td class="confluenceTd"><strong>forward-unknown-vlan</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Whether to allow forwarding VLANs that are not members of the VLAN table.</td></tr></tbody></table></div><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>bypass-vlan-ingress-filter-for</strong><span> </span>(<em>protocols</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Protocols that are excluded from Ingress VLAN filtering. These protocols are not dropped if they have invalid VLAN. (arp, dhcpv4, dhcpv6,<br/>eapol, igmp, mld, nd, pppoe-discovery, ripv1)</td></tr><tr><td class="confluenceTd"><strong>bypass-ingress-port-policing-for</strong><span> </span>(<em>protocols</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Protocols that are excluded from Ingress Port Policing. (arp, dhcpv4, dhcpv6, eapol, igmp, mld, nd, pppoe-discovery, ripv1)</td></tr><tr><td class="confluenceTd"><strong>bypass-l2-security-check-filter-for</strong><span> </span>(<em>protocols</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Protocols that are excluded from Policy rule security check. (arp, dhcpv4, dhcpv6, eapol, igmp, mld, nd, pppoe-discovery, ripv1)</td></tr></tbody></table></div><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>ingress-mirror0</strong><span> </span>(<em>port | trunk,format</em>; Default:<span> </span><strong>none,modified</strong>)</td><td class="confluenceTd">The first ingress mirroring analyzer port or trunk and mirroring format:<ul class="bullets"><li>analyzer-configured<span> </span>- The packet is the same as the packet to the destination. VLAN format is modified based on the VLAN configurations of the analyzer port.</li><li>modified<span> </span>- The packet is the same as the packet to the destination. VLAN format is modified based on the VLAN configurations of the egress port.</li><li>original<span> </span>- Traffic is mirrored without any change to the original incoming packet format. But the service VLAN tag is stripped in the edge port.</li></ul></td></tr><tr><td class="confluenceTd"><strong>ingress-mirror1</strong><span> </span>(<em>port | trunk,format</em>; Default:<span> </span><strong>none,modified</strong>)</td><td class="confluenceTd">The second ingress mirroring analyzer port or trunk and mirroring format:<ul class="bullets"><li>analyzer-configured<span> </span>- The packet is the same as the packet to the destination. VLAN format is modified based on the VLAN configurations of the analyzer port.</li><li>modified<span> </span>- The packet is the same as the packet to the destination. VLAN format is modified based on the VLAN configurations of the egress port.</li><li>original<span> </span>- Traffic is mirrored without any change to the original incoming packet format. But the service VLAN tag is stripped in the edge port.</li></ul></td></tr><tr><td class="confluenceTd"><strong>ingress-mirror-ratio</strong><span> </span>(<em>1/32768..1/1</em>; Default:<span> </span><strong>1/1</strong>)</td><td class="confluenceTd">The proportion of ingress mirrored packets compared to all packets.</td></tr><tr><td class="confluenceTd"><strong>egress-mirror0</strong><span> </span>(<em>port | trunk,format</em>; Default:<span> </span><strong>none,modified</strong>)</td><td class="confluenceTd">The first egress mirroring analyzer port or trunk and mirroring format:<ul class="bullets"><li>analyzer-configured<span> </span>- The packet is the same as the packet to the destination. VLAN format is modified based on the VLAN configurations of the analyzer port.</li><li>modified<span> </span>- The packet is the same as the packet to the destination. VLAN format is modified based on the VLAN configurations of the egress port.</li><li>original<span> </span>- Traffic is mirrored without any change to the original incoming packet format. But the service VLAN tag is stripped in the edge port.</li></ul></td></tr><tr><td class="confluenceTd"><strong>egress-mirror1</strong><span> </span>(<em>port | trunk,format</em>; Default:<span> </span><strong>none,modified</strong>)</td><td class="confluenceTd">The second egress mirroring analyzer port or trunk and mirroring format:<ul class="bullets"><li>analyzer-configured<span> </span>- The packet is the same as the packet to the destination. VLAN format is modified based on the VLAN configurations of the analyzer port.</li><li>modified<span> </span>- The packet is the same as the packet to the destination. VLAN format is modified based on the VLAN configurations of the egress port.</li><li>original<span> </span>- Traffic is mirrored without any change to the original incoming packet format. But the service VLAN tag is stripped in the edge port.</li></ul></td></tr><tr><td class="confluenceTd"><strong>egress-mirror-ratio</strong><span> </span>(<em>1/32768..1/1</em>; Default:<span> </span><strong>1/1</strong>)</td><td class="confluenceTd">Proportion of egress mirrored packets compared to all packets.</td></tr><tr><td class="confluenceTd"><strong>mirror-egress-if-ingress-mirrored</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">When a packet is applied to both ingress and egress mirroring, only ingress mirroring is performed on the packet, if this setting is disabled. If this<br/>setting is enabled both mirroring types are applied.</td></tr><tr><td class="confluenceTd"><strong>mirror-tx-on-mirror-port</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><strong>mirrored-packet-qos-priority</strong><span> </span>(<em>0..7</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Remarked priority in mirrored packets.</td></tr><tr><td class="confluenceTd"><strong>mirrored-packet-drop-precedence</strong><span> </span>(<em>drop | green | red | yellow</em>; Default:<span> </span><strong>green</strong>)</td><td class="confluenceTd">Remarked drop precedence in mirrored packets. This QoS attribute is used for mirrored packet enqueuing or dropping.</td></tr><tr><td class="confluenceTd"><strong>fdb-uses</strong><span> </span>(<em>mirror0 | mirror1</em>; Default:<span> </span><strong>mirror0</strong>)</td><td class="confluenceTd">Analyzer port used for FDB-based mirroring.</td></tr><tr><td class="confluenceTd"><strong>vlan-uses</strong><span> </span>(<em>mirror0 | mirror1</em>; Default:<span> </span><strong>mirror0</strong>)</td><td class="confluenceTd">Analyzer port used for VLAN-based mirroring.</td></tr></tbody></table></div><h1 id="CRS1xxand2xxseriesswitches-PortSettings"><span class="mw-headline">Port Settings</span></h1><hr/><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch port</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>vlan-type</strong><span> </span>(<em>edge-port | network-port</em>; Default:<span> </span><strong>network-port</strong>)</td><td class="confluenceTd">Port VLAN type specifies whether VLAN ID is used in UFDB learning. The network port learns VLAN ID in UFDB, edge port does not - VLAN 0. It can be observed only in IVL learning mode.</td></tr><tr><td class="confluenceTd"><strong>isolation-leakage-profile-override</strong><span> </span>(<em>yes | no</em>; Default:<p><strong>!isolation-leakage-profile-override</strong>)</p><strong>isolation-leakage-profile</strong><span> </span>(<em>0..31</em>;)</td><td class="confluenceTd">Custom port profile for port isolation/leakage configurations.<ul class="bullets"><li>Port-level isolation profile 0. Uplink port - allows the port to communicate with all ports in the device.</li><li>Port-level isolation profile 1. Isolated port - allows the port to communicate only with uplink ports.</li><li>Port-level isolation profile 2 - 31. Community port - allows communication among the same community ports and uplink ports.</li></ul></td></tr><tr><td class="confluenceTd"><strong>learn-override</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>!learn-override</strong>)<br/><strong>learn-limit</strong><span> </span>(<em>1..1023</em>; Default:<span> </span><strong>!learn-limit</strong>)</td><td class="confluenceTd">Enable or disable MAC address learning and set the MAC limit on the port. MAC learning limit is disabled by default when !learn-override and !learn-limit are set. Property<span> </span>learn-override<span> </span>is replaced with<span> </span>learn<span> </span>under<span> </span><span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>/interface bridge port</code></span><span> </span>menu since RouterOS v6.42.</td></tr><tr><td class="confluenceTd"><strong>drop-when-ufdb-entry-src-drop</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Enable or disable to drop packets when UFDB entry has action<span> </span>src-drop.</td></tr><tr><td class="confluenceTd"><strong>allow-unicast-loopback</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Unicast loopback on port. When enabled, it permits sending back when the source port and destination port are the same for known unicast packets.</td></tr><tr><td class="confluenceTd"><strong>allow-multicast-loopback</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Multicast loopback on port. When enabled, it permits sending back when the source port and destination port are the same for registered multicast or broadcast packets.</td></tr><tr><td class="confluenceTd"><strong>action-on-static-station-move</strong><span> </span>(<em>copy-to-cpu | drop | forward | redirect-to-cpu</em>; Default:<span> </span><strong>forward</strong>)</td><td class="confluenceTd">Action for packets when UFDB already contains a static entry with such MAC but with a different port.</td></tr><tr><td class="confluenceTd"><strong>drop-dynamic-mac-move</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Prevents MAC relearning until UFDB timeout if MAC is already learned on another port.</td></tr></tbody></table></div><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>allow-fdb-based-vlan-translate</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enable or disable MAC-based VLAN translation on the port.</td></tr><tr><td class="confluenceTd"><strong>allow-mac-based-service-vlan-assignment-for</strong><span> </span>(<em>all-frames | none |</em><p><em>tagged-frame-only | untagged-and-priority-tagged-frame-only</em>; Default:</p><strong>none</strong>)</td><td class="confluenceTd">Frame type for which applies MAC-based service VLAN translation.</td></tr><tr><td class="confluenceTd"><strong>allow-mac-based-customer-vlan-assignment-for</strong><span> </span>(<em>all-frames | none |</em><p><em>tagged-frame-only | untagged-and-priority-tagged-frame-only</em>; Default:</p><strong>none</strong>)</td><td class="confluenceTd">Frame type for which applies MAC-based customer VLAN translation.</td></tr><tr><td class="confluenceTd"><strong>default-customer-pcp</strong><span> </span>(<em>0..7</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Default customer PCP of the port.</td></tr><tr><td class="confluenceTd"><strong>default-service-pcp</strong><span> </span>(<em>0..7</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Default service PCP of the port.</td></tr><tr><td class="confluenceTd"><strong>pcp-propagation-for-initial-pcp</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables PCP propagation for initial PCP assignment on ingress.<ul class="bullets"><li>If the port<span> </span>vlan-type<span> </span>is Edge port, the service PCP is copied from the customer PCP.</li><li>If the port<span> </span>vlan-type<span> </span>is a Network port, the customer PCP is copied from the service PCP.</li></ul></td></tr><tr><td class="confluenceTd"><strong>filter-untagged-frame</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Whether to filter untagged frames on the port.</td></tr><tr><td class="confluenceTd"><strong>filter-priority-tagged-frame</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Whether to filter tagged frames with priority on the port.</td></tr><tr><td class="confluenceTd"><strong>filter-tagged-frame</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Whether to filter tagged frames on the port.</td></tr></tbody></table></div><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>egress-vlan-tag-table-lookup-key</strong><span> </span>(<em>according-to-bridge-type | egress-vid</em>; Default:<span> </span><strong>egress-vid</strong>)</td><td class="confluenceTd">Egress VLAN table (VLAN Tagging) lookup:<ul class="bullets"><li>egress-vid<span> </span>- Lookup VLAN ID is CVID when Edge port is configured, SVID when Network port is configured.</li><li>according-to-bridge-type<span> </span>- Lookup VLAN ID is CVID when customer VLAN bridge is configured, SVID when service VLAN bridge is configured. The Customer tag is unmodified for Edge port in service VLAN bridge.</li></ul></td></tr><tr><td class="confluenceTd"><strong>egress-vlan-mode</strong><span> </span>(<em>tagged | unmodified | untagged</em>; Default:<span> </span><strong>unmodified</strong>)</td><td class="confluenceTd">Egress VLAN tagging action on the port.</td></tr><tr><td class="confluenceTd"><strong>egress-pcp-propagation</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables egress PCP propagation.<ul class="bullets"><li>If the port<span> </span>vlan-type<span> </span>is Edge port, the service PCP is copied from the customer PCP.</li><li>If the port<span> </span>vlan-type<span> </span>is Network port, the customer PCP is copied from the service PCP.</li></ul></td></tr></tbody></table></div><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>ingress-mirror-to</strong><span> </span>(<em>mirror0 | mirror1 | none</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Analyzer port for port-based ingress mirroring.</td></tr><tr><td class="confluenceTd"><strong>ingress-mirroring-according-to-vlan</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><strong>egress-mirror-to</strong><span> </span>(<em>mirror0 | mirror1 | none</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Analyzer port for port-based egress mirroring.</td></tr></tbody></table></div><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>qos-scheme-precedence</strong><span> </span>(<em>da-based | dscp-based | ingress-acl-based | pcp-based | protocol-based | sa-based | vlan-based</em>; Default:<span> </span><strong>pcp-based, sa-based, da-based, dscp-based, protocol-based, vlan-based</strong>)</td><td class="confluenceTd">Specifies applied QoS assignment schemes on the ingress of the port.<ul class="bullets"><li>da-based</li><li>dscp-based</li><li>ingress-acl-based</li><li>pcp-based</li><li>protocol-based</li><li>sa-based</li><li>vlan-based</li></ul></td></tr><tr><td class="confluenceTd"><strong>pcp-or-dscp-based-qos-change-dei</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enable or disable PCP or DSCP based DEI change on port.</td></tr><tr><td class="confluenceTd"><strong>pcp-or-dscp-based-qos-change-pcp</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enable or disable PCP or DSCP based PCP change on port.</td></tr><tr><td class="confluenceTd"><strong>pcp-or-dscp-based-qos-change-dscp</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enable or disable PCP or DSCP based DSCP change on port.</td></tr><tr><td class="confluenceTd"><strong>dscp-based-qos-dscp-to-dscp-mapping</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Enable or disable DSCP to internal DSCP mapping on port.</td></tr><tr><td class="confluenceTd"><strong>pcp-based-qos-drop-precedence-mapping</strong><span> </span>(<em>PCP/DEI-range:drop-precedence</em>; Default:<span> </span><strong>0-15:green</strong>)</td><td class="confluenceTd">The new value of drop precedence for the PCP/DEI to drop precedence (drop | green | red | yellow) mapping. Multiple mappings are allowed separated by a comma e.g. &quot;0-7:yellow,8-15:red&quot;.</td></tr><tr><td class="confluenceTd"><strong>pcp-based-qos-dscp-mapping</strong><span> </span>(<em>PCP/DEI-range:DEI</em>; Default:<span> </span><strong>0-15:0</strong>)</td><td class="confluenceTd">The new value of DSCP for the PCP/DEI to DSCP (0..63) mapping. Multiple mappings are allowed separated by a comma e.g. &quot;0-7:25,8-15:50&quot;.</td></tr><tr><td class="confluenceTd"><strong>pcp-based-qos-dei-mapping</strong><span> </span>(<em>PCP/DEI-range:DEI</em>; Default:<span> </span><strong>0-15:0</strong>)</td><td class="confluenceTd">The new value of DEI for the PCP/DEI to DEI (0..1) mapping. Multiple mappings are allowed separated by a comma e.g. &quot;0-7:0,8-15:1&quot;.</td></tr><tr><td class="confluenceTd"><strong>pcp-based-qos-pcp-mapping</strong><span> </span>(<em>PCP/DEI-range:DEI</em>; Default:<span> </span><strong>0-15:0</strong>)</td><td class="confluenceTd">The new value of PCP for the PCP/DEI to PCP (0..7) mapping. Multiple mappings are allowed separated by a comma e.g. &quot;0-7:3,8-15:4&quot;.</td></tr><tr><td class="confluenceTd"><strong>pcp-based-qos-priority-mapping</strong><span> </span>(<em>PCP/DEI-range:DEI</em>; Default:<span> </span><strong>0-15:0</strong>)</td><td class="confluenceTd">The new value of internal priority for the PCP/DEI to priority (0..15) mapping. Multiple mappings are allowed separated by a comma e.g. &quot;0-7:5,8-15:15&quot;.</td></tr></tbody></table></div><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>priority-to-queue</strong><span> </span>(<em>priority-range:queue</em>; Default:<span> </span><strong>0-15:0,1:1,2:2,3:3</strong>)</td><td class="confluenceTd">Internal priority (0..15) mapping to queue (0..7) per port.</td></tr><tr><td class="confluenceTd"><strong>per-queue-scheduling</strong><span> </span>(<em>Scheduling-type:Weight</em>;<p>Default:<span> </span><strong>wrr-group0:1,wrr-group0:2,wrr-group0:4,wrr-group0:8,wrr-group0:16,wrr-group0:32,</strong></p><strong>wrr-group0:64,wrr-group0:128</strong>)</td><td class="confluenceTd">Set port to use either strict or weighted round robin policy for traffic shaping for each queue group, each queue is separated by a comma.</td></tr></tbody></table></div><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>ingress-customer-tpid-override</strong><span> </span>(<em>yes | no</em>;<p>Default:<strong>!ingress-customer-tpid-override</strong>)</p><strong>ingress-customer-tpid</strong><span> </span>(<em>0..10000</em>; Default:<span> </span><strong>0x8100</strong>)</td><td class="confluenceTd">Ingress customer TPID override allows accepting specific frames with a custom customer tag TPID. The default value is for the tag of 802.1Q frames.</td></tr><tr><td class="confluenceTd"><strong>egress-customer-tpid-override</strong><span> </span>(<em>yes | no</em>; Default:<p><strong>!egress-customer-tpid-override</strong>)<br/><strong>egress-customer-tpid</strong><span> </span>(<em>0..10000</em>; Default:</p><strong>0x8100</strong>)</td><td class="confluenceTd">Egress customer TPID override allows custom identification for egress frames with a customer tag. The default value is for the tag of 802.1Q frames.</td></tr><tr><td class="confluenceTd"><strong>ingress-service-tpid-override</strong><span> </span>(<em>yes | no</em>; Default:<p><strong>!ingress-service-tpid-override</strong>)</p><strong>ingress-service-tpid</strong><span> </span>(<em>0..10000</em>; Default:<span> </span><strong>0x88A8</strong>)</td><td class="confluenceTd">Ingress service TPID override allows accepting specific frames with a custom service tag TPID. The default value is for the service tag of 802.1AD frames.</td></tr><tr><td class="confluenceTd"><strong>egress-service-tpid-override</strong><span> </span>(<em>yes | no</em>; Default:<p><strong>!egress-service-tpid-override</strong>)<br/><strong>egress-service-tpid</strong><span> </span>(<em>0..10000</em>; Default:</p><strong>0x88A8</strong>)</td><td class="confluenceTd">Egress service TPID override allows custom identification for egress frames with a service tag. The default value is for the service tag of 802.1AD frames.</td></tr></tbody></table></div><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>custom-drop-counter-includes</strong><span> </span>(<em>counters</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Custom include to count dropped packets for switch port<span> </span>custom-drop-packet<span> </span>counter.<ul><li><strong>device-loopback</strong></li><li><strong>fdb-hash-violation</strong></li><li><strong>exceeded-port-learn-limitation</strong></li><li><strong>dynamic-station-move</strong></li><li><strong>static-station-move</strong></li><li><strong>ufdb-source-drop</strong></li><li><strong>host-source-drop</strong></li><li><strong>unknown-host</strong></li><li><strong>ingress-vlan-filtered</strong></li></ul></td></tr><tr><td class="confluenceTd"><strong>queue-custom-drop-counter0-includes</strong><span> </span>(<em>counters</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Custom include to count dropped packets for switch port<span> </span>tx-queue-custom0-drop-packet<p>and bytes for<span> </span>tx-queue-custom0-drop-byte<span> </span>counters.</p><ul><li><strong>red</strong></li><li><strong>yellow</strong></li><li><strong>green</strong></li><li><strong>queue0</strong></li><li><strong>...</strong></li><li><strong>queue7</strong></li></ul></td></tr><tr><td class="confluenceTd"><strong>queue-custom-drop-counter1-includes</strong><span> </span>(<em>counters</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Custom include to count dropped packets for switch port<span> </span>tx-queue-custom1-drop-packet<p>and bytes for<span> </span>tx-queue-custom1-drop-byte<span> </span>counters.</p><ul><li><strong>red</strong></li><li><strong>yellow</strong></li><li><strong>green</strong></li><li><strong>queue0</strong></li><li><strong>...</strong></li><li><strong>queue7</strong></li></ul></td></tr><tr><td class="confluenceTd"><strong>policy-drop-counter-includes</strong><span> </span>(<em>counters</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Custom include to count dropped packets for switch port<span> </span>policy-drop-packet<span> </span>counter.<ul><li><strong>ingress-policing</strong></li><li><strong>ingress-acl</strong></li><li><strong>egress-policing</strong></li><li><strong>egress-acl</strong></li></ul></td></tr></tbody></table></div><h1 id="CRS1xxand2xxseriesswitches-ForwardingDatabases"><span class="mw-headline">Forwarding Databases</span></h1><hr/><h2 id="CRS1xxand2xxseriesswitches-UnicastFDB"><span class="mw-headline">Unicast FDB</span></h2><p><span class="mw-headline">The unicast forwarding database supports up to 16318 MAC entries.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch unicast-fdb</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>action</strong><span> </span>(<em>action</em>; Default:<span> </span><strong>forward</strong>)</td><td class="confluenceTd">Action for UFDB entry:<ul class="bullets"><li>dst-drop<span> </span>- Packets are dropped when their destination MAC matches the entry.</li><li>dst-redirect-to-cpu<span> </span>- Packets are redirected to the CPU when their destination MAC matches the entry.</li><li>forward<span> </span>- Packets are forwarded.</li><li>src-and-dst-drop<span> </span>- Packets are dropped when their source MAC or destination MAC matches the entry.</li><li>src-and-dst-redirect-to-cpu<span> </span>- Packets are redirected to CPU when their source MAC or destination MAC matches the entry.</li><li>src-drop<span> </span>- Packets are dropped when their source MAC matches the entry.</li><li>src-redirect-to-cpu<span> </span>- Packets are redirected to the CPU when their source MAC matches the entry.</li></ul></td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables Unicast FDB entry.</td></tr><tr><td class="confluenceTd"><strong>isolation-profile</strong><span> </span>(<em>community1 | community2 | isolated | promiscuous</em>; Default:<span> </span><strong>promiscuous</strong>)</td><td class="confluenceTd">MAC level isolation profile.</td></tr><tr><td class="confluenceTd"><strong>mac-address</strong><span> </span>(<em>MAC address</em>)</td><td class="confluenceTd">The<span> </span>action<span> </span>command applies to the packet when the destination MAC or source MAC matches the entry.</td></tr><tr><td class="confluenceTd"><strong>mirror</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables mirroring based on source MAC or destination MAC.</td></tr><tr><td class="confluenceTd"><strong>port</strong><span> </span>(<em>port</em>)</td><td class="confluenceTd">Matching port for the Unicast FDB entry.</td></tr><tr><td class="confluenceTd"><strong>qos-group</strong><span> </span>(<em>none</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Defined QoS group from<span> </span>QoS group<span> </span>menu.</td></tr><tr><td class="confluenceTd"><strong>svl</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Unicast FDB learning mode:<ul class="bullets"><li>Shared VLAN Learning (svl) - learning/lookup is based on MAC addresses - not on VLAN IDs.</li><li>Independent VLAN Learning (ivl) - learning/lookup is based on both MAC addresses and VLAN IDs.</li></ul></td></tr><tr><td class="confluenceTd"><strong>vlan-id</strong><span> </span>(<em>0..4095</em>)</td><td class="confluenceTd">Unicast FDB lookup/learning VLAN id.</td></tr></tbody></table></div><h2 id="CRS1xxand2xxseriesswitches-MulticastFDB"><span class="mw-headline">Multicast FDB</span></h2><p><span class="mw-headline">CRS125 switch-chip supports up to 1024 entries in MFDB for multicast forwarding. For each multicast packet, destination MAC or destination IP lookup is performed in MFDB. MFDB entries are not automatically learned and can only be configured.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch multicast-fdb</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>address</strong><span> </span>(<em>X.X.X.X | XX:XX:XX:XX:XX:XX</em>)</td><td class="confluenceTd">Matching IP address or MAC address for multicast packets.</td></tr><tr><td class="confluenceTd"><strong>bypass-vlan-filter</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Allow to bypass VLAN filtering for matching multicast packets.</td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables Multicast FDB entry.</td></tr><tr><td class="confluenceTd"><strong>ports</strong><span> </span>(<em>ports</em>)</td><td class="confluenceTd">Member ports for multicast traffic.</td></tr><tr><td class="confluenceTd"><strong>qos-group</strong><span> </span>(<em>none</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Defined QoS group from<span> </span>QoS group<span> </span>menu.</td></tr><tr><td class="confluenceTd"><strong>svl</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Multicast FDB learning mode:<ul class="bullets"><li>Shared VLAN Learning (svl) - learning/lookup is based on MAC addresses - not on VLAN IDs.</li><li>Independent VLAN Learning (ivl) - learning/lookup is based on both MAC addresses and VLAN IDs.</li></ul></td></tr><tr><td class="confluenceTd"><strong>vlan-id</strong><span> </span>(<em>0..4095</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Multicast FDB lookup VLAN ID. If the VLAN learning mode is IVL, VLAN id is lookup id, otherwise VLAN id = 0.</td></tr></tbody></table></div><h2 id="CRS1xxand2xxseriesswitches-ReservedFDB"><span class="mw-headline">Reserved FDB</span></h2><p><span class="mw-headline">Cloud Router Switch supports 256 RFDB entries. Each RFDB entry can store either Layer2 unicast or multicast MAC address with specific commands.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch reserved-fdb</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>action</strong><span> </span>(<em>copy-to-cpu | drop | forward | redirect-to-cpu</em>; Default:<span> </span><strong>forward</strong>)</td><td class="confluenceTd">Action for RFDB entry:<ul class="bullets"><li>copy-to-cpu<span> </span>- Packets are copied to the CPU when their destination MAC matches the entry.</li><li>drop<span> </span>- Packets are dropped when their destination MAC matches the entry.</li><li>forward<span> </span>- Packets are forwarded when their destination MAC matches the entry.</li><li>redirect-to-cpu<span> </span>- Packets are redirected to CPU when their destination MAC matches the entry.</li></ul></td></tr><tr><td class="confluenceTd"><strong>bypass-ingress-port-policing</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Allow to bypass Ingress Port Policer for matching packets.</td></tr><tr><td class="confluenceTd"><strong>bypass-ingress-vlan-filter</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Allow to bypass VLAN filtering for matching packets.</td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables Reserved FDB entry.</td></tr><tr><td class="confluenceTd"><strong>mac-address</strong><span> </span>(<em>MAC address</em>; Default:<span> </span><strong>00:00:00:00:00:00</strong>)</td><td class="confluenceTd">Matching MAC address for Reserved FDB entry.</td></tr><tr><td class="confluenceTd"><strong>qos-group</strong><span> </span>(<em>none</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Defined QoS group from<span> </span>QoS group<span> </span>menu.</td></tr></tbody></table></div><h1 id="CRS1xxand2xxseriesswitches-VLAN"><span class="mw-headline">VLAN</span></h1><hr/><h2 id="CRS1xxand2xxseriesswitches-VLANTable"><span class="mw-headline">VLAN Table</span></h2><p><span class="mw-headline">The VLAN table supports 4096 VLAN entries for storing VLAN member information as well as other VLAN information such as QoS, isolation, forced VLAN, learning, and mirroring.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch vlan</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Indicate whether the VLAN entry is disabled. Only enabled entry is applied to the lookup process and forwarding decision.</td></tr><tr><td class="confluenceTd"><strong>flood</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables forced VLAN flooding per VLAN. If the feature is<p>enabled, the result of the destination MAC lookup in the UFDB or MFDB is ignored,</p>and the packet is forced to flood in the VLAN.</td></tr><tr><td class="confluenceTd"><strong>ingress-mirror</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enable the ingress mirror per VLAN to support the VLAN-based mirror function.</td></tr><tr><td class="confluenceTd"><strong>learn</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Enables or disables source MAC learning for VLAN.</td></tr><tr><td class="confluenceTd"><strong>ports</strong><span> </span>(<em>ports</em>)</td><td class="confluenceTd">Member ports of the VLAN.</td></tr><tr><td class="confluenceTd"><strong>qos-group</strong><span> </span>(<em>none</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Defined QoS group from<span> </span>QoS group<span> </span>menu.</td></tr><tr><td class="confluenceTd"><strong>svl</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">FDB lookup mode for lookup in UFDB and MFDB.<ul class="bullets"><li>Shared VLAN Learning (svl) - learning/lookup is based on MAC addresses - not on VLAN IDs.</li><li>Independent VLAN Learning (ivl) - learning/lookup is based on both MAC addresses and VLAN IDs.</li></ul></td></tr><tr><td class="confluenceTd"><strong>vlan-id</strong><span> </span>(<em>0..4095</em>)</td><td class="confluenceTd">VLAN ID of the VLAN member entry.</td></tr></tbody></table></div><h2 id="CRS1xxand2xxseriesswitches-EgressVLANTag"><span class="mw-headline">Egress VLAN Tag</span></h2><p>Egress packets can be assigned different VLAN tag formats. The VLAN tags can be removed, added, or remained as is when the packet is sent to the egress port (destination port). Each port has dedicated control of the egress VLAN tag format. The tag formats include:</p><ul><li>Untagged</li><li>Tagged</li><li>Unmodified</li></ul><p>The Egress VLAN Tag table includes 4096 entries for VLAN tagging selection.</p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch egress-vlan-tag</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables Egress VLAN Tag table entry.</td></tr><tr><td class="confluenceTd"><strong>tagged-ports</strong><span> </span>(<em>ports</em>)</td><td class="confluenceTd">Ports that are tagged in egress.</td></tr><tr><td class="confluenceTd"><strong>vlan-id</strong><span> </span>(<em>0..4095</em>)</td><td class="confluenceTd">VLAN ID which is tagged in egress.</td></tr></tbody></table></div><h2 id="CRS1xxand2xxseriesswitches-Ingress/EgressVLANTranslation"><span class="mw-headline">Ingress/Egress VLAN Translation</span></h2><p>The Ingress VLAN Translation table allows for up to 15 entries for each port. One or multiple fields can be selected from the packet header for lookup in the Ingress VLAN Translation table. The S-VLAN or C-VLAN or both configured in the first matched entry are assigned to the packet.</p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch ingress-vlan-translation</code></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch egress-vlan-translation</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>customer-dei</strong><span> </span>(<em>0..1</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Matching DEI of the customer tag.</td></tr><tr><td class="confluenceTd"><strong>customer-pcp</strong><span> </span>(<em>0..7</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Matching PCP of the customer tag.</td></tr><tr><td class="confluenceTd"><strong>customer-vid</strong><span> </span>(<em>0..4095</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Matching the VLAN ID of the customer tag.</td></tr><tr><td class="confluenceTd"><strong>customer-vlan-format</strong><span> </span>(<em>any | priority-tagged-or-tagged | tagged | untagged-or-tagged</em>; Default:<strong>any</strong>)</td><td class="confluenceTd">Type of frames with customer tag for which VLAN translation rule is valid.</td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables VLAN translation entry.</td></tr><tr><td class="confluenceTd"><strong>new-customer-vid</strong><span> </span>(<em>0..4095</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">The new customer VLAN ID replaces the matching customer VLAN ID. If set to 4095 and ingress VLAN translation is used, then traffic is dropped.</td></tr><tr><td class="confluenceTd"><strong>new-service-vid</strong><span> </span>(<em>0..4095</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">The new service VLAN ID replaces the matching service VLAN ID.</td></tr><tr><td class="confluenceTd"><strong>pcp-propagation</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables PCP propagation.<ul class="bullets"><li>If the port type is Edge, the customer PCP is copied from the service PCP.</li><li>If the port type is Network, the service PCP is copied from the customer PCP.</li></ul></td></tr><tr><td class="confluenceTd"><strong>ports</strong><span> </span>(<em>ports</em>)</td><td class="confluenceTd">Matching switch ports for VLAN translation rule.</td></tr><tr><td class="confluenceTd"><strong>protocol</strong><span> </span>(<em>protocols</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Matching Ethernet protocol.<span> </span><em>(only for Ingress VLAN Translation)</em></td></tr><tr><td class="confluenceTd"><strong>sa-learning</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables source MAC learning after VLAN translation.<span> </span><em>(only for Ingress VLAN Translation)</em></td></tr><tr><td class="confluenceTd"><strong>service-dei</strong><span> </span>(<em>0..1</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Matching DEI of the service tag.</td></tr><tr><td class="confluenceTd"><strong>service-pcp</strong><span> </span>(<em>0..7</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Matching PCP of the service tag.</td></tr><tr><td class="confluenceTd"><strong>service-vid</strong><span> </span>(<em>0..4095</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Matching VLAN ID of the service tag.</td></tr><tr><td class="confluenceTd"><strong>service-vlan-format</strong><span> </span>(<em>any | priority-tagged-or-tagged | tagged | untagged-or-tagged</em>; Default:<strong>any</strong>)</td><td class="confluenceTd">Type of frames with service tag for which VLAN translation rule is valid.</td></tr></tbody></table></div><p>Below is a table of traffic that triggers a rule that has a certain VLAN format set, note that traffic that is tagged with VLAN ID 0 is a special case that is also taken into account.</p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>any</strong></td><td class="confluenceTd">Accepts:<ul><li>Untagged traffic</li><li>Tagged traffic</li><li>Tagged traffic with priority set</li><li>VLAN 0 traffic</li><li>VLAN 0 traffic with priority set</li></ul></td></tr><tr><td class="confluenceTd"><strong>priority-tagged-or-tagged</strong></td><td class="confluenceTd">Accepts:<ul><li>Tagged traffic</li><li>Tagged traffic with priority set</li><li>VLAN 0 traffic</li><li>VLAN 0 traffic with priority set</li></ul></td></tr><tr><td class="confluenceTd"><strong>tagged</strong></td><td class="confluenceTd">Accepts:<ul><li>Tagged traffic</li><li>Tagged traffic with priority set</li></ul></td></tr><tr><td class="confluenceTd"><strong>untagged-or-tagged</strong></td><td class="confluenceTd">Accepts:<ul><li>Untagged traffic</li><li>Tagged traffic</li><li>Tagged traffic with priority set</li></ul></td></tr></tbody></table></div><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>If <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>VLAN-format</code></span> is set to <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>any</code></span>, then <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>customer-vid</code></span><code>/</code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>service-vid</code> </span>set to <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>0</code></span> will trigger the switch rule with VLAN 0 traffic. In this case, the switch rule will be looking for untagged traffic or traffic with a VLAN 0 tag, and only <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>untagged-or-tagged</code></span> will filter out VLAN 0 traffic in this case.</p></div></div><h2 id="CRS1xxand2xxseriesswitches-ProtocolBasedVLAN"><span class="mw-headline">Protocol Based VLAN</span></h2><p><span class="mw-headline">Protocol Based VLAN table is used to assign VID and QoS attributes to related protocol packets per port.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch protocol-based-vlan</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables Protocol Based VLAN entry.</td></tr><tr><td class="confluenceTd"><strong>frame-type</strong><span> </span>(<em>ethernet | llc | rfc-1042</em>; Default:<span> </span><strong>ethernet</strong>)</td><td class="confluenceTd">Encapsulation type of the matching frames.</td></tr><tr><td class="confluenceTd"><strong>new-customer-vid</strong><span> </span>(<em>0..4095</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">The new customer VLAN ID replaces the original customer VLAN ID for the specified protocol. If set to 4095, then traffic is dropped.</td></tr><tr><td class="confluenceTd"><strong>new-service-vid</strong><span> </span>(<em>0..4095</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">The new service VLAN ID replaces the original service VLAN ID for the specified protocol.</td></tr><tr><td class="confluenceTd"><strong>ports</strong><span> </span>(<em>ports</em>)</td><td class="confluenceTd">Matching switch ports for Protocol-based VLAN rule.</td></tr><tr><td class="confluenceTd"><strong>protocol</strong><span> </span>(<em>protocol</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Matching protocol for Protocol-based VLAN rule.</td></tr><tr><td class="confluenceTd"><strong>qos-group</strong><span> </span>(<em>none</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Defined QoS group from<span> </span>QoS group<span> </span>menu.</td></tr><tr><td class="confluenceTd"><strong>set-customer-vid-for</strong><span> </span>(<em>all | none | tagged | untagged-or-priority-tagged</em>; Default:<span> </span><strong>all</strong>)</td><td class="confluenceTd">Customer VLAN ID assignment command for different packet types.</td></tr><tr><td class="confluenceTd"><strong>set-qos-for</strong><span> </span>(<em>all | none | tagged | untagged-or-priority-tagged</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Frame type for which QoS assignment command applies.</td></tr><tr><td class="confluenceTd"><strong>set-service-vid-for</strong><span> </span>(<em>all | none | tagged | untagged-or-priority-tagged</em>; Default:<span> </span><strong>all</strong>)</td><td class="confluenceTd">Service VLAN ID assignment command for different packet types.</td></tr></tbody></table></div><h2 id="CRS1xxand2xxseriesswitches-MACBasedVLAN"><span class="mw-headline">MAC Based VLAN</span></h2><p><span class="mw-headline">MAC Based VLAN table is used to assign VLAN based on the source MAC.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch mac-based-vlan</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables MAC Based VLAN entry.</td></tr><tr><td class="confluenceTd"><strong>new-customer-vid</strong><span> </span>(<em>0..4095</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">The new customer VLAN ID replaces the original service VLAN ID for matched packets. If set to 4095, then traffic is dropped.</td></tr><tr><td class="confluenceTd"><strong>new-service-vid</strong><span> </span>(<em>0..4095</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">The new service VLAN ID replaces the original service VLAN ID for matched packets.</td></tr><tr><td class="confluenceTd"><strong>src-mac-address</strong><span> </span>(<em>MAC address</em>)</td><td class="confluenceTd">Matching source MAC address for MAC based VLAN rule.</td></tr></tbody></table></div><p><br/></p><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>All CRS1xx/2xx series switches support up to 1024 MAC Based VLAN table entries.</p></div></div><h2 id="CRS1xxand2xxseriesswitches-1:1VLANSwitching"><span class="mw-headline">1:1 VLAN Switching</span></h2><p><span class="mw-headline">1:1 VLAN switching can be used to replace the regular L2 bridging for matched packets. When a packet hits a 1:1 VLAN switching table entry, the destination port information in the entry is assigned to the packet. The matched destination information in the UFDB and MFDB entry no longer applies to the packet.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch one2one-vlan-switching</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>customer-vid</strong><span> </span>(<em>0..4095</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Matching customer VLAN id for 1:1 VLAN switching.</td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables 1:1 VLAN switching table entry.</td></tr><tr><td class="confluenceTd"><strong>dst-port</strong><span> </span>(<em>port</em>)</td><td class="confluenceTd">Destination port for matched 1:1 VLAN switching packets.</td></tr><tr><td class="confluenceTd"><strong>service-vid</strong><span> </span>(<em>0..4095</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Matching customer VLAN id for 1:1 VLAN switching.</td></tr></tbody></table></div><h1 id="CRS1xxand2xxseriesswitches-PortIsolation/Leakage"><span class="mw-headline">Port Isolation/Leakage</span></h1><hr/><p><span style="letter-spacing: 0.0px;">The CRS switches support flexible multi-level isolation features, which can be used for user access control, traffic engineering and advanced security and network management. The isolation features provide an organized fabric structure allowing user to easily program and control the access by port, MAC address, VLAN, protocol, flow, and frame type. The following isolation and leakage features are supported:</span></p><ul><li>Port-level isolation</li><li>MAC-level isolation</li><li>VLAN-level isolation</li><li>Protocol-level isolation</li><li>Flow-level isolation</li><li>Free combination of the above</li></ul><p>Port-level isolation supports different control schemes on the source port and destination port. Each entry can be programmed with access control for either the source port or the destination port.</p><ul><li>When the entry is programmed with source port access control, the entry is</li></ul><p>applied to the ingress packets.</p><ul><li>When the entry is programmed with destination port access control, the entry</li></ul><p>is applied to the egress packets.</p><p>Port leakage allows bypassing egress VLAN filtering on the port. A leaky port is allowed to access other ports for various applications such as security, network control, and management. Note: When both isolation and leakage are applied to the same port, the port is isolated.</p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch port-isolation</code></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch port-leakage</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables port isolation/leakage entry.</td></tr><tr><td class="confluenceTd"><strong>flow-id</strong><span> </span>(<em>0..63</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><strong>forwarding-type</strong><span> </span>(<em>bridged; routed</em>; Default:<span> </span><strong>bridged,routed</strong>)</td><td class="confluenceTd">Matching traffic forwarding type on Cloud Router Switch.</td></tr><tr><td class="confluenceTd"><strong>mac-profile</strong><span> </span>(<em>community1 | community2 | isolated | promiscuous</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Matching MAC isolation/leakage profile.</td></tr><tr><td class="confluenceTd"><strong>port-profile</strong><span> </span>(<em>0..31</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Matching Port isolation/leakage profile.</td></tr><tr><td class="confluenceTd"><strong>ports</strong><span> </span>(<em>ports</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Isolated/leaked ports.</td></tr><tr><td class="confluenceTd"><strong>protocol-type</strong><span> </span>(<em>arp; nd; dhcpv4; dhcpv6; ripv1</em>; Default:<span> </span><strong>arp,nd,dhcpv4,dhcpv6,ripv1</strong>)</td><td class="confluenceTd">Included protocols for isolation/leakage.</td></tr><tr><td class="confluenceTd"><strong>registration-status</strong><span> </span>(<em>known; unknown</em>; Default:<span> </span><strong>known,unknown</strong>)</td><td class="confluenceTd">Registration status for matching packets. Known are present in UFDB and MFDB, and unknown are not.</td></tr><tr><td class="confluenceTd"><strong>traffic-type</strong><span> </span>(<em>unicast; multicast; broadcast</em>; Default:<span> </span><strong>unicast,multicast,broadcast</strong>)</td><td class="confluenceTd">Matching traffic type.</td></tr><tr><td class="confluenceTd"><strong>type</strong><span> </span>(<em>dst | src</em>; Default:<span> </span><strong>src</strong>)</td><td class="confluenceTd">Lookup type of the isolation/leakage entry:<ul class="bullets"><li>src<span> </span>- Entry applies to ingress packets of the ports.</li><li>dst<span> </span>- Entry applies to egress packets of the ports.</li></ul></td></tr><tr><td class="confluenceTd"><strong>vlan-profile</strong><span> </span>(<em>community1 | community2 | isolated | promiscuous</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Matching VLAN isolation/leakage profile.</td></tr></tbody></table></div><h1 id="CRS1xxand2xxseriesswitches-Trunking"><span class="mw-headline">Trunking</span></h1><hr/><p><span class="mw-headline">The Trunking in the Cloud Router Switches provides static link aggregation groups with hardware automatic failover and load balancing. IEEE802.3ad and IEEE802.1ax compatible Link Aggregation Control Protocol is not supported. Up to 8 Trunk groups are supported with up to 8 Trunk member ports per Trunk group. CRS Port Trunking calculates transmit-hash based on all following parameters: L2 src-dst MAC + L3 src-dst IP + L4 src-dst Port.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch trunk</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables port trunking entry.</td></tr><tr><td class="confluenceTd"><strong>member-ports</strong><span> </span>(<em>ports</em>)</td><td class="confluenceTd">Member ports of the Trunk group.</td></tr><tr><td class="confluenceTd"><strong>name</strong><span> </span>(<em>string value</em>; Default:<span> </span><strong>trunkX</strong>)</td><td class="confluenceTd">Name of the Trunk group.</td></tr></tbody></table></div><h1 id="CRS1xxand2xxseriesswitches-QualityofService"><span class="mw-headline">Quality of Service</span></h1><hr/><h2 id="CRS1xxand2xxseriesswitches-Shaper"><span class="mw-headline">Shaper</span></h2><p>Traffic shaping restricts the rate and burst size of the flow which is transmitted out from the interface. The shaper is implemented by a token bucket. If the packet exceeds the maximum rate or the burst size, which means not enough token for the packet, the packet is stored to buffer until there is enough token to transmit it.</p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch shaper</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>burst</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>100k</strong>)</td><td class="confluenceTd">Maximum data rate which can be transmitted while the burst is allowed.</td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables traffic shaper entry.</td></tr><tr><td class="confluenceTd"><strong>meter-unit</strong><span> </span>(<em>bit | packet</em>; Default:<span> </span><strong>bit</strong>)</td><td class="confluenceTd">Measuring units for traffic shaper rate.</td></tr><tr><td class="confluenceTd"><strong>port</strong><span> </span>(<em>port</em>)</td><td class="confluenceTd">Physical port for traffic shaper.</td></tr><tr><td class="confluenceTd"><strong>rate</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>1M</strong>)</td><td class="confluenceTd">Maximum data rate limit.</td></tr><tr><td class="confluenceTd"><strong>target</strong><span> </span>(<em>port | queueX | wrr-groupX</em>; Default:<span> </span><strong>port</strong>)</td><td class="confluenceTd">Three levels of shapers are supported on each port (including CPU port):<ul class="bullets"><li>Port level<span> </span>- Entry applies to the port of the switch-chip.</li><li>WRR group level<span> </span>- Entry applies to one of the 2 Weighted Round Robin queue groups (wrr-group0, wrr-group1) on the port.</li><li>Queue level<span> </span>- Entry applies to one of the 8 queues (queue0 - queue7) on the port.</li></ul></td></tr></tbody></table></div><h2 id="CRS1xxand2xxseriesswitches-IngressPortPolicer"><span class="mw-headline">Ingress Port Policer</span></h2><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch ingress-port-policer</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>burst</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>100k</strong>)</td><td class="confluenceTd">Maximum data rate which can be transmitted while the burst is allowed.</td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables ingress port policer entry.</td></tr><tr><td class="confluenceTd"><strong>meter-len</strong><span> </span>(<em>layer-1 | layer-2 | layer-3</em>; Default:<span> </span><strong>layer-1</strong>)</td><td class="confluenceTd">Packet classification which sets the packet byte length for metering.<ul class="bullets"><li>layer-1<span> </span>- includes entire layer-2 frame + FCS + inter-packet gap + preamble.</li><li>layer-2<span> </span>- includes layer-2 frame + FCS.</li><li>layer-3<span> </span>- includes only layer-3 + ethernet padding without layer-2 header and FCS.</li></ul></td></tr><tr><td class="confluenceTd"><strong>meter-unit</strong><span> </span>(<em>bit | packet</em>; Default:<span> </span><strong>bit</strong>)</td><td class="confluenceTd">Measuring units for traffic ingress port policer rate.</td></tr><tr><td class="confluenceTd"><strong>new-dei-for-yellow</strong><span> </span>(<em>0..1 | remap</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Remarked DEI for exceeded traffic if yellow-action is remark.</td></tr><tr><td class="confluenceTd"><strong>new-dscp-for-yellow</strong><span> </span>(<em>0..63 | remap</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Remarked DSCP for exceeded traffic if yellow-action is remark.</td></tr><tr><td class="confluenceTd"><strong>new-pcp-for-yellow</strong><span> </span>(<em>0..7 | remap</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Remarked PCP for exceeded traffic if yellow-action is remark.</td></tr><tr><td class="confluenceTd"><strong>packet-types</strong><span> </span>(<em>packet-types</em>; Default:<span> </span><strong>all types from description</strong>)</td><td class="confluenceTd">Matching packet types for which ingress port policer entry is valid.</td></tr><tr><td class="confluenceTd"><strong>port</strong><span> </span>(<em>port</em>)</td><td class="confluenceTd">Physical port or trunk for ingress port policer entry.</td></tr><tr><td class="confluenceTd"><strong>rate</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">Maximum data rate limit.</td></tr><tr><td class="confluenceTd"><strong>yellow-action</strong><span> </span>(<em>drop | forward | remark</em>; Default:<span> </span><strong>drop</strong>)</td><td class="confluenceTd">Performed action for exceeded traffic.</td></tr></tbody></table></div><h2 id="CRS1xxand2xxseriesswitches-QoSGroup"><span class="mw-headline">QoS Group</span></h2><p><span class="mw-headline">The global QoS group table is used for VLAN-based, Protocol-based, and MAC-based QoS group assignment configuration.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch qos-group</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>dei</strong><span> </span>(<em>0..1</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">The new value of DEI for the QoS group.</td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables protocol QoS group entry.</td></tr><tr><td class="confluenceTd"><strong>drop-precedence</strong><span> </span>(<em>drop | green | red | yellow</em>; Default:<span> </span><strong>green</strong>)</td><td class="confluenceTd">Drop precedence is an internal QoS attribute used for packet enqueuing or dropping.</td></tr><tr><td class="confluenceTd"><strong>dscp</strong><span> </span>(<em>0..63</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">The new value of DSCP for the QoS group.</td></tr><tr><td class="confluenceTd"><strong>name</strong><span> </span>(<em>string value</em>; Default:<span> </span><strong>groupX</strong>)</td><td class="confluenceTd">Name of the QoS group.</td></tr><tr><td class="confluenceTd"><strong>pcp</strong><span> </span>(<em>0..7</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">The new value of PCP for the QoS group.</td></tr><tr><td class="confluenceTd"><strong>priority</strong><span> </span>(<em>0..15</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Internal priority is a local significance of priority for classifying traffic to different egress queues on a port. (1 is highest, 15 is lowest)</td></tr></tbody></table></div><h2 id="CRS1xxand2xxseriesswitches-DSCPQoSMap"><span class="mw-headline">DSCP QoS Map</span></h2><p><span class="mw-headline">The global DSCP to QOS mapping table is used for mapping from the DSCP of the packet to new QoS attributes configured in the table.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch dscp-qos-map</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>dei</strong><span> </span>(<em>0..1</em>)</td><td class="confluenceTd">The new value of DEI for the DSCP to QOS mapping entry.</td></tr><tr><td class="confluenceTd"><strong>drop-precedence</strong><span> </span>(<em>drop | green | red | yellow</em>)</td><td class="confluenceTd">The new value of Drop precedence for the DSCP to QOS mapping entry.</td></tr><tr><td class="confluenceTd"><strong>pcp</strong><span> </span>(<em>0..7</em>)</td><td class="confluenceTd">The new value of PCP for the DSCP to QOS mapping entry.</td></tr><tr><td class="confluenceTd"><strong>priority</strong><span> </span>(<em>0..15</em>)</td><td class="confluenceTd">The new value of internal priority for the DSCP to QOS mapping entry.</td></tr></tbody></table></div><h2 id="CRS1xxand2xxseriesswitches-DSCPToDSCPMap"><span class="mw-headline">DSCP To DSCP Map</span></h2><p><span class="mw-headline">The global DSCP to DSCP mapping table is used for mapping from the packet's original DSCP to the new DSCP value configured in the table.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch dscp-to-dscp</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>new-dscp</strong><span> </span>(<em>0..63</em>)</td><td class="confluenceTd">The new value of DSCP for the DSCP to DSCP mapping entry.</td></tr></tbody></table></div><h2 id="CRS1xxand2xxseriesswitches-PolicerQoSMap"><span class="mw-headline">Policer QoS Map</span></h2><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch policer-qos-map</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>dei-for-red</strong><span> </span>(<em>0..1</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Policer DEI remapping value for red packets.</td></tr><tr><td class="confluenceTd"><strong>dei-for-yellow</strong><span> </span>(<em>0..1</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Policer DEI remapping value for yellow packets.</td></tr><tr><td class="confluenceTd"><strong>dscp-for-red</strong><span> </span>(<em>0..63</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Policer DSCP remapping value for red packets.</td></tr><tr><td class="confluenceTd"><strong>dscp-for-yellow</strong><span> </span>(<em>0..63</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Policer DSCP remapping value for yellow packets.</td></tr><tr><td class="confluenceTd"><strong>pcp-for-red</strong><span> </span>(<em>0..7</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Policer PCP remapping value for red packets.</td></tr><tr><td class="confluenceTd"><strong>pcp-for-yellow</strong><span> </span>(<em>0..7</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Policer PCP remapping value for yellow packets.</td></tr></tbody></table></div><h1 id="CRS1xxand2xxseriesswitches-AccessControlList"><span class="mw-headline">Access Control List</span></h1><hr/><p>Access Control List contains of ingress policy and egress policy engines and allows configuration of up to 128 policy rules (limited by RouterOS). It is an advanced tool for wire-speed packet filtering, forwarding, shaping, and modifying based on Layer2, Layer3, and Layer4 protocol header field conditions.</p><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>See the Summary section for Access Control List supported Cloud Router Switch devices.</p></div></div><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Due to hardware limitations, it is not possible to match broadcast/multicast traffic on specific ports. You should use port isolation, drop traffic on ingress ports, or use VLAN filtering to prevent certain broadcast/multicast traffic from being forwarded.</p></div></div><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch acl</code></p><p>ACL condition part for MAC-related fields of packets.</p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables ACL entry.</td></tr><tr><td class="confluenceTd"><strong>table</strong><span> </span>(<em>egress | ingress</em>; Default:<span> </span><strong>ingress</strong>)</td><td class="confluenceTd">Selects the policy table for incoming or outgoing packets.</td></tr><tr><td class="confluenceTd"><strong>invert-match</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Inverts the whole ACL rule matching.</td></tr><tr><td class="confluenceTd"><strong>src-ports</strong><span> </span>(<em>ports,trunks</em>)</td><td class="confluenceTd">Matching physical source ports or trunks.</td></tr><tr><td class="confluenceTd"><strong>dst-ports</strong><span> </span>(<em>ports,trunks</em>)</td><td class="confluenceTd">Matching physical destination ports or trunks. It is not possible to match broadcast/multicast traffic on the egress port due to a hardware limitation.</td></tr><tr><td class="confluenceTd"><strong>mac-src-address</strong><span> </span>(<em>MAC address/Mask</em>)</td><td class="confluenceTd">Source MAC address and mask.</td></tr><tr><td class="confluenceTd"><strong>mac-dst-address</strong><span> </span>(<em>MAC address/Mask</em>)</td><td class="confluenceTd">Destination MAC address and mask.</td></tr><tr><td class="confluenceTd"><strong>dst-addr-registered</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Defines whether to match packets with registered state - packets whose destination MAC address is in UFDB/MFDB/RFDB. Valid only in the egress table.</td></tr><tr><td class="confluenceTd"><strong>mac-protocol</strong><span> </span>(<em>802.2 | arp | homeplug-av | ip | ip-or-ipv6 | ipv6 | ipx | lldp | loop-protect | mpls-multicast | mpls-unicast | non-ip | packing-compr | packing-simple | pppoe | pppoe-discovery | rarp | service-vlan | vlan or integer: 0..65535 decimal format or 0x0000-0xffff hex format</em>)</td><td class="confluenceTd">Ethernet payload type (MAC-level protocol)<ul><li><strong>802.2</strong><span> </span>- 802.2 Frames (0x0004)</li><li><strong>arp</strong><span> </span>- Address Resolution Protocol (0x0806)</li><li><strong>capsman</strong><span> </span>- CAPsMAN to CAP MAC layer connection (<span style="color:var(--ds-text,#172b4d);">0x88BB</span>)</li><li><strong>dot1x</strong><span> </span>- EAPoL IEEE 802.1X (<span style="color:var(--ds-text,#172b4d);">0x888E</span>)</li><li><strong>homeplug-av</strong><span> </span>- HomePlug AV MME (0x88E1)</li><li><strong>ip</strong><span> </span>- Internet Protocol version 4 (0x0800)</li><li><strong>ip-or-ipv6</strong><span> </span>- IPv4 or IPv6 (0x0800 or 0x86DD)</li><li><strong>ipv6</strong><span> </span>- Internet Protocol Version 6 (0x86DD)</li><li><strong>ipx</strong><span> </span>- Internetwork Packet Exchange (0x8137)</li><li><strong>lacp</strong><span> </span>- Link Aggregation Control Protocol (<span style="color:var(--ds-text,#172b4d);">0x8809</span>)</li><li><strong>lldp</strong><span> </span>- Link Layer Discovery Protocol (0x88CC)</li><li><strong>loop-protect</strong><span> </span>- Loop Protect Protocol (0x9003)</li><li><strong>macsec</strong><span> </span>- MAC security IEEE 802.1AE (0x88E5)</li><li><strong>mpls-multicast</strong><span> </span>- MPLS multicast (0x8848)</li><li><strong>mpls-unicast</strong><span> </span>- MPLS unicast (0x8847)</li><li><strong>non-ip</strong><span> </span>- Not Internet Protocol version 4 (not 0x0800)</li><li><strong>packing-compr</strong><span> </span>- Encapsulated packets with compressed<span> </span><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:IP/Packing" rel="nofollow" style="text-decoration: none;" title="Manual:IP/Packing">IP packing</a><span> </span>(0x9001)</li><li><strong>packing-simple</strong><span> </span>- Encapsulated packets with simple<span> </span><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:IP/Packing" rel="nofollow" style="text-decoration: none;" title="Manual:IP/Packing">IP packing</a><span> </span>(0x9000)</li><li><strong>pppoe</strong><span> </span>- PPPoE Session Stage (0x8864)</li><li><strong>pppoe-discovery</strong><span> </span>- PPPoE Discovery Stage (0x8863)</li><li><strong>rarp</strong><span> </span>- Reverse Address Resolution Protocol (0x8035)</li><li><strong>romon</strong><span> </span>- Router Management Overlay Network RoMON (<span style="color:var(--ds-text,#172b4d);">0x88BF</span>)</li><li><strong>service-vlan</strong><span> </span>- Provider Bridging (IEEE 802.1ad) &amp; Shortest Path Bridging IEEE 802.1aq (0x88A8)</li><li><strong>vlan</strong><span> </span>- VLAN-tagged frame (IEEE 802.1Q) and Shortest Path Bridging IEEE 802.1aq with NNI compatibility (0x8100)</li></ul></td></tr><tr><td class="confluenceTd"><strong>drop-precedence</strong><span> </span>(<em>drop | green | red | yellow</em>)</td><td class="confluenceTd">Matching internal drop precedence. Valid only in the egress table.</td></tr><tr><td class="confluenceTd"><strong>custom-fields</strong></td><td class="confluenceTd"><br/></td></tr></tbody></table></div><p>ACL condition part for VLAN-related fields of packets.</p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>lookup-vid</strong><span> </span>(<em>0..4095</em>)</td><td class="confluenceTd">VLAN id used in lookup. It can be changed before reaching the egress table.</td></tr><tr><td class="confluenceTd"><strong>service-vid</strong><span> </span>(<em>0-4095</em>)</td><td class="confluenceTd">Matching service VLAN id.</td></tr><tr><td class="confluenceTd"><strong>service-pcp</strong><span> </span>(<em>0..7</em>)</td><td class="confluenceTd">Matching service PCP.</td></tr><tr><td class="confluenceTd"><strong>service-dei</strong><span> </span>(<em>0..1</em>)</td><td class="confluenceTd">Matching service DEI.</td></tr><tr><td class="confluenceTd"><strong>service-tag</strong><span> </span>(<em>priority-tagged | tagged | tagged-or-priority-tagged | untagged</em>)</td><td class="confluenceTd">Format of the service tag.</td></tr><tr><td class="confluenceTd"><strong>customer-vid</strong><span> </span>(<em>0-4095</em>)</td><td class="confluenceTd">Matching customer VLAN ID.</td></tr><tr><td class="confluenceTd"><strong>customer-pcp</strong><span> </span>(<em>0..7</em>)</td><td class="confluenceTd">Matching customer PCP.</td></tr><tr><td class="confluenceTd"><strong>customer-dei</strong><span> </span>(<em>0..1</em>)</td><td class="confluenceTd">Matching customer DEI.</td></tr><tr><td class="confluenceTd"><strong>customer-tag</strong><span> </span>(<em>priority-tagged | tagged | tagged-or-priority-tagged | untagged</em>)</td><td class="confluenceTd">Format of the customer tag.</td></tr><tr><td class="confluenceTd"><strong>priority</strong><span> </span>(<em>0..15</em>)</td><td class="confluenceTd">Matching internal priority. Valid only in the egress table.</td></tr></tbody></table></div><p>ACL condition part for IPv4 and IPv6 related fields of packets.</p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>ip-src</strong><span> </span>(<em>IPv4/0..32</em>)</td><td class="confluenceTd">Matching source IPv4 address.</td></tr><tr><td class="confluenceTd"><strong>ip-dst</strong><span> </span>(<em>IPv4/0..32</em>)</td><td class="confluenceTd">Matching destination IPv4 address.</td></tr><tr><td class="confluenceTd"><strong>ip-protocol</strong><span> </span>(<em>tcp | udp | udp-lite | other</em>)</td><td class="confluenceTd">IP protocol type.</td></tr><tr><td class="confluenceTd"><strong>src-l3-port</strong><span> </span>(<em>0-65535</em>)</td><td class="confluenceTd">Matching Layer3 source port.</td></tr><tr><td class="confluenceTd"><strong>dst-l3-port</strong><span> </span>(<em>0-65535</em>)</td><td class="confluenceTd">Matching Layer3 destination port.</td></tr><tr><td class="confluenceTd"><strong>ttl</strong><span> </span>(<em>0 | 1 | max | other</em>)</td><td class="confluenceTd">Matching TTL field of the packet.</td></tr><tr><td class="confluenceTd"><strong>dscp</strong><span> </span>(<em>0..63</em>)</td><td class="confluenceTd">Matching DSCP field of the packet.</td></tr><tr><td class="confluenceTd"><strong>ecn</strong><span> </span>(<em>0..3</em>)</td><td class="confluenceTd">Matching ECN field of the packet.</td></tr><tr><td class="confluenceTd"><strong>fragmented</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Whether to match fragmented packets.</td></tr><tr><td class="confluenceTd"><strong>first-fragment</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">YES matches not fragmented and the first fragments, NO matches other fragments.</td></tr><tr><td class="confluenceTd"><strong>ipv6-src</strong><span> </span>(<em>IPv6/0..128</em>)</td><td class="confluenceTd">Matching source IPv6 address.</td></tr><tr><td class="confluenceTd"><strong>ipv6-dst</strong><span> </span>(<em>IPv6/0..128</em>)</td><td class="confluenceTd">Matching destination IPv6 address.</td></tr><tr><td class="confluenceTd"><strong>mac-isolation-profile</strong><span> </span>(<em>community1 | community2 | isolated | promiscuous</em>)</td><td class="confluenceTd">Matches isolation profile based on UFDB. Valid only in the egress policy table.</td></tr><tr><td class="confluenceTd"><strong>src-mac-addr-state</strong><span> </span>(<em>dynamic-station-move | sa-found | sa-not-found | static-station-move</em>)</td><td class="confluenceTd">Defines whether to match packets with registered state - packets whose destination MAC address is in UFDB/MFDB/RFDB. Valid only in the egress policy table.</td></tr><tr><td class="confluenceTd"><strong>flow-id</strong><span> </span>(<em>0..63</em>)</td><td class="confluenceTd"><br/></td></tr></tbody></table></div><p>ACL rule action part.</p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>action</strong><span> </span>(<em>copy-to-cpu | drop | forward |</em><p><em>redirect-to-cpu | send-to-new-dst-ports</em>; Default:</p><strong>forward</strong>)</td><td class="confluenceTd"><ul class="bullets"><li>copy-to-cpu<span> </span>- Packets are copied to the CPU if they match the ACL conditions.</li><li>drop<span> </span>- Packets are dropped if they match the ACL conditions.</li><li>forward<span> </span>- Packets are forwarded if they match the ACL conditions.</li><li>redirect-to-cpu<span> </span>- Packets are redirected to the CPU if they match the ACL conditions.</li><li>send-to-new-dst-ports<span> </span>- Packets are sent to new destination ports if they match the ACL conditions.</li></ul></td></tr><tr><td class="confluenceTd"><strong>new-dst-ports</strong><span> </span>(<em>ports,trunks</em>)</td><td class="confluenceTd">If the action is &quot;send-to-new-dst-ports&quot;, then this property sets which ports/trunks are the new destinations.</td></tr><tr><td class="confluenceTd"><strong>mirror-to</strong><span> </span>(<em>mirror0 | mirror1</em>)</td><td class="confluenceTd">Mirroring destination for ACL packets.</td></tr><tr><td class="confluenceTd"><strong>policer</strong><span> </span>(<em>policer</em>)</td><td class="confluenceTd">Applied ACL Policer for ACL packets.</td></tr><tr><td class="confluenceTd"><strong>src-mac-learn</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Whether to learn the source MAC of the matched ACL packets. Valid only in the ingress policy table.</td></tr><tr><td class="confluenceTd"><strong>new-service-vid</strong><span> </span>(<em>0..4095</em>)</td><td class="confluenceTd">New service VLAN ID for ACL packets.</td></tr><tr><td class="confluenceTd"><strong>new-service-pcp</strong><span> </span>(<em>0..7</em>)</td><td class="confluenceTd">New service PCP for ACL packets.</td></tr><tr><td class="confluenceTd"><strong>new-service-dei</strong><span> </span>(<em>0..1</em>)</td><td class="confluenceTd">New service DEI for ACL packets.</td></tr><tr><td class="confluenceTd"><strong>new-customer-vid</strong><span> </span>(<em>0..4095</em>)</td><td class="confluenceTd">New customer VLAN ID for ACL packets. If set to 4095, then traffic is dropped.</td></tr><tr><td class="confluenceTd"><strong>new-customer-pcp</strong><span> </span>(<em>0..7</em>)</td><td class="confluenceTd">New customer PCP for ACL packets.</td></tr><tr><td class="confluenceTd"><strong>new-customer-dei</strong><span> </span>(<em>0..1</em>)</td><td class="confluenceTd">New customer DEI for ACL packets.</td></tr><tr><td class="confluenceTd"><strong>new-dscp</strong><span> </span>(<em>0..63</em>)</td><td class="confluenceTd">New DSCP for ACL packets.</td></tr><tr><td class="confluenceTd"><strong>new-priority</strong><span> </span>(<em>0..15</em>)</td><td class="confluenceTd">New internal priority for ACL packets.</td></tr><tr><td class="confluenceTd"><strong>new-drop-precedence</strong><span> </span>(<em>drop | green | red | yellow</em>)</td><td class="confluenceTd">New internal drop precedence for ACL packets.</td></tr><tr><td class="confluenceTd"><strong>new-registered-state</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Whether to modify packet status. YES sets packet status to registered, NO - unregistered. Valid only in the ingress policy table.</td></tr><tr><td class="confluenceTd"><strong>new-flow-id</strong><span> </span>(<em>0..63</em>)</td><td class="confluenceTd"><br/></td></tr></tbody></table></div><p>Filter bypassing part for ACL packets.</p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>attack-filter-bypass</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><strong>ingress-vlan-filter-bypass</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Allows bypassing ingress VLAN filtering in the VLAN table for matching packets. This applies only to the ingress policy table.</td></tr><tr><td class="confluenceTd"><strong>egress-vlan-filter-bypass</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Allows bypassing egress VLAN filtering in the VLAN table for matching packets. This applies only to the ingress policy table.</td></tr><tr><td class="confluenceTd"><strong>isolation-filter-bypass</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Allows bypassing the Isolation table for matching packets. This applies only to the ingress policy table.</td></tr><tr><td class="confluenceTd"><strong>egress-vlan-translate-bypass</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Allows bypassing egress VLAN translation table for matching packets.</td></tr></tbody></table></div><h2 id="CRS1xxand2xxseriesswitches-ACLPolicer"><span class="mw-headline">ACL Policer</span></h2><p><strong>Sub-menu:</strong><span> </span><code>/interface ethernet switch acl policer</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 13.7188px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>name</strong><span> </span>(<em>string</em>; Default:<span> </span><strong>policerX</strong>)</td><td class="confluenceTd">Name of the Policer used in ACL.</td></tr><tr><td class="confluenceTd"><strong>yellow-rate</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">Maximum data rate limit for packets with yellow drop precedence.</td></tr><tr><td class="confluenceTd"><strong>yellow-burst</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Maximum data rate which can be transmitted while the burst is allowed for packets with yellow drop precedence.</td></tr><tr><td class="confluenceTd"><strong>red-rate</strong><span> </span>(<em>integer</em>); Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Maximum data rate limit for packets with red drop precedence.</td></tr><tr><td class="confluenceTd"><strong>red-burst</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">Maximum data rate which can be transmitted while the burst is allowed for packets with red drop precedence.</td></tr><tr><td class="confluenceTd"><strong>meter-unit</strong><span> </span>(<em>bit | packet</em>; Default:<span> </span><strong>bit</strong>)</td><td class="confluenceTd">Measuring units for ACL traffic rate.</td></tr><tr><td class="confluenceTd"><strong>meter-len</strong><span> </span>(<em>layer-1 | layer-2 | layer-3</em>; Default:<span> </span><strong>layer-1</strong>)</td><td class="confluenceTd">Packet classification which sets the packet byte length for metering.<ul class="bullets"><li>layer-1<span> </span>- includes entire layer-2 frame + FCS + inter-packet gap + preamble.</li><li>layer-2<span> </span>- includes layer-2 frame + FCS.</li><li>layer-3<span> </span>- includes only layer-3 + ethernet padding without layer-2 header and FCS.</li></ul></td></tr><tr><td class="confluenceTd"><strong>color-awareness</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">YES makes the policer to take into account pre-colored drop precedence, NO - ignores drop precedence.</td></tr><tr><td class="confluenceTd"><strong>bucket-coupling</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><strong>yellow-action</strong><span> </span>(<em>drop | forward | remark</em>; Default:<span> </span><strong>drop</strong>)</td><td class="confluenceTd">Performed action for exceeded traffic with yellow drop precedence.</td></tr><tr><td class="confluenceTd"><strong>new-dei-for-yellow</strong><span> </span>(<em>0..1 | remap</em>)</td><td class="confluenceTd">New DEI for yellow drop precedence packets.</td></tr><tr><td class="confluenceTd"><strong>new-pcp-for-yellow</strong><span> </span>(<em>0..7 | remap</em>)</td><td class="confluenceTd">New PCP for yellow drop precedence packets.</td></tr><tr><td class="confluenceTd"><strong>new-dscp-for-yellow</strong><span> </span>(<em>0..63 | remap</em>)</td><td class="confluenceTd">New DSCP for yellow drop precedence packets.</td></tr><tr><td class="confluenceTd"><strong>red-action</strong><span> </span>(<em>drop | forward | remark</em>; Default:<span> </span><strong>drop</strong>)</td><td class="confluenceTd">Performed action for exceeded traffic with red drop precedence.</td></tr><tr><td class="confluenceTd"><strong>new-dei-for-red</strong><span> </span>(<em>0..1 | remap</em>)</td><td class="confluenceTd">New DEI for red drop precedence packets.</td></tr><tr><td class="confluenceTd"><strong>new-pcp-for-red</strong><span> </span>(<em>0..7 | remap</em>)</td><td class="confluenceTd">New PCP for red drop precedence packets.</td></tr><tr><td class="confluenceTd"><strong>new-dscp-for-red</strong><span> </span>(<em>0..63 | remap</em>)</td><td class="confluenceTd">New DSCP for red drop precedence packets.</td></tr></tbody></table></div><h1 id="CRS1xxand2xxseriesswitches-Seealso"><span class="mw-headline">See also</span></h1><hr/><ul><li><a href="https://help.mikrotik.com/docs/pages/viewpage.action?pageId=103841836" rel="nofollow">CRS1xx/2xx series switches examples</a></li><li><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:CRS_Router" rel="nofollow" style="text-decoration: none;" title="Manual:CRS Router">CRS Router</a></li><li><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:CRS1xx/2xx_VLANs_with_Trunks" rel="nofollow" style="text-decoration: none;" title="Manual:CRS1xx/2xx VLANs with Trunks">CRS1xx/2xx VLANs with Trunks</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/Basic+VLAN+switching" rel="nofollow">Basic VLAN switching</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-BridgeHardwareOffloading" rel="nofollow">Bridge Hardware Offloading</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/Spanning+Tree+Protocol" rel="nofollow">Spanning Tree Protocol</a></li><li><a href="https://help.mikrotik.com/docs/pages/viewpage.action?pageId=59277403" rel="nofollow">IGMP Snooping</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-DHCPSnoopingandDHCPOption82" rel="nofollow">DHCP Snooping and Option 82</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/MTU+in+RouterOS" rel="nofollow">MTU on RouterBOARD</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/Layer2+misconfiguration" rel="nofollow">Layer2 misconfiguration</a></li></ul>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 20, 2025 14:53</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
