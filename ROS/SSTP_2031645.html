<!DOCTYPE html>
<html>
    <head>
        <title>RouterOS : SSTP</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="RouterOS_328059.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="Virtual-Private-Networks_119144597.html">Virtual Private Networks</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            RouterOS : SSTP
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Artūrs C.</span>, last updated by <span class='editor'> Oskars K.</span> on Jan 08, 2025
    
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1747742034430 {padding: 0px;}
div.rbtoc1747742034430 ul {margin-left: 0px;}
div.rbtoc1747742034430 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1747742034430'>
<ul class='toc-indentation'>
<li><a href='#SSTP-Overview'>Overview</a></li>
<li><a href='#SSTP-Introduction'>Introduction</a></li>
<li><a href='#SSTP-SSTPClient'>SSTP Client</a>
<ul class='toc-indentation'>
<li><a href='#SSTP-Properties'>Properties</a></li>
</ul>
</li>
<li><a href='#SSTP-SSTPServer'>SSTP Server</a>
<ul class='toc-indentation'>
<li><a href='#SSTP-Properties.1'>Properties</a></li>
</ul>
</li>
<li><a href='#SSTP-Certificates'>Certificates</a>
<ul class='toc-indentation'>
<li><a href='#SSTP-CertificateErrorMessages'>Certificate Error Messages</a></li>
</ul>
</li>
<li><a href='#SSTP-QuickExample'>Quick Example</a>
<ul class='toc-indentation'>
<li><a href='#SSTP-SSTPClient.1'>SSTP Client</a></li>
<li><a href='#SSTP-SSTPServer.1'>SSTP Server</a></li>
</ul>
</li>
</ul>
</div></p><h1 id="SSTP-Overview">Overview</h1><p>Secure Socket Tunneling Protocol (SSTP) transports a PPP tunnel over a TLS channel. The use of TLS over TCP port 443 allows SSTP to pass through virtually all firewalls and proxy servers.</p><h1 id="SSTP-Introduction">Introduction</h1><p>Let's take a look at the SSTP connection mechanism:</p><p><br/></p><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" draggable="false" src="attachments/2031645/2031646.png" data-image-src="attachments/2031645/2031646.png" data-unresolved-comment-count="0" data-linked-resource-id="2031646" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="Sstp-how-works.png" data-base-url="https://help.mikrotik.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="2031645" data-linked-resource-container-version="13" tabindex="0" alt=""></span></p><ol class="bullets"><li>A TCP connection is established from client to server (by default on port 443);</li><li>SSL validates the server certificate. If a certificate is valid, a connection is established otherwise the connection is turned down. (But see note below);</li><li>The client sends SSTP control packets within the HTTPS session which establishes the SSTP state machine on both sides;</li><li>PPP negotiation over SSTP. The client authenticates to the server and binds IP addresses to the SSTP interface;</li></ol><p class="auto-cursor-target">SSTP tunnel is now established and packet encapsulation can begin;</p><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Starting from v5.0beta2 SSTP does not require certificates to operate and can use any available authentication type. This feature will work only between two MikroTik routers, as it is not in accordance with Microsoft standards. Otherwise to establish secure tunnels <strong>mschap</strong> authentication and client/server certificates from the same chain should be used.</p></div></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p style="text-align: left;">TLS SNI support has been added starting with 7.15beta10 version, Extension will be added to c<span style="color:var(--ds-text,#172B4D);">lient hello packets if &quot;Add SNI&quot; checkbox is checked or set in CLI:</span></p><p style="text-align: left;"><span style="color:var(--ds-text,#172B4D);">interface/sstp-client/set add-sni=yes</span></p></div></div><h1 style="text-align: left;" id="SSTP-SSTPClient">SSTP Client</h1><h2 style="text-align: left;" id="SSTP-Properties"><span class="mw-headline">Properties</span></h2><div class="table-wrap"><table class="wrapped confluenceTable"><thead class=""><tr class=""><th style="text-align: left;vertical-align: top;" class="confluenceTh"><p><br/></p></th><th style="text-align: left;vertical-align: top;" class="confluenceTh"><p><br/></p></th></tr></thead><colgroup class=""><col class=""/><col class=""/></colgroup><tbody class=""><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><span><strong>authentication</strong> </span>(<em>chap, mschap1, mschap2, pap</em>; Default:<span> </span><strong>&quot;all&quot;</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Allowed authentication methods, by default all methods are allowed.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Enables/disables tunnel.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>add-default-route</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Whether to add L2TP remote address as a default route.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>default-route-distance</strong><span> </span>(<em>byte</em>; Default: )</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Sets distance value applied to auto created default route, if add-default-route is also selected.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>mrru</strong><span> </span>(<em>integer: 512..65535|disabled</em>; Default:<span> </span><strong>disabled</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">maximum packet size that can be received on the link. If a packet is bigger than tunnel MTU, it will be split into multiple packets, allowing full size IP or Ethernet packets to be sent over the tunnel.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>proxy-port </strong>(<em>string</em>; Default: <strong>443</strong> )</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Sets proxy port.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>add-sni</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Enables/disables service.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>dial-on-demand</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Connects only when outbound traffic is generated. If selected, then route with gateway address from 10.112.112.0/24 network will be added while connection is not established.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>name</strong><span> </span>(<em>string</em>; Default: )</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Descriptive name of the interface.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>tls-version<span> </span></strong>(<em>any </em>|<em> only-1.2</em>; Default:<span> </span><strong>any</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Specifies which TLS version to allow.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>numbers</strong><span> </span>(<em>integer;</em>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Sets number for an tunnel in ROS.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>user</strong><span> </span>(<em>string</em>; Default: )</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">User name used for authentication.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>certificate</strong><span> </span>(<em>string<span> </span></em>|<em><span> </span>none</em>; Default:<span> </span><strong>none</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Name of the client certificate</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>http-proxy</strong><span> </span>(<em>string</em>; Default: )</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Proxy address field.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>password</strong><span> </span>(<em>string</em>; Default:<span> </span><strong>&quot;&quot;</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Password used for authentication.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong style="text-align: left;">verify-server-address-from-certificate</strong><span style="color:var(--ds-text,#172B4D);"><span> </span>(</span><em style="text-align: left;">yes|no</em><span style="color:var(--ds-text,#172B4D);">; Default:<span> </span></span><strong style="text-align: left;">no</strong><span style="color:var(--ds-text,#172B4D);">)</span></td><td style="text-align: left;vertical-align: top;" class="confluenceTd">SSTP client will verify server address in certificate.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong style="text-align: left;">verify-server-certificate</strong><span style="color:var(--ds-text,#172B4D);"><span> </span>(</span><em style="text-align: left;">yes|no</em><span style="color:var(--ds-text,#172B4D);">; Default:<span> </span></span><strong style="text-align: left;">no</strong><span style="color:var(--ds-text,#172B4D);">)</span></td><td style="text-align: left;vertical-align: top;" class="confluenceTd">SSTP client will verify server certificate.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong style="text-align: left;">ciphers</strong><span style="color:var(--ds-text,#172B4D);"><span> </span>(aes256-gcm-sha384</span><span style="color:var(--ds-text,#172B4D);"><span> </span>|<span> aes256-sha</span></span><span style="color:var(--ds-text,#172B4D);">; Default:<span> </span></span><strong style="text-align: left;">all</strong><span style="color:var(--ds-text,#172B4D);">)</span></td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Allowed ciphers.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>keepalive-timeout</strong><span> </span>(<em>integer</em>; Default:<strong>60</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Sets keepalive timeout in seconds.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>pfs</strong><span> </span>(<em>yes | no | required </em>; Default:<span> </span><strong>no</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Specifies which TLS authentication to use. With pfs=yes, TLS will use ECDHE-RSA- and DHE-RSA-. For maximum security setting pfs=required will use only ECDHE.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>comment</strong><span> </span>(<em>string</em>; Default: )</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Short description of the tunnel.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>max-mru</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>1460</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Maximum Receive Unit.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>max-mtu</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>1460</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Maximum Transmission Unit.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>port</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>443</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Port to connect to.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>connect-to</strong><span> </span>(<em>IP|IPv6</em>; Default: )</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Remote address of the SSTP server.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>profile</strong><span> </span>(<em>name</em>; Default:<span> </span><strong>default</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Specifies which PPP profile configuration will be used when establishing the tunnel.</td></tr></tbody></table></div><h1 style="text-align: left;" id="SSTP-SSTPServer">SSTP Server</h1><h2 style="text-align: left;" id="SSTP-Properties.1"><span class="mw-headline">Properties</span></h2><div class="table-wrap"><table class="wrapped confluenceTable"><thead class=""><tr class=""><th style="text-align: left;vertical-align: top;" class="confluenceTh"><p><br/></p></th><th style="text-align: left;vertical-align: top;" class="confluenceTh"><p><br/></p></th></tr></thead><colgroup class=""><col class=""/><col class=""/></colgroup><tbody class=""><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><span><strong>authentication</strong> </span>(<em>chap, mschap1, mschap2, pap</em>; Default:<span> </span><strong>&quot;all&quot;</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Allowed authentication methods, by default all methods are allowed.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>keepalive-timeout</strong><span> </span>(<em>integer</em>; Default:<strong>60</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Sets keepalive timeout in seconds.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>port </strong>(<em>string</em>; Default: <strong>443</strong> )</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Sets port used.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>certificate</strong><span> </span>(<em>string<span> </span></em>|<em><span> </span>none</em>; Default:<span> </span><strong>none</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Name of the certificate in use.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>max-mru</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>1460</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Maximum Receive Unit.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>max-mtu</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>1460</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Maximum Transmission Unit.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>tls-version<span> </span></strong>(<em>any </em>|<em> only-1.2</em>; Default:<span> </span><strong>any</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Specifies which TLS version to allow.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong style="text-align: left;">ciphers</strong><span style="color:var(--ds-text,#172B4D);"><span> </span>(aes256-gcm-sha384</span><span style="color:var(--ds-text,#172B4D);"><span> </span>|<span> aes256-sha</span></span><span style="color:var(--ds-text,#172B4D);">; Default:<span> </span></span><strong style="text-align: left;">all</strong><span style="color:var(--ds-text,#172B4D);">)</span></td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Allowed ciphers.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong style="text-align: left;">verify-client-certificate</strong><span style="color:var(--ds-text,#172B4D);"><span> </span>(</span><em style="text-align: left;">yes|no</em><span style="color:var(--ds-text,#172B4D);">; Default:<span> </span></span><strong style="text-align: left;">no</strong><span style="color:var(--ds-text,#172B4D);">)</span></td><td style="text-align: left;vertical-align: top;" class="confluenceTd">SSTP server will verify client certificate.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>mrru</strong><span> </span>(<em>integer: 512..65535|disabled</em>; Default:<span> </span><strong>disabled</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">maximum packet size that can be received on the link. If a packet is bigger than tunnel MTU, it will be split into multiple packets, allowing full size IP or Ethernet packets to be sent over the tunnel.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong style="text-align: left;">default-profile</strong><span style="color:var(--ds-text,#172B4D);"><span> </span>(</span><em style="text-align: left;">name</em><span style="color:var(--ds-text,#172B4D);">; Default:<span> </span></span><strong style="text-align: left;">default</strong><span style="color:var(--ds-text,#172B4D);">)</span></td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Specifies which PPP profile configuration will be used when establishing the tunnel.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>enabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Enables/disables service.</td></tr><tr class=""><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>pfs</strong><span> </span>(<em>yes | no | required </em>; Default:<span> </span><strong>no</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Specifies which TLS authentication to use. With pfs=yes, TLS will use ECDHE-RSA- and DHE-RSA-. For maximum security setting pfs=required will use only ECDHE.</td></tr></tbody></table></div><h1 id="SSTP-Certificates">Certificates</h1><p>To set up a secure SSTP tunnel, certificates are required. On the server, authentication is done only by <em>username</em> and <em>password,</em> but on the client - the server is authenticated using a server certificate. It is also used by the client to cryptographically bind SSL and PPP authentication, meaning - the clients send a special value over SSTP connection to the server, this value is derived from the key data that is generated during PPP authentication and server certificate, this allows the server to check if both channels are secure.</p><p>If SSTP clients are on Windows PCs then the only way to set up a secure SSTP tunnel when using a self-signed certificate is by importing the &quot;server&quot; certificate on the SSTP server and on the Windows PC adding a CA certificate in the <a class="external-link" href="https://technet.microsoft.com/en-us/library/dd458982.aspx" rel="nofollow">trusted root</a>.</p><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>If your server certificate is issued by a CA which is already known by Windows, then the Windows client will work without any additional certificate imports to a trusted root.</p></div></div><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>RSA key length must be at least 472 bits if a certificate is used by SSTP. Shorter keys are considered as security threats.</p></div></div><p><br/></p><p>A similar configuration on RouterOS client would be to import the CA certificate and enabling the verify-server-certificate option. In this scenario, Man-in-the-Middle attacks are not possible.</p><p>Between two Mikrotik routers, it is also possible to set up an insecure tunnel by not using certificates at all. In this case, data going through the SSTP tunnel is using anonymous DH and Man-in-the-Middle attacks are easily accomplished. This scenario is not compatible with Windows clients.</p><p>It is also possible to make a secure SSTP tunnel by adding additional authorization with a client certificate. Configuration requirements are:</p><ul><li>certificates on both server and client</li><li>verification options enabled on server and client</li></ul><p>This scenario is also not possible with Windows clients, because there is no way to set up a client certificate on Windows.</p><h3 id="SSTP-CertificateErrorMessages">Certificate Error Messages</h3><p>When SSL handshake fails, you will see one of the following certificate errors:</p><ul><li><strong>certificate is not yet valid</strong> - notBefore certificate date is after the current time;</li><li><strong>certificate has expired</strong> - certificate expiry date is before the current time;</li><li><strong>cinvalid certificate purpose</strong> - the supplied certificate cannot be used for the specified purpose;</li><li><strong>cself signed certificate in a chain</strong> - the certificate chain could be built up using the untrusted certificates but the root could not be found locally;</li><li><strong>cunable to get issuer certificate locally</strong> - CA certificate is not imported locally;</li><li><strong>cserver's IP address does not match certificate</strong> - server address verification is enabled, but the address provided in certificate does not match the server's address;</li></ul><h1 id="SSTP-QuickExample">Quick Example</h1><p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" draggable="false" height="250" src="attachments/2031645/3211297.jpg" data-image-src="attachments/2031645/3211297.jpg" data-unresolved-comment-count="0" data-linked-resource-id="3211297" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="sstp-setup.jpg" data-base-url="https://help.mikrotik.com/docs" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="2031645" data-linked-resource-container-version="13" tabindex="0" alt=""></span></p><h2 id="SSTP-SSTPClient.1">SSTP Client</h2><p>In the following configuration example, e will create a simple SSTP client without using a certificate:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik &gt; interface sstp-client add connect-to=192.168.62.2 disabled=no name=sstp-out1 password=StrongPass profile=default-encryption user=MT-User
[admin@MikroTik &gt; interface sstp-client print
Flags: X - disabled; R - running 
 0  R name=&quot;sstp-out1&quot; max-mtu=1500 max-mru=1500 mrru=disabled connect-to=192.168.62.2:443 
      http-proxy=0.0.0.0:443 certificate=none verify-server-certificate=no 
      verify-server-address-from-certificate=yes user=&quot;MT-User&quot; password=&quot;StrongPass&quot; 
      profile=default-encryption keepalive-timeout=60 add-default-route=no dial-on-demand=no 
      authentication=pap,chap,mschap1,mschap2 pfs=no tls-version=any</pre>
</div></div><h2 id="SSTP-SSTPServer.1">SSTP Server</h2><p>We will configure PPP secret for a particular user, afterwards simply enable an SSTP server:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] &gt; ppp secret add local-address=10.0.0.1 name=MT-User password=StrongPass remote-address=10.0.0.5 service=sstp
[admin@MikroTik] &gt; interface sstp-server server set default-profile=default-encryption enabled=yes
[admin@MikroTik] &gt; interface sstp-server server print
                    enabled: yes
                       port: 443
                    max-mtu: 1500
                    max-mru: 1500
                       mrru: disabled
          keepalive-timeout: 60
            default-profile: default-encryption
             authentication: pap,chap,mschap1,mschap2
                certificate: none
  verify-client-certificate: no
                        pfs: no
                tls-version: any</pre>
</div></div><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p><span style="color:var(--ds-text,#172B4D);">In P2P setups network address will be same with other endpoint local address. </span></p></div></div><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>As with any other ppp tunnel, SSTP also supports BCP which allows it to bridge SSTP tunnel with a local interface. For example in setups where routers are connected to Internet through ether1, workstations and laptops are connected to ether2. Both local networks are routed through SSTP client, and they are not in the same broadcast domain BCP is used.</p></div></div><p><br/></p><p><br/></p>
                    </div>

                                                            <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2031645/58720284.png">Sstp-how-works.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2031645/2031653.png">sstp-rem-office.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2031645/3211297.jpg">sstp-setup.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2031645/2031646.png">Sstp-how-works.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 20, 2025 14:53</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
