<!DOCTYPE html>
<html>
    <head>
        <title>RouterOS : VXLAN</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="RouterOS_328059.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="Bridging-and-Switching_328068.html">Bridging and Switching</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            RouterOS : VXLAN
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Edgars P.</span>, last updated on Apr 04, 2025
    
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1747742024666 {padding: 0px;}
div.rbtoc1747742024666 ul {margin-left: 0px;}
div.rbtoc1747742024666 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1747742024666'>
<ul class='toc-indentation'>
<li><a href='#VXLAN-Introduction'>Introduction</a></li>
<li><a href='#VXLAN-Configurationoptions'>Configuration options</a></li>
<li><a href='#VXLAN-Forwardingtable'>Forwarding table</a></li>
<li><a href='#VXLAN-Configurationexample'>Configuration example</a></li>
<li><a href='#VXLAN-HardwareoffloadedVXLAN'>Hardware offloaded VXLAN</a>
<ul class='toc-indentation'>
<li><a href='#VXLAN-Basicconfigurationexample'>Basic configuration example</a></li>
</ul>
</li>
</ul>
</div></p><h1 id="VXLAN-Introduction">Introduction</h1><hr/><p>Virtual eXtensible Local Area Network (VXLAN) is a tunneling protocol designed to solve the problem of limited VLAN IDs (4096) in IEEE 802.1Q, and it is described by IETF RFC 7348. With VXLAN the size of the identifier is expanded to 24 bits (16777216). It creates a Layer 2 overlay scheme on a Layer 3 network and the protocol runs over UDP. RouterOS VXLAN interface supports IPv4 or IPv6 (since version 7.6), but dual-stack is not supported.</p><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>VXLAN creates a 50-byte overhead for IPv4 and a 70-byte overhead for IPv6. When configuring VXLAN, it is recommended to ensure that the size of the encapsulated Ethernet frame does not exceed the MTU of the underlying network, by configuring the MTU accordingly or by limiting the size of the Ethernet frames.</p></div></div><p>Only devices within the same VXLAN segment can communicate with each other. Each VXLAN segment is identified through a 24-bit segment ID, termed the VXLAN Network Identifier (VNI). Unlike most tunnels, a VXLAN is a 1-to-N network, not just point-to-point. VXLAN endpoints, which terminate VXLAN tunnels are known as VXLAN tunnel endpoints (VTEPs). RouterOS only supports statically configured remote VTEPs. When unicast traffic needs to be sent over VXLAN, a device can learn the IP address of the other endpoint dynamically in a manner similar to a learning bridge, and forward traffic only to the necessary VTEP. For traffic that needs to be flooded (broadcast, unknown-unicast, and multicast) to all VTEPs on the same segment, VXLAN can use multicast or unicast with head-end replication to send one replica for every remote VTEP.</p><h1 id="VXLAN-Configurationoptions">Configuration options</h1><hr/><p>This section describes the VXLAN interface and VTEP configuration options.</p><p><strong>Sub-menu:</strong> <code>/interface vxlan</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><thead><tr><th style="text-align: left;" class="confluenceTh"><p>Property</p></th><th style="text-align: left;" class="confluenceTh"><p>Description</p></th></tr></thead><tbody><tr><td style="text-align: left;" class="confluenceTd"><strong>allow-fast-path</strong><span> </span>(<em>yes | no</em>; Default:<span> <strong>yes</strong></span>)</td><td style="text-align: left;" class="confluenceTd">Whether to allow <a href="https://help.mikrotik.com/docs/display/ROS/Packet+Flow+in+RouterOS#PacketFlowinRouterOS-FastPath" rel="nofollow">Fast Path</a> processing. Fragmented and flooded packets over VXLAN<span style="color:var(--ds-text,#333333);"> are redirected via a slow path. Fast Path is disabled for VXLAN interface that uses VRF. The setting is available since RouterOS version 7.8.</span></td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>arp</strong><span> </span>(<em>disabled | enabled | local-proxy-arp | proxy-arp | reply-only</em>; Default:<span> </span><strong>enabled</strong>)</td><td style="text-align: left;" class="confluenceTd">Address Resolution Protocol setting<ul><li><span style="color:var(--ds-icon-success,#22a06b);"><code>disabled</code> </span>- the interface will not use ARP</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>enabled</code> </span>- the interface will use ARP</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>local-proxy-arp</code></span><span> </span>-<span> </span><span style="color:var(--ds-text,#333333);"><span> </span>the router performs proxy ARP on the interface and sends replies to the same interface</span></li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>proxy-arp</code></span><span> </span>-<span> </span><span style="color:var(--ds-text,#333333);">the router performs proxy ARP on the interface and sends replies to other interfaces</span></li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>reply-only</code></span><span> </span>- the interface will only reply to requests originating from matching IP address/MAC address combinations which are entered as static entries in the<span> </span>IP/ARP<span> </span>table. No dynamic entries will be automatically stored in the<span> </span>IP/ARP<span> </span>table. Therefore for communications to be successful, a valid static entry must already exist.</li></ul></td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>arp-timeout</strong><span> </span>(<em>auto | integer</em>; Default:<span> </span><strong>auto</strong>)</td><td style="text-align: left;" class="confluenceTd">How long the ARP record is kept in the ARP table after no packets are received from IP. Value<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>auto</code> </span>equals to the value of<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>arp-timeout</code></span><span> </span>in<span> </span>IP/Settings, default is the 30s.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>bridge</strong> (<em>name</em>; Default: )</td><td style="text-align: left;" class="confluenceTd"><span style="color:var(--ds-text,#172b4d);">Name of the<span> </span></span><a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching" rel="nofollow" style="text-align: left;">bridge<span> </span></a><span style="color:var(--ds-text,#172b4d);">interface to which VXLAN interface will be added as a slave port.</span></td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>bridge-pvid</strong> (<span style="color:var(--ds-text,#172b4d);"><em>integer 1..4094;</em> Default: <strong>1</strong>)</span></td><td style="text-align: left;" class="confluenceTd">Used to assign PVID parameter for dynamically bridge port. This property only has an effect when bridge vlan-filtering is set to yes.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>checksum<span> </span></strong>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td style="text-align: left;" class="confluenceTd"><p>Setting controls whether a UDP checksum is calculated in the transmitted outer VXLAN packets:</p><ul><li data-uuid="2403e8f1-1ac9-4853-be1c-db9c65b1c42b"><p><span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>no</code></span> – the UDP checksum is set to zero in transmitted outer packets. This also allows receiving VXLAN packets over IPv6 that have a zero UDP checksum.</p></li><li data-uuid="df0f4a9f-3a23-400b-9c7c-ac068be82565"><span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>yes</code></span> - the UDP checksum is calculated in transmitted outer packets.</li></ul><p>If hardware offloading is used for packet transmission, this setting is ignored, and the behavior defaults to sending packets with a zero UDP checksum.</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>comment</strong><span> </span>(<em>string</em>; Default: )</td><td style="text-align: left;" class="confluenceTd">Short description of the interface.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td style="text-align: left;" class="confluenceTd">Changes whether the interface is disabled.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>dont-fragment<span> </span></strong>(<em>auto | disabled | enabled | inherit</em>; Default:<span> </span><strong>auto</strong>)</td><td style="text-align: left;" class="confluenceTd"><p>The Don't Fragment (DF) flag controls whether a packet can be broken into smaller packets, called fragments, before being sent over a network. When configuring VXLAN, this setting determines the presence of the DF flag on the outer IPv4 header and can control packet fragmentation if the encapsulated packet exceeds the outgoing interface MTU. This setting has three options:</p><ul><li><span style="color:var(--ds-icon-success,#22a06b);"><code>auto</code> </span>- if the device supports VXLAN offloading, the dont-fragment mode will operate as <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>enabled</code></span>. if VXLAN offloading is not supported, it will use the <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">inherit</span></code> mode.</li><li data-uuid="4a65da27-1f33-4f2b-9300-f067135e3b30"><span style="color:var(--ds-icon-success,#22a06b);"><code>disabled</code> </span>- the DF flag is not set on the outer IPv4 header, which means that packets can be fragmented if they are too large to be sent over the outgoing interface. This also allows packet fragmentation when VXLAN uses IPv6 underlay. Disables hardware offloading on compatible devices.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>enabled</code> </span>- the DF flag is always set on the outer IPv4 header, which means that packets will not be fragmented and will be dropped if they exceed the outgoing interface's MTU. This also avoids packet fragmentation when VXLAN uses IPv6 underlay.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>inherit</code></span><span> </span>- The DF flag on the outer IPv4 header is based on the inner IPv4 DF flag. If the inner IPv4 header has the DF flag set, the outer IPv4 header will also have it set. If the packet exceeds the outgoing interface's MTU and DF is set, it will be dropped. If the inner packet is non-IP, the outer IPv4 header will not have the DF flag set and packets can be fragmented. If the inner packet is IPv6, the outer IPv4 header will always set the DF flag and packets cannot be fragmented. Note that when VXLAN uses IPv6 underlay, this setting does not have any effect and is treated the same as <span style="color:var(--ds-icon-success,#22a06b);"><code>disabled</code></span>.</li></ul><p>The setting is available since RouterOS version 7.8.</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>group</strong><span> </span>(<em>IPv4 | IPv6</em>; Default: )</td><td style="text-align: left;" class="confluenceTd">When specified, a multicast group address can be used to forward broadcast, unknown-unicast, and multicast traffic between VTEPs. This property requires specifying the <code><span style="color:var(--ds-icon-success,#22a06b);">interface</span></code> setting. The interface will use IGMP or MLD to join the specified multicast group, make sure to add the necessary PIM and IGMP/MDL configuration. When this property is set, the <code><span style="color:var(--ds-icon-success,#22a06b);">vteps-ip-version</span></code> automatically gets updated to the used multicast IP version. Disables hardware offloading on compatible devices.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>hw </strong>(<em>yes | no</em>; Default: <strong>yes</strong>)</td><td style="text-align: left;" class="confluenceTd">Allows to disable hardware offloading, only applies to devices that support VXLAN offloading.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>interface</strong><span> </span>(<em>name</em>; Default:<span> </span>)</td><td style="text-align: left;" class="confluenceTd">Interface name used for multicast forwarding. This property requires specifying the <code><span style="color:var(--ds-icon-success,#22a06b);">group</span></code> setting. Disables hardware offloading on compatible devices.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>learning<span> </span></strong>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td style="text-align: left;" class="confluenceTd">Setting controls whether inner source MAC addresses and remote VTEP IP/IPv6 addresses are learned dynamically from received packets.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>local-address</strong> (<em>IPv4 | IPv6</em>; Default: )</td><td style="text-align: left;" class="confluenceTd">Specifies the local source address for the VXLAN interface. If not set, one IP address of the egress interface will be selected as a source address for VXLAN packets. When the property is set, the <code><span style="color:var(--ds-icon-success,#22a06b);">vteps-ip-version</span></code> automatically gets updated to the used local IP version. The setting is available since RouterOS version 7.7.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong style="text-align: left;">mac-address</strong> <span style="color:var(--ds-text,#172b4d);">(</span><em style="text-align: left;">MAC</em><span style="color:var(--ds-text,#172b4d);">; Default: )</span></td><td style="text-align: left;" class="confluenceTd"><p><span style="color:var(--ds-text,#172b4d);">Static MAC address of the interface. A</span> randomly generated MAC address will be assigned when not specified.</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong style="text-align: left;">max-fdb-size </strong><span style="color:var(--ds-text,#172b4d);">(<em>integer: 1<em style="text-align: left;">..65535</em></em>; Default:<span> </span><strong>4096</strong></span><span style="color:var(--ds-text,#172b4d);">)</span></td><td style="text-align: left;" class="confluenceTd"><p>Limits the maximum number of MAC addresses that VXLAN can store in the forwarding database (FDB).</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>mtu</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>1500</strong>)</td><td style="text-align: left;" class="confluenceTd"><p>For the maximum transmission unit, the VXLAN interface will set MTU to 1500 by default. The <code><span style="color:var(--ds-icon-success,#22a06b);">l2mtu</span></code> will be set automatically according to the associated <code><span style="color:var(--ds-icon-success,#22a06b);">interface</span></code> (subtracting 50 bytes corresponding to the VXLAN header). If no interface is specified, the <code><span style="color:var(--ds-icon-success,#22a06b);">l2mtu</span></code> value of 65535 is used. The <code><span style="color:var(--ds-icon-success,#22a06b);">l2mtu</span></code> cannot be changed.</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>name</strong><span> </span>(<em>text</em>; Default:<span> </span><strong>vxlan1</strong>)</td><td style="text-align: left;" class="confluenceTd">Name of the interface.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>port</strong><span> </span>(<em>integer: 1<em style="text-align: left;">..65535</em></em>; Default:<span> </span><strong>4789</strong>)</td><td style="text-align: left;" class="confluenceTd"><p>Used UDP port number for listening and sending packets to remote VTEPs.</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>ttl</strong><span> </span>(<em>auto | integer: 0<em style="text-align: left;">..255</em></em>; Default:<span> </span><strong>auto</strong>)</td><td style="text-align: left;" class="confluenceTd"><p>Specifies the TTL value to use in outgoing packets. By default, the TTL is set to 64 when using the <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">auto</span></code> option. However, if VXLAN is using a multicast underlay network, the default TTL is set to 1. If the multicast network involves routing, you will need to increase the TTL to a higher value.</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>vni</strong><span> </span>(<em>integer: 1..16777216</em>; Default:<span> </span>)</td><td style="text-align: left;" class="confluenceTd"><p>VXLAN Network Identifier (VNI).</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p><strong>vrf</strong> (<em>name</em>; Default:<span> </span><strong>main</strong>)</p></td><td style="text-align: left;" class="confluenceTd"><span style="color:var(--ds-text,#172b4d);">Set VRF for the VXLAN interface on which the VTEPs listen and make connections. VRF is not supported when using <code><span style="color:var(--ds-icon-success,#22a06b);">interface</span></code> and multicast <span style="color:var(--ds-icon-success,#22a06b);"><code>group</code></span> settings. The same UDP <span style="color:var(--ds-icon-success,#22a06b);"><code>port</code></span> cannot be used in multiple routing tables at the same time. When using a VRF that is not set as the &quot;main&quot;, hardware offloading is disabled on compatible devices. The setting is available since RouterOS version 7.7.</span></td></tr><tr><td style="text-align: left;" class="confluenceTd"><span><strong>vteps-ip-version</strong> </span>(<em>ipv4 | ipv6</em>; Default:<span> <strong>ipv4</strong></span>)</td><td style="text-align: left;" class="confluenceTd"><p>Used IP protocol version for statically configured VTEPs. The RouterOS VXLAN interface does not support dual-stack, any configured remote VTEPs with the opposite IP version will be ignored. When multicast <code><span style="color:var(--ds-icon-success,#22a06b);">group</span></code> or <span style="color:var(--ds-icon-success,#22a06b);"><code>local-address</code></span> properties are set, the <code><span style="color:var(--ds-icon-success,#22a06b);">vteps-ip-version</span></code> automatically gets updated to the used IP version. Using IPv6 disables hardware offloading on compatible devices. The setting is available since RouterOS version 7.6.</p></td></tr></tbody></table></div><p><br/></p><p><strong>Sub-menu: </strong><code>/interface vxlan vteps</code></p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 94.3343%;"><colgroup><col style="width: 20.1675%;"/><col style="width: 79.8562%;"/></colgroup><thead><tr><th style="text-align: left;" class="confluenceTh"><p>Property</p></th><th style="text-align: left;" class="confluenceTh"><p>Description</p></th></tr></thead><tbody><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>comment</strong><span> </span>(<em>string</em>; Default: )</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Short description of the configured VTEP.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>interface</strong><span> </span>(<em>name</em>; Default:<span> </span>)</td><td style="text-align: left;" class="confluenceTd">Name of the VXLAN interface.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>remote-ip</strong><span> </span>(<em>IPv4 | IPv6</em>; Default:<span> </span>)</td><td style="text-align: left;" class="confluenceTd"><p>Defines the VTEP endpoint IPv4 or IPv6 address which is used when VXLAN interface needs to send BUM (broadcast, unknown-unicast, multicast) traffic. It is not used as access control.</p></td></tr></tbody></table></div><h1 id="VXLAN-Forwardingtable">Forwarding table</h1><hr/><p>Since RouterOS version 7.9, it is possible to monitor the learned MAC addresses from remote VTEPs.</p><p><strong>Sub-menu: </strong><code>/interface vxlan fdb</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup class=""><col class=""/><col class=""/></colgroup><thead class=""><tr class=""><th style="text-align: left;" class="confluenceTh"><p>Property</p></th><th style="text-align: left;" class="confluenceTh"><p>Description</p></th></tr></thead><tbody class=""><tr class=""><td style="text-align: left;" class="confluenceTd"><strong>interface</strong><span> <span style="color:var(--ds-text,#172b4d);">(</span><em style="text-align: left;">read-only: <em>name</em></em><span style="color:var(--ds-text,#172b4d);">)</span></span></td><td style="text-align: left;" class="confluenceTd">Name of the VXLAN interface.</td></tr><tr class=""><td style="text-align: left;" class="confluenceTd"><strong>mac-address</strong><span> <span style="color:var(--ds-text,#172b4d);">(</span><em style="text-align: left;">read-only: MAC address</em><span style="color:var(--ds-text,#172b4d);">)</span></span></td><td style="text-align: left;" class="confluenceTd"><p><span style="color:var(--ds-text,#172b4d);">MAC address.</span></p></td></tr><tr class=""><td style="text-align: left;" class="confluenceTd"><strong>remote-ip</strong><span> <span style="color:var(--ds-text,#172b4d);">(</span><em style="text-align: left;">read-only: IPv4 | IPv6 address</em><span style="color:var(--ds-text,#172b4d);">)</span></span></td><td style="text-align: left;" class="confluenceTd"><p>The IPv4 or IPv6 destination address of remote VTEP.</p></td></tr></tbody></table></div><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] &gt; /interface vxlan fdb print          
 0 remote-ip=2001::2 mac-address=56:FF:AA:1A:72:33 interface=vxlan1 

 1 remote-ip=2002::2 mac-address=AE:EC:C4:12:8B:B9 interface=vxlan1 

 2 remote-ip=192.168.10.20 mac-address=FE:AF:58:31:A7:B6 interface=vxlan2</pre>
</div></div><h1 id="VXLAN-Configurationexample">Configuration example</h1><hr/><p>This configuration example creates a single VXLAN tunnel between two statically configured VTEP endpoints.</p><p>First, create VXLAN interfaces on both routers.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface vxlan
add name=vxlan1 port=4789 vni=10</pre>
</div></div><p>Then configure VTEPs on both routers with respective IPv4 destination addresses. Both devices should have an active route toward the destination address.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false"># Router1
/interface vxlan vteps
add interface=vxlan1 remote-ip=192.168.10.10

# Router2
/interface vxlan vteps
add interface=vxlan1 remote-ip=192.168.20.20</pre>
</div></div><p>The configuration is complete. It is possible to include the VXLAN interface into a bridge with other Ethernet interfaces. </p><h1 id="VXLAN-HardwareoffloadedVXLAN">Hardware offloaded VXLAN</h1><hr/><p>Starting from RouterOS version 7.18, initial support for hardware-offloaded VXLAN was introduced. This makes offloaded VXLAN data plane possible, supporting encapsulation and decapsulation, and allowing for static one-to-one VLAN-to-VXLAN mappings within a vlan-filtering bridge. Refer to the <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/62390319/L3+Hardware+Offloading#L3HardwareOffloading-L3HWDeviceSupport" rel="nofollow">L3HW Device Support</a> documentation for a list of compatible devices.</p><p style="text-align: left;">At this point, some known features<strong> </strong>are not yet implemented.</p><p style="text-align: left;"><strong>Underlay (routing encapsulated VXLAN packets):</strong></p><p style="text-align: left;">1. VTEPs are not supported over ECMP,</p><p style="text-align: left;">2. VTEPs are not supported over bond, VLAN interfaces,</p><p style="text-align: left;">3. VTEPs are not supported over multicast,</p><p style="text-align: left;">4. VTEPs cannot operate within VRFs,</p><p style="text-align: left;">5. VTEPs are not supported with IPv6.</p><p style="text-align: left;"><strong>Overlay (forwarding between Ethernet and VXLAN):</strong></p><p style="text-align: left;">1. VLAN tagging over VXLAN is not supported,</p><p style="text-align: left;">2. Routing between different VXLAN VNIs is not supported,</p><p style="text-align: left;">3. VTEPs are isolated, and there is no mechanism to control &quot;horizon&quot; between them.</p><p style="text-align: left;">4. Bridged VXLAN interfaces do not support IGMP snooping. When snooping is enabled, MDB entries on VXLAN are not offloaded, and multicast traffic gets restricted between Ethernet and VXLAN.</p><p style="text-align: left;">5. Bridged VXLAN interfaces are not supported by MLAG.  </p><h2 style="text-align: left;" id="VXLAN-Basicconfigurationexample">Basic configuration example</h2><p style="text-align: left;"><span style="color:var(--ds-text,#333333);">In this example, static routing is used to reach remote VTEPs, but dynamic routing protocols like OSPF or BGP could also be used. The upstream interface has a higher MTU to support large packets and VXLAN encapsulation. Below is a network topology overview:</span></p><p style="text-align: left;"><span style="color:var(--ds-text,#333333);"><strong>sfp-sfpplus1</strong> - upstream (underlay) interface</span><br/><span style="color:var(--ds-text,#333333);"><strong>sfp-sfpplus3</strong> - bridged port for untagged VLAN 10</span><br/><span style="color:var(--ds-text,#333333);"><strong>sfp-sfpplus4</strong> - bridged port for untagged VLAN 20</span><br/><span style="color:var(--ds-text,#333333);"><strong>vxlan-10010</strong> - overlay port for untagged VLAN 10</span><br/><span style="color:var(--ds-text,#333333);"><strong>vxlan-10020</strong> - overlay port for untagged VLAN 20</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: routeros; gutter: false">/interface bridge
add name=bridge1 vlan-filtering=yes
/interface ethernet
set [ find default-name=sfp-sfpplus1 ] l2mtu=9500 mtu=9500
/interface vxlan
add bridge=bridge1 bridge-pvid=10 local-address=192.168.1.1 name=vxlan-10010 vni=10010
add bridge=bridge1 bridge-pvid=20 local-address=192.168.1.1 name=vxlan-10020 vni=10020
/interface bridge port
add bridge=bridge1 interface=sfp-sfpplus3 pvid=10
add bridge=bridge1 interface=sfp-sfpplus4 pvid=20
/interface vxlan vteps
add interface=vxlan-10010 remote-ip=192.168.1.2
add interface=vxlan-10020 remote-ip=192.168.1.2
/ip address
add address=192.168.1.1 interface=lo network=192.168.1.1
add address=192.168.10.10/24 interface=sfp-sfpplus1 network=192.168.10.0
/ip route
add dst-address=192.168.1.2 gateway=192.168.10.20
/interface ethernet switch
set 0 l3-hw-offloading=yes</pre>
</div></div><p style="text-align: left;"><br/></p>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 20, 2025 14:53</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
