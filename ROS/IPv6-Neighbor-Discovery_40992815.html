<!DOCTYPE html>
<html>
    <head>
        <title>RouterOS : IPv6 Neighbor Discovery</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="RouterOS_328059.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="IPv4-and-IPv6-Fundamentals_119144661.html">IPv4 and IPv6 Fundamentals</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            RouterOS : IPv6 Neighbor Discovery
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Unknown User (olga)</span>, last updated by <span class='editor'> Gļebs K.</span> on Mar 10, 2025
    
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><span class="mw-headline"><style type='text/css'>/*<![CDATA[*/
div.rbtoc1747742020982 {padding: 0px;}
div.rbtoc1747742020982 ul {margin-left: 0px;}
div.rbtoc1747742020982 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1747742020982'>
<ul class='toc-indentation'>
<li><a href='#IPv6NeighborDiscovery-Summary'>Summary</a></li>
<li><a href='#IPv6NeighborDiscovery-Nodedescription'>Node description</a></li>
<li><a href='#IPv6NeighborDiscovery-Statelessaddressautoconfiguration'>Stateless address autoconfiguration</a>
<ul class='toc-indentation'>
<li><a href='#IPv6NeighborDiscovery-Addressstates'>Address states</a></li>
</ul>
</li>
<li><a href='#IPv6NeighborDiscovery-Neighbordiscovery'>Neighbor discovery</a>
<ul class='toc-indentation'>
<li><a href='#IPv6NeighborDiscovery-Properties'>Properties</a></li>
</ul>
</li>
<li><a href='#IPv6NeighborDiscovery-Prefix'>Prefix</a>
<ul class='toc-indentation'>
<li><a href='#IPv6NeighborDiscovery-Properties.1'>Properties</a></li>
</ul>
</li>
<li><a href='#IPv6NeighborDiscovery-NeighborsList'>Neighbors List</a></li>
<li><a href='#IPv6NeighborDiscovery-Examples'>Examples</a>
<ul class='toc-indentation'>
<li><a href='#IPv6NeighborDiscovery-Statelessautoconfigurationexample'>Stateless autoconfiguration example</a></li>
</ul>
</li>
</ul>
</div></span></p><h1 id="IPv6NeighborDiscovery-Summary"><span class="mw-headline">Summary</span></h1><p><strong>Standards:</strong><span> </span><code>RFC 2462, RFC 2461, RFC 4861</code></p><p>RouterOS has IPv6 Neighbor Discovery and stateless address autoconfiguration support using Router Advertisement Daemon (RADVD).</p><h1 id="IPv6NeighborDiscovery-Nodedescription"><span class="mw-headline">Node description</span></h1><p>Node is a device that implements IPv6. In IPv6 networks nodes are divided into two types:</p><ul><li><strong>Routers</strong><span> </span>- a node that forwards IPv6 packets not explicitly addressed to itself.</li><li><strong>Hosts</strong><span> </span>- any node that is not a router.</li></ul><p>Routers and hosts are strictly separated, meaning that routers cannot be hosts and hosts cannot be routers at the same time.</p><h1 id="IPv6NeighborDiscovery-Statelessaddressautoconfiguration"><span class="mw-headline">Stateless address autoconfiguration</span></h1><p>There are several types of autoconfiguration:</p><ul><li><em>stateless</em><span> </span>- address configuration is done by receiving Router Advertisement messages. These messages include stateless address prefixes and require that host is not using stateful address configuration protocol.</li><li><em>stateful</em><span> </span>- address configuration is done by using the stateful address configuration protocol (DHCPv6). The stateful protocol is used if RA messages do not include address prefixes.</li><li><em>both</em><span> </span>- RA messages include stateless address prefixes and require that hosts use a stateful address configuration protocol.</li></ul><p>A highly useful feature of IPv6 is the ability to automatically configure itself without the use of a stateful configuration protocol like DHCP (<a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:IPv6/ND#Stateless_autoconfiguration_example" rel="nofollow" style="text-decoration: none;"><span> </span>See example</a>).</p><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Address autoconfiguration can only be performed on multicast-capable interfaces.</p></div></div><p><br/></p><p>It is called stateless address autoconfiguration since there is no need to manage the state on the router side. It is a very simple, robust, and effective autoconfiguration mechanism.</p><p>RouterOS uses RADVD to periodically advertise information about the link to all nodes on the same link. The information is carried by ICMPv6 &quot;router advertisement&quot; packet, and includes the following fields:</p><ul><li>IPv6 subnet prefix</li><li>Default router link-local address</li><li>Other parameters that may be optional: are link MTU, default hop limit, and router lifetime.</li></ul><p>Then host catches the advertisement, and configures the global IPv6 address and the default router. Global IPv6 address is generated from the advertised<span> </span><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:IPv6/Address#Prefix" rel="nofollow" style="text-decoration: none;" title="Manual:IPv6/Address"><strong>subnet prefix</strong></a><span> </span>and EUI-64<span> </span><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:IPv6/Address#Interface_Identifier" rel="nofollow" style="text-decoration: none;" title="Manual:IPv6/Address">interface identifier</a>.</p><p>Optionally, the host can ask for an advertisement from the router by sending an ICMPv6 &quot;router solicitation&quot; packet. On Linux<span> </span><strong>rtsol</strong><span> </span>utility transmits the router solicitation packet. If you are running a mobile node, you may want to transmit router solicitations periodically.</p><h2 id="IPv6NeighborDiscovery-Addressstates"><span class="mw-headline">Address states</span></h2><p>When an auto-configuration address is assigned it can be in one of the following states:</p><ul><li><em><strong><code>tentative</code></strong></em><span> </span>- in this state host verifies that the address is unique. Verification occurs through duplicate address detection.</li><li><em><strong><code>preferred</code></strong></em><span> </span>- at this state address is verified as unique and the node can send and receive unicast traffic to and from a preferred address. The period of time of the preferred state is included in the RA message.</li><li><em><strong><code>deprecated</code></strong></em><span> </span>- the address is still valid, but is not used for new connections.</li><li><em><strong><code>invalid</code></strong></em><span> </span>- node can no longer send or receive unicast traffic. An address enters the invalid state after the valid lifetime expires.</li></ul><p>The image above illustrates the relation between states and lifetimes.<span> </span><a class="external-link" href="https://wiki.mikrotik.com/wiki/File:Ipv6-lifetime.png" rel="nofollow" style="text-decoration: none;"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" draggable="false" src="attachments/40992815/40992846.png" data-image-src="attachments/40992815/40992846.png" data-unresolved-comment-count="0" data-linked-resource-id="40992846" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Ipv6-lifetime.png" data-base-url="https://help.mikrotik.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="40992815" data-linked-resource-container-version="13" tabindex="0" alt=""></span></a></p><h1 id="IPv6NeighborDiscovery-Neighbordiscovery"><span class="mw-headline">Neighbor discovery</span></h1><p><strong>Sub-menu:</strong><span> </span><code>/ipv6 nd</code></p><p>In this submenu, IPv6 Neighbor Discovery (ND) protocol is configured.</p><p>Neighbor Discovery (ND) is a set of messages and processes that determine relationships between neighboring nodes. ND, compared to IPv4, replaces Address Resolution Protocol (ARP), Internet Control Message Protocol (ICMP) Router Discovery, and ICMP Redirect and provides additional functionality.</p><p>ND is used by hosts to:</p><ul><li>Discover neighboring routers.</li><li>Discover addresses, address prefixes, and other configuration parameters.</li></ul><p>ND is used by routers to:</p><ul><li>Advertise their presence, host configuration parameters, and on-link prefixes.</li><li>Inform hosts of a better next-hop address to forward packets to a specific destination.</li></ul><p>ND is used by nodes to:</p><ul><li>Both resolve the link-layer address of a neighboring node to which an IPv6 packet is being forwarded and determine when the link-layer address of a neighboring node has changed.</li><li>Determine whether IPv6 packets can be sent to and received from a neighbor.</li></ul><h3 id="IPv6NeighborDiscovery-Properties"><span class="mw-headline">Properties</span></h3><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 14.4318px;"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>advertise-dns</strong><span> </span>(<em>yes </em>|<em> no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Option to redistribute DNS server information using RADVD. You will need a running client-side software with Router Advertisement DNS support to take advantage of the advertised<span> </span><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:IP/DNS" rel="nofollow" style="text-decoration: none;" title="Manual:IP/DNS">DNS</a><span> </span>information.<span> </span><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:IPv6/ND#Stateless_autoconfiguration_example" rel="nofollow" style="text-decoration: none;"><code>Read more &gt;&gt;</code></a></td></tr><tr><td class="confluenceTd"><strong>advertise-mac-address</strong><span> </span>(<em>yes </em>|<em> no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">When set, the link-layer address of the outgoing interface is included in the RA.</td></tr><tr><td class="confluenceTd"><strong>comment</strong><span> </span>(<em>string</em>; Default: )</td><td class="confluenceTd">Descriptive name of an item</td></tr><tr><td class="confluenceTd"><strong>dns-servers </strong>(<em>unspecified</em> | <em>ipv6 addresses</em>; Default: <strong>unspecified</strong>)</td><td class="confluenceTd">Specify a single IPv6 address or list of addresses that will be provided to hosts for DNS server configuration.</td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes </em>|<em> no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Whether an item is disabled or not. By default, entry is enabled.</td></tr><tr><td class="confluenceTd"><strong>hop-limit</strong><span> </span>(<em>unspecified </em>|<em> integer</em>[<em>0..255</em>]; Default:<span> </span><strong>unspecified</strong>)</td><td class="confluenceTd">The default value that should be placed in the Hop Count field of the IP header for outgoing (unicast) IP packets.</td></tr><tr><td class="confluenceTd"><strong>interface</strong><span> </span>(<em>all </em>|<em> string</em>; Default: )</td><td class="confluenceTd">The interface on which to run neighbor discovery.<ul><li>all<span> </span>- run ND on all running interfaces.</li></ul></td></tr><tr><td class="confluenceTd"><strong>managed-address-configuration</strong><span> </span>(<em>yes </em>|<em> no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">The flag indicates whether hosts should use stateful autoconfiguration (DHCPv6) to obtain addresses.</td></tr><tr><td class="confluenceTd"><strong>mtu</strong><span> </span>(<em>unspecified </em>|<em> integer</em>[<em>0..4294967295</em>]; Default:<span> </span><strong>unspecified</strong>)</td><td class="confluenceTd">The MTU option is used in router advertisement messages to ensure that all nodes on a link use the same MTU value in those cases where the link MTU is not well known.<ul><li><strong>unspecified</strong><span> </span>- do not send the MTU option.</li></ul></td></tr><tr><td class="confluenceTd"><strong>other-configuration</strong><span> </span>(<em>yes </em>|<em> no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">The flag indicates whether hosts should use stateful autoconfiguration to obtain additional information (excluding addresses).</td></tr><tr><td class="confluenceTd"><strong>pref64-prefixes </strong>(<em>unspecified</em> | <em>ipv6 prefixes</em>; Default: <strong>unspecified</strong>)</td><td class="confluenceTd">Specify IPv6 prefix or list of prefixes within /32, /40. /48, /56, /64, or /96 subnet that will be provided to hosts as NAT64 prefixes.</td></tr><tr><td class="confluenceTd"><strong>ra-delay</strong><span> </span>(<em>time</em>; Default:<span> </span><strong>3s</strong>)</td><td class="confluenceTd">The minimum time allowed between sending multicast router advertisements from the interface.</td></tr><tr><td class="confluenceTd"><strong>ra-interval</strong><span> </span>(<em>time</em>[<em>3s..20m50s</em>]<em>-time</em>[<em>4s..30m</em>]; Default:<span> </span><strong>3m20s-10m</strong>)</td><td class="confluenceTd">The min-max interval allowed between sending unsolicited multicast router advertisements from the interface.</td></tr><tr><td class="confluenceTd"><strong>ra-preference<span> </span></strong>(<em>low </em>|<em> medium </em>|<em> high</em>; Default:<span> </span><strong>medium</strong>)</td><td class="confluenceTd"><span style="text-decoration: none;color:var(--ds-text-accent-gray,#44546f);">Specify the router preference that is communicated to IPv6 hosts through router advertisements. The </span><code class="ph codeph" style="text-decoration: none;text-align: left;">preference</code><span style="text-decoration: none;color:var(--ds-text-accent-gray,#44546f);"> value in the router advertisements enables IPv6 hosts to select a default router to reach a remote destination</span></td></tr><tr><td class="confluenceTd"><strong>ra-lifetime</strong><span> </span>(<em>none </em>|<em> time</em>; Default:<span> </span><strong>30m</strong>)</td><td class="confluenceTd">Sets the RA lifetime. <span style="letter-spacing: 0.0px;">A Lifetime of 0 indicates that the router is not a default router.(see Section 6.2.3 of RFC 4861)</span></td></tr><tr><td class="confluenceTd"><strong>reachable-time</strong><span> </span>(<em>unspecified </em>|<em> time</em>[<em>0..1h</em>]; Default:<span> </span><strong>unspecified</strong>)</td><td class="confluenceTd">The time that a node assumes a neighbor is reachable after having received a reachability confirmation. Used by the Neighbor Unreachability Detection algorithm (see Section 7.3 of RFC 2461)</td></tr><tr><td class="confluenceTd"><strong>retransmit-interval</strong><span> </span>(<em>unspecified | time</em>; Default:<span> </span><strong>unspecified</strong>)</td><td class="confluenceTd">The time between retransmitted Neighbor Solicitation messages. Used by address resolution and the Neighbor Unreachability Detection algorithm (see Sections 7.2 and 7.3 of RFC 2461)</td></tr></tbody></table></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>If ND is automatically generated by LTE configuration, then the maximum lifetime for RA will be capped at 1 hour.</p></div></div><h1 id="IPv6NeighborDiscovery-Prefix"><span class="mw-headline">Prefix</span></h1><p><strong>Sub-menu:</strong><span> </span><code>/ipv6 nd prefix</code></p><p>Prefix information sent in RA messages used by stateless address auto-configuration.</p><p><strong>Note:</strong><span> </span>The autoconfiguration process applies only to hosts and not routers.</p><h3 id="IPv6NeighborDiscovery-Properties.1"><span class="mw-headline">Properties</span></h3><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 14.4318px;"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>6to4-interface</strong><span> </span>(<em>none | string</em>; Default: )</td><td class="confluenceTd">If this option is specified, this prefix will be combined with the IPv4 address of the interface name to produce a valid 6to4 prefix. The first 16 bits of this prefix will be replaced by 2002 and the next 32 bits of this prefix will be replaced by the IPv4 address assigned to the interface name at configuration time. The remaining 80 bits of the prefix (including the SLA ID) will be advertised as specified in the configuration file.</td></tr><tr><td class="confluenceTd"><strong>autonomous</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">When set, indicates that this prefix can be used for autonomous address configuration. Otherwise, prefix information is silently ignored.</td></tr><tr><td class="confluenceTd"><strong>comment</strong><span> </span>(<em>string</em>; Default: )</td><td class="confluenceTd">Descriptive name of an item</td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Whether an item is disabled or not. By default, entry is enabled.</td></tr><tr><td class="confluenceTd"><strong>on-link</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">When set, indicates that this prefix can be used for on-link determination. When not set the advertisement makes no statement about the on-link or off-link properties of the prefix. For instance, the prefix might be used for address configuration with some of the addresses belonging to the prefix being on-link and others being off-link.</td></tr><tr><td class="confluenceTd"><strong>preferred-lifetime</strong><span> </span>(<em>infinity | time</em>; Default:<span> </span><strong>1w</strong>)</td><td class="confluenceTd">Timeframe (relative to the time the packet is sent) after which generated address becomes &quot;deprecated&quot;. Deprecated is used only for already existing connections and is usable until<span> valid lifetime</span><span> </span>expires.<span> </span><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:IPv6/ND#Address_states" rel="nofollow" style="text-decoration: none;"><code>Read more &gt;&gt;</code></a></td></tr><tr><td class="confluenceTd"><strong>prefix</strong><span> </span>(<em>ipv6 prefix</em>; Default:<span> </span><strong>::/64</strong>)</td><td class="confluenceTd">A prefix from which stateless address autoconfiguration generates the valid address.</td></tr><tr><td class="confluenceTd"><strong>valid-lifetime</strong><span> </span>(<em>infinity | time</em>; Default:<span> </span><strong>4w2d</strong>)</td><td class="confluenceTd">The length of time (relative to the time the packet is sent) an address remains in the valid state. The<span> valid lifetime</span><span> </span>must be greater than or equal to the<span> preferred lifetime</span>.<span> </span><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:IPv6/ND#Address_states" rel="nofollow" style="text-decoration: none;"><code>Read more &gt;&gt;</code></a></td></tr><tr><td class="confluenceTd"><strong>interface</strong><span> </span>(<em>string</em>; Default: )</td><td class="confluenceTd">Interface name on which stateless auto-configuration will be running.</td></tr></tbody></table></div><h1 id="IPv6NeighborDiscovery-NeighborsList"><span class="mw-headline">Neighbors List</span></h1><p><span class="mw-headline"><strong>Sub-menu:</strong><span> </span><code>/ipv6 neighbor</code></span></p><p><span class="mw-headline">List of all discovered nodes by IPv6 neighbor discovery protocol (neighbor cache) or manually added by configuration.</span></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 16.2031px;"><tbody class=""><tr class=""><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr class=""><td class="confluenceTd"><strong>address</strong><span> </span>(<em>ipv6 address</em>; Default:<span> </span>)</td><td class="confluenceTd">IPv6 address of the neighbour.</td></tr><tr class=""><td class="confluenceTd"><strong>interface</strong><span> </span>(<em>string</em>; Default:<span> </span>)</td><td class="confluenceTd">interface name to which this neighbour is attached.</td></tr><tr class=""><td class="confluenceTd"><strong>mac-address</strong><span> </span>(<em>MAC</em>; Default:<span> </span><strong>00:00:00:00:00:00</strong>)</td><td class="confluenceTd">MAC address of the device to be added.</td></tr></tbody></table></div><p><strong><span class="mw-headline">Read-only Properties</span></strong></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 14.4318px;"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>address</strong><span> </span>(<em>ipv6 address</em>)</td><td class="confluenceTd">IPv6 address of the node.</td></tr><tr><td class="confluenceTd"><strong>interface</strong><span> </span>(<em>string</em>)</td><td class="confluenceTd">The interface on which the node was detected.</td></tr><tr><td class="confluenceTd"><strong>mac-address</strong><span> </span>(<em>string</em>)</td><td class="confluenceTd">Mac address of the discovered node.</td></tr><tr><td class="confluenceTd"><strong>router</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Whether the discovered node is a router</td></tr><tr><td class="confluenceTd"><strong>status</strong><span> </span>(<em>noarp | incomplete | stale | reachable | delay | probe | failed</em>)</td><td class="confluenceTd">Status of the cached entry:<ul><li><strong>noarp</strong><span> </span>- the neighbor entry is valid. No attempts to validate this entry will be made but it can be removed when its lifetime expires</li></ul><ul><li><strong>incomplete</strong><span> </span>- address resolution is in progress and the link-layer address of the neighbor has not yet been determined;</li></ul><ul><li><strong>reachable</strong><span> </span>- the neighbor is known to have been reachable recently (within tens of seconds ago);</li></ul><ul><li><strong>stale</strong><span> </span>- the neighbor is no longer known to be reachable but until traffic is sent to the neighbor, no attempt should be made to verify its reachability;</li></ul><ul><li><strong>delay</strong><span> </span>- the neighbor is no longer known to be reachable, and traffic has recently been sent to the neighbor, probes are delayed for a short period in order to give upper layer protocol a chance to provide reachability confirmation;</li></ul><ul><li><strong>probe</strong><span> </span>- the neighbor is no longer known to be reachable, and unicast Neighbor Solicitation probes are being sent to verify reachability.</li><li data-uuid="c75be12e-a398-4452-b2cf-3d27f9db8867"><strong>failed </strong>- the router was unable to resolve the neighbor’s MAC address using neighbor discovery protocol.</li></ul></td></tr></tbody></table></div><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>The default maximum number of neighbor entries depends on the installed amount of RAM. It can be adjusted with the command &quot;<span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>/ipv6 settings set max-neighbor-entries=x</code></span>&quot;, see more details on <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/103841817/IP+Settings#IPSettings-IPv6Settings" rel="nofollow">IPv6 Settings</a>.</p></div></div><h1 id="IPv6NeighborDiscovery-Examples"><span class="mw-headline">Examples</span></h1><h3 id="IPv6NeighborDiscovery-Statelessautoconfigurationexample"><span class="mw-headline">Stateless autoconfiguration example</span></h3><p style="margin-left: 20.0px;"><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] &gt; ipv6 address print
Flags: X - disabled, I - invalid, D - dynamic, G - global, L - link-local
# ADDRESS INTERFACE ADVERTISE
0 G 2001:db8::1/64 ether1 yes

</pre>
</div></div><p style="margin-left: 20.0px;">As an example, the <strong style="letter-spacing: 0.0px;">advertise </strong><span style="letter-spacing: 0.0px;">flag is enabled which indicates that dynamic</span><code style="letter-spacing: 0.0px;">/ipv6 nd prefix</code><span style="letter-spacing: 0.0px;">entry is added.</span></p><p style="margin-left: 20.0px;"><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] &gt; ipv6 nd prefix print 
Flags: X - disabled, I - invalid, D - dynamic 
0 D prefix=2001:db8::/64 interface=ether1 on-link=yes autonomous=yes
 valid-lifetime=4w2d preferred-lifetime=1w</pre>
</div></div><p style="margin-left: 20.0px;"><br/></p><p>On a host that is directly attached to the router, we see that an address was added. The address consists of the prefix part (first 64 bits) that takes the prefix from the prefix advertisement, and the host part (last 64 bits) that is automatically generated from the local MAC address:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">atis@atis-desktop:~$ ip -6 addr
 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 16436 
inet6 ::1/128 scope host 
valid_lft forever preferred_lft forever 
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qlen 1000 
inet6 2001:db8::21a:4dff:fe56:1f4d/64 scope global dynamic
 valid_lft 2588363sec preferred_lft 601163sec 
inet6 fe80::21a:4dff:fe56:1f4d/64 scope link 
valid_lft forever preferred_lft forever</pre>
</div></div><p style="margin-left: 20.0px;"><br/></p><p>The host has received the<span> </span><em>2001:db8::/64</em><span> </span>prefix from the router and configured an address with it.</p><p>There is also an option to redistribute<span> </span><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:IP/DNS" rel="nofollow" style="text-decoration: none;" title="Manual:IP/DNS">DNS</a><span> </span>server information using RADVD:</p><p style="margin-left: 20.0px;"><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] &gt; ip dns set server=2001:db8::2 
[admin@MikroTik] &gt; ip dns print servers: 2001:db8::2
 ... 
[admin@MikroTik] &gt; ipv6 nd set [f] advertise-dns=yes</pre>
</div></div><p style="margin-left: 20.0px;"><br/></p><p>You will need a running client-side software with Router Advertisement DNS support to take advantage of the advertised DNS information.</p><p>On Ubuntu/Debian Linux distributions you can install<span> </span><strong>rdnssd</strong><span> </span>package which is capable of receiving the advertised DNS addresses.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">mrz@bumba:/$ sudo apt-get install rdnssd</pre>
</div></div><p style="margin-left: 20.0px;"><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">mrz@bumba:/$ cat /etc/resolv.conf 
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
 # DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
 nameserver 2001:db8::2 

mrz@bumba:/$ ping6 www.mikrotik.com 
PING www.mikrotik.com(2a02:610:7501:1000::2) 56 data bytes
 64 bytes from 2a02:610:7501:1000::2: icmp_seq=1 ttl=61 time=2.11 ms
 64 bytes from 2a02:610:7501:1000::2: icmp_seq=2 ttl=61 time=1.33 ms 
^C
 --- www.mikrotik.com ping statistics --- 
2 packets transmitted, 2 received, 0% packet loss, time 1001ms 
rtt min/avg/max/mdev = 1.334/1.725/2.117/0.393 ms 
mrz@bumba:/$</pre>
</div></div>
                    </div>

                                                            <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/40992815/40992846.png">Ipv6-lifetime.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 20, 2025 14:53</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
