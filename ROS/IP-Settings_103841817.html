<!DOCTYPE html>
<html>
    <head>
        <title>RouterOS : IP Settings</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="RouterOS_328059.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="IPv4-and-IPv6-Fundamentals_119144661.html">IPv4 and IPv6 Fundamentals</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            RouterOS : IP Settings
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Edgars P.</span>, last updated by <span class='editor'> Rihards Vārna</span> on Feb 03, 2025
    
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1747742021217 {padding: 0px;}
div.rbtoc1747742021217 ul {margin-left: 0px;}
div.rbtoc1747742021217 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1747742021217'>
<ul class='toc-indentation'>
<li><a href='#IPSettings-Summary'>Summary</a></li>
<li><a href='#IPSettings-IPv4Settings'>IPv4 Settings</a></li>
<li><a href='#IPSettings-IPv6Settings'>IPv6 Settings</a></li>
</ul>
</div></p><h1 id="IPSettings-Summary"><span class="mw-headline">Summary</span></h1><p><span class="mw-headline">Several IPv4 and IPv6 related kernel and system-wide parameters are configurable.</span></p><h1 id="IPSettings-IPv4Settings"><span class="mw-headline">IPv4 Settings</span></h1><p><strong>Sub-menu:</strong> <code>/ip settings</code></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 10.0px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>accept-redirects</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Whether to accept ICMP redirect messages. Typically should be enabled on a host and disabled on routers.</td></tr><tr><td class="confluenceTd"><strong>accept-source-route</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Whether to accept packets with the SRR option. Typically should be enabled on the router.</td></tr><tr><td class="confluenceTd"><strong>allow-fast-path</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Allows<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/Packet+Flow+in+RouterOS#PacketFlowinRouterOS-FastPath" rel="nofollow">Fast Path</a>.</td></tr><tr><td class="confluenceTd"><strong>arp-timeout</strong><span> </span>(<em>time interval</em>; Default:<span> </span><strong>30s</strong>)</td><td class="confluenceTd">Sets Linux<span> </span><strong>base_reachable_time</strong><span> </span>(base_reachable_time_ms) on all interfaces that use ARP. The initial validity of the ARP entry is picked from the interval [timeout/2 - 3*timeout/2] (default from 15s to 45s) after the neighbor was found. Can use postfix ms, s, m, h, d for milliseconds, seconds, minutes, hours, or days. if no postfix is set then seconds (s) are used. The parameter means how long a valid ARP record will be considered complete if no one communicates with the specific MAC/IP during this time. The parameter<span> </span>does not represent a time when an ARP entry is removed from the ARP cache (see<strong> max-neighbor-entries </strong>setting).</td></tr><tr><td class="confluenceTd"><strong><span>icmp-errors-use-inbound-interface-address </span></strong>(<em>yes | no</em>; Default: no)</td><td class="confluenceTd">If enabled, <span style="text-decoration: none;color:var(--ds-text,#333333);">the ICMP error message reply will be sent with the source address equal to primary address of the receiving interface that caused the error . This feature can be useful for complex network debugging.</span></td></tr><tr><td class="confluenceTd"><strong>icmp-rate-limit</strong><span> </span>(<em>integer [0..4294967295]</em>; Default:<span> </span><strong>10</strong>)</td><td class="confluenceTd">Limit the maximum rates for sending ICMP packets whose type matches<span> </span>icmp-rate-mask<span> </span>to specific targets. <strong>0</strong> disables any limiting, other values indicate the minimum space between responses in milliseconds.</td></tr><tr><td class="confluenceTd"><strong>icmp-rate-mask</strong><span> </span>(<em>[0..FFFFFFFF]</em>; Default:<span> </span><strong>0x1818</strong>)</td><td class="confluenceTd">Mask made of ICMP types for which rates are being limited.<span> </span><a class="external-link" href="http://man7.org/linux/man-pages/man7/icmp.7.html" rel="nofollow" style="text-decoration: none;">More info in Linux man pages</a></td></tr><tr><td class="confluenceTd"><strong>ip-forward</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Enable/disable packet forwarding between interfaces. Resets all configuration parameters to defaults according to RFC1812 for routers.</td></tr><tr><td class="confluenceTd"><strong>ipv4-multipath-hash-policy</strong>(<em>l3 | l4 | l3-inner</em>; Default:<span> </span><strong>l3</strong>)</td><td class="confluenceTd"><p>IPv4 Hash policy used for ECMP routing in <span style="color:var(--ds-background-accent-blue-bolder,#0c66e4);"><code>/ip/settings</code></span> menu</p><ul><li>l3 -- layer-3 hashing of src IP, dst IP</li><li>l3-inner -- layer-3 hashing or inner layer-3 hashing if available</li><li>l4 -- layer-4 hashing of src IP, dst IP, IP protocol, src port, dst port</li></ul></td></tr><tr><td class="confluenceTd"><strong>rp-filter</strong><span> </span>(<em>loose | no | strict</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Disables or enables source validation.<ul><li>no - No source validation.</li><li>strict - Strict mode as defined in RFC3704 Strict Reverse Path. Each incoming packet is tested against the FIB and if the interface is not the best reverse path the packet check will fail. By default failed packets are discarded.</li><li>loose - Loose mode as defined in RFC3704 Loose Reverse Path. Each incoming packet's source address is also tested against the FIB and if the source address is not reachable via any interface the packet check will fail.</li></ul>The current recommended practice in RFC3704 is to enable strict mode to prevent IP spoofing from DDoS attacks. If using asymmetric routing or other complicated routing or VRRP, then the loose mode is recommended.<p><strong>Warning:</strong><span> </span>strict mode does not work with routing tables</p></td></tr><tr><td class="confluenceTd"><strong>secure-redirects</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Accept ICMP redirect messages only for gateways, listed in the default gateway list.</td></tr><tr><td class="confluenceTd"><strong>send-redirects</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Whether to send ICMP redirects. Recommended to be enabled on routers.</td></tr><tr><td class="confluenceTd"><p><strong>tcp-timestamps </strong>(<em>disabled | enabled | random-offset</em>; Default: random-offset)</p></td><td class="confluenceTd">Parameter allows to enable/disable TCP timestamps or add random offset to TCP timestamp (default behavior). Disabling timestamps completely may help to reduce spikes of performance drops.</td></tr><tr><td class="confluenceTd"><strong>tcp-syncookies</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Send out syncookies when the syn backlog queue of a socket overflows. This is to prevent the common 'SYN flood attack'. syncookies seriously violate TCP protocol, and disallow the use of TCP extensions, which can result in serious degradation of some services (f.e. SMTP relaying), visible not by you, but to your clients and relays, contacting you.</td></tr><tr><td class="confluenceTd"><strong>max-neighbor-entries</strong><span> </span>(<em>integer [0..4294967295]</em>; Default:<span> </span>)</td><td class="confluenceTd"><p>Sets Linux <strong>gc_thresh3.</strong> A maximum number of allowed neighbors in the ARP table. Since RouterOS version 7.1, <span style="color:var(--ds-text,#172b4d);">the default value depends on the installed amount of RAM. It is possible to set a higher value than the default, but it increases the risk of out-of-memory condition.</span></p><p><span style="color:var(--ds-text,#172b4d);">The default values for certain RAM sizes:</span></p><ul><li><span style="color:var(--ds-text,#172b4d);">2048 for 64 MB,</span></li><li><span style="color:var(--ds-text,#172b4d);">4096 for 128 MB,</span></li><li><span style="color:var(--ds-text,#172b4d);">8192 for 256 MB,</span></li><li><span style="color:var(--ds-text,#172b4d);">16384 for 512 MB or higher.</span></li></ul><p><span style="color:var(--ds-text-accent-purple-bolder,#352c63);">The ARP cache stores ARP entries, and if some of these entries are incomplete, they can stay in the cache for an indefinite period of time. This will only happen if the number of entries in the cache is less than one-fourth of the maximum number allowed. The reason for this is to prevent the unnecessary running of the garbage-collector when the ARP table is not close to being full.</span></p></td></tr><tr><td class="confluenceTd"><strong>route-cache</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Disable or enable the Linux route cache. Note that disabling the route cache, will also disable the fast path.</td></tr></tbody></table></div><p><strong><span class="mw-headline">Read-Only Properties</span></strong></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 10.0px;"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>ipv4-fast-path-active</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Indicates whether fast-path is active</td></tr><tr><td class="confluenceTd"><strong>ipv4-fast-path-bytes</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">Amount of fast-pathed bytes</td></tr><tr><td class="confluenceTd"><strong>ipv4-fast-path-packets</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">Amount of fast-pathed packets</td></tr><tr><td class="confluenceTd"><strong>ipv4-fasttrack-active</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Indicates whether fasttrack is active</td></tr><tr><td class="confluenceTd"><strong>ipv4-fasttrack-bytes</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">Amount of fasttracked bytes</td></tr><tr><td class="confluenceTd"><strong>ipv4-fasttrack-packets</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">Amount of fasttracked packet.</td></tr></tbody></table></div><h1 id="IPSettings-IPv6Settings"><span class="mw-headline">IPv6 Settings</span></h1><p><strong>Sub-menu:</strong> <code>/ipv6 settings</code></p><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Changing /ipv6 settings will not dynamically remove the old SLAAC configuration present on your router. A reboot is required to apply the new settings.</p></div></div><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 14.4318px;"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>accept-redirects</strong><span> </span>(<em>no | yes-if-forwarding-disabled</em>; Default:<span> </span><strong>yes-if-forwarding-disabled</strong>)</td><td class="confluenceTd">Whether to accept ICMP redirect messages. Typically should be enabled on the host and disabled on routers</td></tr><tr><td class="confluenceTd"><strong>accept-router-advertisements</strong><span> </span>(<em>no | yes | yes-if-forwarding-disabled</em>; Default:<span> </span><strong>yes-if-forwarding-disabled</strong>)</td><td class="confluenceTd">Accept router advertisement (RA) messages. If enabled, the router will be able to get the address using<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/IPv6+Neighbor+Discovery#IPv6NeighborDiscovery-Statelessaddressautoconfiguration" rel="nofollow">stateless address configuration</a></td></tr><tr><td class="confluenceTd"><strong>disable-ipv6 </strong>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enable/disable system wide IPv6 settings (prevents LL address generation)</td></tr><tr><td class="confluenceTd"><strong>forward</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Enable/disable packet forwarding between interfaces</td></tr><tr><td class="confluenceTd"><strong>max-neighbor-entries</strong> (<em>integer [0..4294967295]</em>; Default:<span> </span>)</td><td class="confluenceTd">A maximum number or IPv6 neighbors. Since RouterOS version 7.1, <span style="color:var(--ds-text,#172b4d);">the default value depends on the installed amount of RAM. It is possible to set a higher value than the default, but it increases the risk of out-of-memory condition.</span><p><span style="color:var(--ds-text,#172b4d);">The default values for certain RAM sizes:</span></p><ul><li><span style="color:var(--ds-text,#172b4d);">1024 for 64 MB,</span></li><li><span style="color:var(--ds-text,#172b4d);">2048 for 128 MB,</span></li><li><span style="color:var(--ds-text,#172b4d);">4096 for 256 MB,</span></li><li><span style="color:var(--ds-text,#172b4d);">8192 for 512 MB,</span></li><li><span style="color:var(--ds-text,#172b4d);">16384 for 1024 MB or higher.</span></li></ul></td></tr><tr><td class="confluenceTd"><strong>multipath-hash-policy</strong><span> </span>(<em>l3 | l4 | l3-inner</em>; Default:<span> </span><strong>l3</strong>)</td><td class="confluenceTd"><p>IPv6 Hash policy used for ECMP routing in <span style="color:var(--ds-background-accent-blue-bolder,#0c66e4);"><code>/ipv6/settings</code></span> menu</p><ul><li>l3 -- layer-3 hashing of src IP, dst IP, flow label, IP protocol</li><li>l3-inner -- layer-3 hashing or inner layer-3 hashing if available</li><li>l4 -- layer-4 hashing of src IP, dst IP, IP protocol, src port, dst port</li></ul></td></tr><tr><td class="confluenceTd"><strong>disabled-link-local-address<span> </span>(<em>no | yes </em>; Default:<span> no</span>)</strong></td><td class="confluenceTd"><p>Disable automatic link-local address generation for non-VPN interfaces. This can be used when manually configured link-local addresses are being used.</p></td></tr><tr><td class="confluenceTd"><strong><strong>stale-neighbor-timeout<span> </span>(<em>time </em>; Default:<span> 60</span>)</strong></strong></td><td class="confluenceTd"><p>Timeout after which stale IPv6/Neighbor entries should be purged.</p></td></tr><tr><td class="confluenceTd"><strong><strong>min-neighbor-entries<span> </span>(<em>integer </em>; Default:<span> 4096</span>)</strong></strong></td><td class="confluenceTd"><p>Minimal number of IPv6/Neighbor entries, for which device must allocate memory.</p></td></tr><tr><td class="confluenceTd"><strong><strong>soft-max-neighbor-entries<span> </span>(<em>integer </em>; Default:<span> 8192</span>)</strong></strong></td><td class="confluenceTd"><p>Expected maximum number of IPv6/Neighbor entries which system should handle.</p></td></tr><tr><td class="confluenceTd"><strong><strong>max-neighbor-entries<span> </span>(<em>integer </em>; Default: </strong></strong><span style="font-size: 14.0px;letter-spacing: 0.0px;">16384</span><strong style="font-size: 14.0px;letter-spacing: 0.0px;"><strong>)</strong></strong></td><td class="confluenceTd"><p>Maximum number of entries for IPv7/Neighbor list.</p></td></tr><tr><td class="confluenceTd"><strong><strong>allow-fast-path<span> </span>(<em>yes | no</em>; Default:<span> </span>yes)</strong></strong></td><td class="confluenceTd"><p>Allows<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/Packet+Flow+in+RouterOS#PacketFlowinRouterOS-FastPath" rel="nofollow">Fast Path</a>.</p></td></tr></tbody></table></div><p><strong><span class="mw-headline">Read-Only Properties</span></strong></p><div class="table-wrap"><table class="wrapped confluenceTable" style="margin-left: 10.0px;"><tbody class=""><tr class=""><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr class=""><td class="confluenceTd"><strong>ipv6-fast-path-active</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Indicates whether fast-path is active</td></tr><tr class=""><td class="confluenceTd"><strong>ipv6-fast-path-bytes</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">Amount of fast-pathed bytes</td></tr><tr class=""><td class="confluenceTd"><strong>ipv6-fast-path-packets</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">Amount of fast-pathed packets</td></tr><tr class=""><td class="confluenceTd"><strong>ipv6-fasttrack-active</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Indicates whether fasttrack is active</td></tr><tr class=""><td class="confluenceTd"><strong>ipv6-fasttrack-bytes</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">Amount of fasttracked bytes</td></tr><tr class=""><td class="confluenceTd"><strong>ipv6-fasttrack-packets</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">Amount of fasttracked packet.</td></tr></tbody></table></div>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 20, 2025 14:53</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
