<!DOCTYPE html>
<html>
    <head>
        <title>RouterOS : RouterBOARD</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="RouterOS_328059.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="Hardware_13500445.html">Hardware</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            RouterOS : RouterBOARD
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Unknown User (olga)</span>, last updated by <span class='editor'> Matīss O.</span> on May 09, 2025
    
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1747742045887 {padding: 0px;}
div.rbtoc1747742045887 ul {margin-left: 0px;}
div.rbtoc1747742045887 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1747742045887'>
<ul class='toc-indentation'>
<li><a href='#RouterBOARD-Introduction'>Introduction</a></li>
<li><a href='#RouterBOARD-Properties'>Properties</a></li>
<li><a href='#RouterBOARD-UpgradingRouterBOOT'>Upgrading RouterBOOT</a></li>
<li><a href='#RouterBOARD-Settings'>Settings</a>
<ul class='toc-indentation'>
<li><a href='#RouterBOARD-Prebootetherboot'>Preboot etherboot</a></li>
<li><a href='#RouterBOARD-Protectedbootloader'>Protected bootloader</a></li>
<li><a href='#RouterBOARD-ModeandResetbuttons'>Mode and Reset buttons</a></li>
</ul>
</li>
</ul>
</div></p><h1 id="RouterBOARD-Introduction">Introduction</h1><p>On RouterBOARD devices, the following menu exists which gives you some basic information about your device:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@demo.mt.lv] /system routerboard&gt; print 
       routerboard: yes
             model: 1200
     serial-number: 3B5E02741BF0
     firmware-type: amcc460
  factory-firmware: 2.38
  current-firmware: 7.1beta3
  upgrade-firmware: 7.2
  </pre>
</div></div><h1 id="RouterBOARD-Properties">Properties</h1><p><strong>Read-only properties:</strong></p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="margin-left: 14.4318px;width: 84.1398%;"><colgroup><col style="width: 37.4462%;"/><col style="width: 62.5625%;"/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>current-firmware</strong><span> </span>(<em>string</em>)</td><td class="confluenceTd">The version of the RouterBOOT loader is currently in use. Not to be confused with RouterOS operating system version.</td></tr><tr><td class="confluenceTd"><strong>factory-firmware</strong><span> </span>(<em>string</em>)</td><td class="confluenceTd">The version of the RouterBOOT loader the particular device was manufactured with.</td></tr><tr><td class="confluenceTd"><strong>firmware-type</strong><span> </span>(<em>string</em>)</td><td class="confluenceTd">Firmware type that is used on the particular device.</td></tr><tr><td class="confluenceTd"><strong>model</strong><span> </span>(<em>string</em>)</td><td class="confluenceTd">Describes the model name.</td></tr><tr><td class="confluenceTd"><strong>routerboard</strong> (<em>yes | no</em>)<strong><br/></strong></td><td class="confluenceTd">Whether this is a MikroTik RouterBOARD device.</td></tr><tr><td class="confluenceTd"><strong>serial-number</strong><span> </span>(<em>string</em>)</td><td class="confluenceTd">The serial number of this particular device.</td></tr><tr><td class="confluenceTd"><strong>upgrade-firmware</strong><span> </span>(<em>string</em>)</td><td class="confluenceTd">RouterOS upgrades also include new RouterBOOT version files, but they have to be applied manually. This line shows if a new RouterBOOT file has been found in the device. The file can either be included via a recent RouterOS upgrade or an FWF file that has been manually uploaded to the router. In either case, the newest found version will be shown here.</td></tr></tbody></table></div><h1 id="RouterBOARD-UpgradingRouterBOOT"><span class="mw-headline">Upgrading RouterBOOT</span></h1><p>RouterBOOT upgrades usually include minor improvements to overall RouterBOARD operation. It is recommended to keep this version upgraded. If you see that the <strong>upgrade-firmware</strong> value is bigger than <strong>current firmware</strong>, you simply need to perform the <strong>upgrade</strong> command, accept it with <strong>y</strong> and then reboot with <strong>/system reboot</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false"> [admin@mikrotik] /system routerboard&gt; upgrade 
Do you really want to upgrade firmware? [y/n] 
y
echo: system,info,critical Firmware upgraded successfully, please reboot for changes to take effect!

</pre>
</div></div><p><span style="letter-spacing: 0.0px;">After rebooting, the </span><strong style="letter-spacing: 0.0px;">current-firmware </strong><span style="letter-spacing: 0.0px;">value should become identical with </span><strong style="letter-spacing: 0.0px;">upgrade-firmware</strong></p><h1 id="RouterBOARD-Settings"><span class="mw-headline">Settings</span></h1><p><strong>Sub-menu level:</strong><span> </span><code>/system routerboard settings</code></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] /system/routerboard/settings&gt; print 
              auto-upgrade: no
                 baud-rate: 115200
                boot-delay: 2s
            enter-setup-on: any-key
               boot-device: nand-if-fail-then-ethernet
         preboot-etherboot: disabled
             cpu-frequency: 1200MHz
          memory-frequency: 1066DDR
             boot-protocol: bootp
       enable-jumper-reset: yes
       force-backup-booter: no
               silent-boot: yes
      protected-routerboot: disabled
      reformat-hold-button: 20s
  reformat-hold-button-max: 10m</pre>
</div></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p><span style="color:var(--ds-text,#172b4d);">Starting from RouterOS version 7.17 device-mode restricts SwOS/RouterOS transition for dual-boot; in order to enable: system/device-mode/update routerboard=yes</span></p></div></div><p style="margin-left: 20.0px;"><br/></p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="margin-left: 14.4318px;width: 99.324%;"><colgroup><col style="width: 30.8498%;"/><col style="width: 69.1462%;"/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>auto-upgrade</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Whether to upgrade firmware automatically after RouterOS upgrade. The latest firmware will be applied after an additional reboot</td></tr><tr><td class="confluenceTd"><strong>baud-rate</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>115200</strong>)</td><td class="confluenceTd">Choose the onboard RS232 speed in bits per second (if installed)</td></tr><tr><td class="confluenceTd"><strong>boot-delay</strong><span> </span>(<em>time</em>; Default:<span> 2</span><strong>s</strong>)</td><td class="confluenceTd">How much time does to wait for a keystroke while booting</td></tr><tr><td class="confluenceTd"><strong>boot-device</strong><span> </span>(<em>nand-if-fail-then-ethernet ...</em>; Default:<span> </span><strong>nand-if-fail-then-ethernet</strong>)</td><td class="confluenceTd"><div class="content-wrapper">Choose the way RouterBOOT loads the operating system:<ul><li>ethernet - boot the device in <strong>E</strong><span style="color:var(--ds-text,#333333);"><strong>therboot </strong>mode</span>;</li><li>flash-boot<span> </span>- <span style="color:var(--ds-text,#172b4d);">Flashfig mode on startup is enabled. This setting will revert to NAND after a successful configuration change OR once any user logs into the board.</span></li><li>flash-boot-once-then-nand<span> </span>- Flashfig mode on startup is enabled for a single boot only, resets to nand-if-fail-then-ethernet after that.</li><li>nand-if-fail-then-ethernet - boot RouterOS from the NAND, if RouterOS is not booting - <span style="color:var(--ds-text,#172b4d);">it goes to Etherboot automatically. This is the default mode for devices straight out of the box;</span></li><li>nand-only - boot RouterOS from the NAND;</li><li>try-ethernet-once-then-nand<span> </span>- boot device in E<span style="color:var(--ds-text,#333333);">therboot mode once and if no server is available - it will b</span><span style="color:var(--ds-text,#333333);">oot directly from the NAND or of the storage type the device is using. </span></li></ul><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><p class="title conf-macro-render">Note</p><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p><span style="color:var(--ds-text,#333333);">Etherboot mode is a special state for a MikroTik device that allows you to reinstall your device using<span> </span></span><a href="https://help.mikrotik.com/docs/display/ROS/Netinstall" rel="nofollow">Netinstall</a><span style="color:var(--ds-text,#333333);">. </span></p><p><span style="color:var(--ds-text,#333333);">There are several ways to put your device into Etherboot mode depending on the device you are using:</span></p><p><span style="color:var(--ds-text,#333333);">1. Press the Reset button and power on your device (wait until &quot;USR&quot; led is blinking then stable &quot;On&quot; and when the &quot;USR&quot; led is &quot;Off&quot; - release the Reset button) - the device is booting in <strong>bootp </strong>mode to reinstall RouterOS using Netinstall.<br/>2. Using the serial console, w<span style="color:var(--ds-text,#172b4d);">hen the device is booting up, keep pressing</span><span style="color:var(--ds-text,#172b4d);"> </span><strong>CTRL+E</strong><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">on your keyboard until the device shows that it is</span><span style="color:var(--ds-text,#172b4d);"> </span><strong>trying bootp protocol</strong><br/>3. Using the serial console, press any key while the device is booting and choose &quot;o&quot; then &quot;1&quot; and &quot;x&quot;</span></p></div></div></div></td></tr><tr><td class="confluenceTd"><strong>boot-os</strong><span> </span>(<em>router-os |swos</em>; Default:<span> </span><strong>router-os</strong>)</td><td class="confluenceTd">Changes the booting <a href="https://help.mikrotik.com/docs/display/ROS/CRS3xx%2C+CRS5xx%2C+CCR2116%2C+CCR2216+switch+chip+features#CRS3xx,CRS5xx,CCR2116,CCR2216switchchipfeatures-DualBoot" rel="nofollow">operating system</a> for CRS3xx series switches</td></tr><tr><td class="confluenceTd"><strong>boot-protocol</strong><span> </span>(<em>bootp |dhcp ...</em>; Default:<span> </span><strong>bootp</strong>)</td><td class="confluenceTd">Boot protocol to use:<ul><li>bootp<span> </span>- the default option for booting RouterOS</li><li>dhcp<span> </span>- used for OpenWRT and possibly other OS</li></ul></td></tr><tr><td class="confluenceTd"><strong>cpu-frequency</strong><span> </span>(<em>depends on model</em>; Default:<span> </span><strong>depends on model</strong>)</td><td class="confluenceTd">This option allows for changing the CPU frequency of the device. Values depend on the model, to see available options, hit the [?] button in RouterOS version 6 or the [F1] button in <span style="letter-spacing: 0.0px;"><span>RouterOS </span></span><span style="letter-spacing: 0.0px;">version 7 </span>on the keyboard at this prompt</td></tr><tr><td class="confluenceTd"><strong>cpu-mode</strong><span> </span>(<em>power-save | regular</em>; Default:<span> </span><strong>power-save</strong>)</td><td class="confluenceTd">Whether to enter CPU suspend mode in HTL instruction. Most OSs use HLT instruction during the CPU idle cycle. When the CPU is in suspend mode, it consumes less power, but in low-temperature conditions, it is recommended to choose a regular mode, so that the overall system temperature would be higher</td></tr><tr><td class="confluenceTd"><strong>enable-jumper-reset</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Disable this to avoid accidental setting reset via the onboard jumper</td></tr><tr><td class="confluenceTd"><strong>enter-setup-on</strong><span> </span>(<em>any-key | delete-key</em>; Default:<span> <strong>delete</strong></span><strong>-key</strong>)</td><td class="confluenceTd"><div class="content-wrapper"><p>Which key will cause the BIOS to enter configuration mode during boot delay. Useful when the serial console prints out symbols during the boot process and goes into RouterBOOT menu by itself. Note that in some serial terminal programs, it is impossible to use the Delete key to enter the setup - in this case, it might be possible to do this with the Backspace key</p></div></td></tr><tr><td class="confluenceTd"><strong>force-backup-booter</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">If to use the backup RouterBOOT. This is only useful if the main loader has become corrupted somehow and cannot be fixed. So that you don't have to boot the device with a pushed reset button (which loads the backup loader), you can use this setting to load it every time<ul><li>yes<span> </span>- backup loader will be used always</li><li>no<span> </span>- main booter will be used</li></ul></td></tr><tr><td class="confluenceTd"><strong>init-delay </strong>(<em>timeout interval 0s..9s</em>; Default:<span> </span>)</td><td class="confluenceTd"><p><strong><span class="mw-headline">Used for mPCIe modems with RB9xx series devices only</span></strong></p><p><span class="mw-headline"><span style="color:var(--ds-text,#172b4d);">In case your modem is not being recognized after a soft reboot, then you might need to add a delay before the USB port is initialized</span></span></p></td></tr><tr><td class="confluenceTd"><strong>memory-frequency</strong><span> </span>(<em>depends on model</em>; Default:<span> </span><strong>depends on model</strong>)</td><td class="confluenceTd">This option allows changing the memory frequency of the device. Values depend on the model, to see available options, hit the [?] button in RouterOS version 6 or the [F1] button in <span><span>RouterOS </span></span><span>version 7 </span>button on the keyboard at this prompt</td></tr><tr><td class="confluenceTd"><strong>memory-data-rate</strong><span> </span>(<em>depends on the model</em>; Default:<span> </span><strong>depends on model</strong>)</td><td class="confluenceTd">This option allows changing the memory data rate of the device. Values depend on the model, to see available options, hit the [?] button in RouterOS version 6 or the [F1] button in <span><span>RouterOS </span></span><span>version 7 </span>button on the keyboard at this prompt</td></tr><tr><td class="confluenceTd"><strong>preboot-etherboot </strong>(<em>timeout interval 1s..30s</em>; Default:<span> <strong>d</strong></span><strong>isabled</strong>)</td><td class="confluenceTd"><div class="content-wrapper"><p>Enables <strong>preboot etherboot</strong>, which runs before the regular boot device. It works the same as <strong>boot-device=etherboot</strong>, but has an additional timeout value. If an IP address is not received from the Netinstall server before the timeout expires, the regular booting process will start.</p><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><p class="title conf-macro-render">Note</p><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>The preboot-etherboot configuration is stored in the BIOS, downgrading RouterOS to older versions will not disable it. This feature can be disabled from the RouterOS menu or by resetting the BIOS.</p><p>Since etherboot accepts IP addresses from any BOOTP/DHCP server, use preboot-etherboot-server to start etherboot only when address is received from specified Netinstall server.</p></div></div></div></td></tr><tr><td class="confluenceTd"><strong>preboot-etherboot-server </strong>(<em>IP address, any</em>: Default: <strong>any</strong>)</td><td class="confluenceTd"><span style="color:var(--ds-text,#172b4d);">Sets <strong>preboot-etherboot</strong> to accept IP address only from the specified Netinstall server IP address. By enabling this feature, unintentional etherboot from other BOOTP/DHCP servers can be prevented.</span></td></tr><tr><td class="confluenceTd"><strong>regulatory-domain-ce</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables extra-low TX power for high antenna gain devices (requires a reboot)</td></tr><tr><td class="confluenceTd"><strong>silent-boot</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">This option disables output on the serial console and beeping sounds during booting, to avoid the text output interrupting a connected device. Useful if you have some temperature monitor or modem connected to the serial port<ul><li>yes<span> </span>- no output on the serial console and no booting beeps (does not disable the RouterOS: beep command)</li><li>no<span> </span>- regular info and options menu on a serial console</li></ul></td></tr></tbody></table></div><p><br/></p><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>If the CPU or memory is overclocked and that is the reason why the router is not performing as suspected, then this is not considered a warranty case and you should return both frequencies to a nominal value.</p></div></div><h2 id="RouterBOARD-Prebootetherboot"><span class="mw-headline">Preboot etherboot</span></h2><p><br/><strong>preboot-etherboot</strong> is a feature that instructs RouterOS device to search for a Netinstall server on every boot for specified amount of time, before starting the regular booting process (e.g., RouterOS). This feature is particularly useful for remote reinstall, as it allows the device to attempt etherboot on every startup.</p><p><strong>preboot-etherboot-server </strong>specifies that the <strong>preboot-etherboot</strong> booter should look only for a Netinstall server with a specific IP address. Since by default, etherboot accepts address from any BOOTP/DHCP server,  with this feature, you can specify to accept the address only from a particular Netinstall server, meaning that the device can be reinstalled without removing it from the network.</p><p>With both features enabled, any device can be reinstalled remotely without accessing RouterOS or holding the reset button. One example of starting a remote reinstall process would be to simply power cycle RouterOS device from a PoE switch or another power controller. After installation, disable your Netinstall server and simply power cycle the installed device.</p><p>To enable <strong>preboot-etherboot</strong> and <strong>preboot-etherboot-server</strong>:</p><p>1) Install RouterOS version 7.9+<br/>2) Upgrade RouterBOOT with &quot;/system routerboard upgrade&quot;<br/>3) Reboot</p><p>The feature can be set with command:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">system/routerboard/settings/set preboot-etherboot=9s preboot-etherboot-server=10.155.115.199</pre>
</div></div><p>On every next reboot/power cycle, this device will try to receive IP address from Netinstall server with IP 10.155.115.199, for 9 seconds. If there will be no such server, regular boot process will start. </p><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>In case if the preboot-etherboot is set to boot from any IP (preboot-etherboot-server is not specified), the device will enter etherboot mode from any Netinstall/DHCP server-provided IP address and will wait for the reinstall process. Also, note that RouterOS reinstall does not affect BIOS settings, and preboot-etherboot would still be enabled and would try to enter etherboot. To avoid this scenario without accessing RouterOS, simply disable any attached Netinstall/DHCP server.</p></div></div><h2 id="RouterBOARD-Protectedbootloader"><span class="mw-headline">Protected bootloader</span></h2><p>The feature allows the protection of RouterOS configuration and files from a physical attacker by disabling etherboot. It is called &quot;Protected RouterBOOT&quot;. This feature can be enabled and disabled only from within RouterOS after login, i.e., there is no RouterBOOT setting to enable/disable this feature. These extra options appear only under certain conditions. When this setting is enabled - both the reset button and the reset pin-hole are disabled. RouterBOOT menu is also disabled. The only ability to change boot mode or enable the RouterBOOT settings menu is through RouterOS. If you do not know the RouterOS password - only a complete format is possible.</p><p>A special package is provided to upgrade the backup RouterBOOT (<strong>DANGEROUS</strong>). Newer devices will have this new backup loader already installed at the factory. If your RouterOS is <strong>v7</strong>, your<strong> factory-firmware</strong> version is lower than <strong>7.18.2 </strong>and your device displays the message → <strong>The &quot;protected routerboot&quot; feature requires a backup-routerboot upgrade</strong> ← when trying to enable the feature, do the following:</p><ul><li data-uuid="eff45384-fefb-4674-985d-5fabe998236f"><a href="https://help.mikrotik.com/docs/spaces/ROS/pages/328142/Upgrading+and+installation#Upgradingandinstallation-Manualupgrade" rel="nofollow">upgrade or downgrade</a> the device specifically to the RouterOS <strong>7.18.2</strong> release (from our <a class="external-link" href="https://mikrotik.com/download" rel="nofollow">download page</a> or <a class="external-link" href="https://mikrotik.com/download/archive" rel="nofollow">archive</a>);</li><li data-uuid="c4219368-80b2-4335-8a0d-4881788554c4">upgrade your current RouterBOOT version with &quot;/system routerboard upgrade&quot; then reboot the device, so that the RouterBOOT version (<strong>current-firmware</strong> version when checking &quot;/system routerboard print&quot;) is the same as the firmware version (&quot;/system resource print&quot;) installed, which should be <strong>7.18.2</strong>;</li><li data-uuid="4c55d1fe-eb7a-4c99-a6a0-fe7053d90880">upload the the <a class="external-link" href="https://box.mikrotik.com/f/7637f95e71cc497797de/?dl=1" rel="nofollow">v7 universal package for all architectures</a> to the device and reboot the device again. This will make your <strong>factory-firmware</strong> version <strong>7.18.2</strong>, where you are allowed to enable the feature. After this step, you can upgrade the device to a newer release.</li></ul><p>If your RouterOS version is <strong>v6 </strong>and you get the same prompt, follow the same steps mentioned above, but only update/downgrade/compare your device version to specifically <strong>6.49.7</strong> instead and use <a class="external-link" href="https://box.mikrotik.com/f/b062a26b4bd34c55aa52/?dl=1" rel="nofollow">v6 universal package for all architectures</a><span style="color:var(--ds-text,#333333);">.</span></p><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Starting from the <span style="color:var(--ds-text,#172b4d);">v7 version, when enabling or making any changes to the protected-routerboard feature the reset or mode button must be pressed for confirmation. </span></p></div></div><p class="auto-cursor-target">For example, when setting protected-routeboard enabled, you will be given 60 seconds to confirm by pressing the reset button, otherwise, this setting won't be enabled.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@450] &gt; system/routerboard/settings/set protected-routerboot=enabled 
[admin@450] &gt; system/routerboard/settings/print 
                        ;;; press button within 60 seconds to confirm 
                            protected routerboot enable
              auto-upgrade: no
                 baud-rate: 115200
                boot-delay: 2s
            enter-setup-on: any-key
               boot-device: nand-if-fail-then-ethernet
             cpu-frequency: auto
             boot-protocol: bootp
       enable-jumper-reset: yes
       force-backup-booter: no
               silent-boot: yes
      protected-routerboot: enabled
      reformat-hold-button: 20s
  reformat-hold-button-max: 10m </pre>
</div></div><p><br/><br/></p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="margin-left: 14.4318px;width: 99.328%;"><colgroup><col style="width: 30.6587%;"/><col style="width: 69.3207%;"/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>protected-routerboot</strong><span> </span>(<em>enabled | disabled</em>; Default:<span> </span><strong>disabled</strong>)</td><td class="confluenceTd">This setting disables any access to the RouterBOOT configuration settings over a console cable and disables the operation of the reset button to change the boot mode (<strong>Netinstall will be disabled</strong>). Access to RouterOS will only be possible with a known RouterOS admin password. Unsetting of this option is only possible from RouterOS. If you forget the RouterOS password, the only option is to perform a complete reformat of both NAND and RAM with the following method, but you<span> </span><strong>have</strong><span> </span>to know the reset button hold time in seconds.<ul><li>enabled<span> </span>- secure mode, only RouterOS can be accessed with a RouterOS admin password. Any user input from the serial port is ignored. Etherboot is not available, RouterBOOT setting change is not possible.</li><li>disabled<span> </span>- regular operation, RouterBOOT settings available with serial console and reset button can be used to launch Netinstall</li></ul></td></tr><tr><td class="confluenceTd"><strong>reformat-hold-button</strong><span> </span>(<em>5s .. 300s</em>; Default:<span> </span><strong>20s</strong>)</td><td class="confluenceTd">As an emergency recovery option, it is possible to reset everything by pressing the button at power-on for longer than reformat-hold-button time, but less than reformat-hold-button-max (new in RouterBOOT 3.38.3).<p>When you use the button for a complete reset, the following actions are taken:</p><pre style="margin-left: 20.0px;"><strong>EXTREMELY DANGEROUS</strong>. Use this only if you have lost all access to the device. 
</pre><ol><li>RouterOS, all of its files and configuration is completely and irreversibly erased by nand re-format;</li><li>All RouterBOOT settings are reset to defaults;</li><li>Board is rebooted;</li><li>As boot from NAND fails, it goes to etherboot automatically;</li><li>Netinstall is required to reinstall RouterOS.</li></ol><strong>Please note!</strong><span> </span>Reformat on some RouterBOARDS can take more than 5 minutes. After formatting the board will be ready for Netinstall.</td></tr><tr><td class="confluenceTd"><strong>reformat-hold-button-max</strong><span> </span>(<em>15s .. 600s</em>; Default:<span> </span><strong>10m</strong>)</td><td class="confluenceTd">Increase the security even further by setting the max hold time, this means that you must release the reset button within a specified time interval. If you set the &quot;reformat-hold-button&quot; to 60s and &quot;reformat-hold-button-max&quot; to 65s, it will mean that you must hold the button 60 to 65 seconds, not less and not more, making guesses impossible. Introduced in RouterBOOT 3.38.3</td></tr></tbody></table></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>RouterBOARD that has the protected RouterBOOT setting enabled will blink the LED every second, to make counting easier. The LED will turn off for one second, and turn on for the next second.</p></div></div><h2 id="RouterBOARD-ModeandResetbuttons"><span class="mw-headline">Mode and Reset buttons</span></h2><p>Reset button additional functionality is supported by all MikroTik devices running RouterOS</p><p>Some RouterBOARD devices have a mode button that allows you to run any script when the button it pushed.</p><p>The list of supported devices:</p><ul><li>RBcAP-2nD (cAP)</li><li>RBcAPGi-5acD2nD (cAP ac)</li><li>RBwsAP5Hac2nD (wsAP ac lite)</li><li>RB750Gr3 (hEX)</li><li>RB760iGS (hEX S)</li><li>RB912R-2nD (LtAP mini, LtAP mini LTE/4G kit)</li><li>RBD52G-5HacD2HnD (hAP ac^2)</li><li>RBLHGR (LHG LTE/4G kit)</li><li>RBSXTR (SXT LTE/4G kit)</li><li>CRS328-4C-20S-4S+RM</li><li>CRS328-24P-4S+RM</li><li>CCR1016-12G r2</li><li>CCR1016-12S-1S+ r2</li><li>CCR1036-12G-4S r2</li><li>CCR1036-8G-2S+ r2</li><li>RBD53G-5HacD2HnD (Chateau)</li><li>RBD53GR-5HacD2HnD (hAP ac^3)</li></ul><p><br/></p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="margin-left: 14.4318px;width: 99.328%;"><colgroup><col style="width: 30.5356%;"/><col style="width: 69.4439%;"/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>enabled</strong><span> </span>(<em>no | yes</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Disable or enable the operation of the button</td></tr><tr><td class="confluenceTd"><strong>hold-time</strong><span> </span>(<em>time interval Min..Max</em>; Default: )</td><td class="confluenceTd">HoldTime:= Button functionality can be called if a button is pressed for a certain period of time:<br/>Min..Max: Min -- 0s..1m (time interval), Max -- 0s..1m (time interval) (available only starting from RouterOS 6.47beta60)</td></tr><tr><td class="confluenceTd"><strong>on-event</strong><span> </span>(<em>string</em>; Default: )</td><td class="confluenceTd">Name of the script that will be run upon pressing the button. The script must be defined and named in the &quot;/system scripts&quot; menu</td></tr></tbody></table></div><p><br/></p><p>Example for mode button:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/system script add name=test-mode-button source={:log info message=(&quot;mode button pressed&quot;);}
/system routerboard mode-button set on-event=test-mode-button enabled=yes
</pre>
</div></div><p style="margin-left: 20.0px;">Upon pressing the button, the message<em>&quot;mode button pressed&quot;</em><em style="letter-spacing: 0.0px;"> </em><span style="letter-spacing: 0.0px;">will be logged in the system log.</span></p><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Starting from RouterOS 6.47 reset-button functionality and a hold-time option have been added</p></div></div><p>Examples for RouterOS version newer than 6.47:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/system script add name=test-mode-button source={:log info message=(&quot;mode button pressed&quot;);} 
/system routerboard mode-button set on-event=test-mode-button hold-time=3..5 enabled=yes</pre>
</div></div><p>The reset button works in the same way, but the menu is moved under<span> the : </span><code>/system routerboard reset-button</code>:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/system script add name=test-reset-button source={:log info message=(&quot;reset button pressed&quot;);} 
/system routerboard reset-button set on-event=test-reset-button hold-time=0..10 enabled=yes</pre>
</div></div><p><a href="https://help.mikrotik.com/docs/display/ROS/LEDs#LEDs-LEDSettings" rel="nofollow">LED dark mode</a> control with the mode button:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/system script add name=dark-mode source={
   :if ([system leds settings get all-leds-off] = &quot;never&quot;) do={
      /system leds settings set all-leds-off=immediate 
   } else={
        /system leds settings set all-leds-off=never
   }
 }
/system routerboard mode-button set enabled=yes on-event=dark-mode</pre>
</div></div><p>The C53, S53 and cAP ax series RouterBoards have configurable WPS button. It also works in the same way as reset button and mode button and executes a script.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/system script add name=test-wps-button source={:log info message=(&quot;wps button pressed&quot;);}
/system routerboard wps-button set on-event=test-wps-button hold-time=0..10 enabled=yes</pre>
</div></div><p>WPS accept control with the WPS button:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/system script add name=wps-accept source={
    :foreach iface in=[/interface/wifiwave2 find where configuration.mode=&quot;ap&quot;] do={
        /interface/wifiwave2 wps-push-button $iface
    }
}
/system routerboard wps-button set enabled=yes on-event=wps-accept</pre>
</div></div><p><br/></p>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 20, 2025 14:54</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
