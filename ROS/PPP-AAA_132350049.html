<!DOCTYPE html>
<html>
    <head>
        <title>RouterOS : PPP AAA</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="RouterOS_328059.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="119144604.html">Authentication, Authorization, Accounting</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            RouterOS : PPP AAA
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Unknown User (emils)</span>, last updated by <span class='editor'> Matīss O.</span> on Apr 14, 2025
    
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><span class="mw-headline"><style type='text/css'>/*<![CDATA[*/
div.rbtoc1747742022767 {padding: 0px;}
div.rbtoc1747742022767 ul {margin-left: 0px;}
div.rbtoc1747742022767 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1747742022767'>
<ul class='toc-indentation'>
<li><a href='#PPPAAA-Summary'>Summary</a></li>
<li><a href='#PPPAAA-UserProfiles'>User Profiles</a></li>
<li><a href='#PPPAAA-UserDatabase'>User Database</a></li>
<li><a href='#PPPAAA-ActiveUsers'>Active Users</a></li>
<li><a href='#PPPAAA-RemoteAAA'>Remote AAA</a></li>
<li><a href='#PPPAAA-Examples'>Examples</a>
<ul class='toc-indentation'>
<li><a href='#PPPAAA-Addnewprofile'>Add new profile</a></li>
<li><a href='#PPPAAA-Addnewuser'>Add new user</a></li>
</ul>
</li>
</ul>
</div></span></p><h1 id="PPPAAA-Summary"><span class="mw-headline">Summary</span></h1><p><strong>Sub-menu:</strong> <code>/ppp</code></p><p>The MikroTik RouterOS provides scalable Authentication, Authorization, and Accounting (AAA) functionality.</p><p>Local authentication is performed using the User Database and the Profile Database. The actual configuration for the given user is composed using the respective user record from the User Database, the associated item from the Profile Database, and the item in the Profile database which is set as default for a given service the user is authenticating to. Default profile settings from the Profile database have the lowest priority while the user access record settings from the User Database have the highest priority with the only exception being particular IP addresses take precedence over IP pools in the local-address and remote-address settings, which are described later on.</p><p>Support for RADIUS authentication gives the ISP or network administrator the ability to manage PPP user access and accounting from one server throughout a large network. The MikroTik RouterOS has a <a href="https://help.mikrotik.com/docs/display/ROS/RADIUS" rel="nofollow"> RADIUS client </a>that can authenticate for PPP, <a href="https://help.mikrotik.com/docs/display/ROS/PPPoE" rel="nofollow"> PPPoE</a>, <a href="https://help.mikrotik.com/docs/display/ROS/PPTP" rel="nofollow"> PPTP</a>, <a href="https://help.mikrotik.com/docs/display/ROS/L2TP" rel="nofollow"> L2TP</a>, <a href="https://help.mikrotik.com/docs/display/ROS/OpenVPN" rel="nofollow">OPVN, </a>and ISDN connections. The attributes received from the RADIUS server override the ones set in the default profile, but if some parameters are not received they are taken from the respective default profile.</p><h1 id="PPPAAA-UserProfiles"><span class="mw-headline">User Profiles</span></h1><p><strong>Sub-menu:</strong> <code>/ppp profile</code></p><p>PPP profiles are used to define default values for user access records stored under <code>/ppp secret</code> submenu. Settings in <code>/ppp secret</code> User Database overrides corresponding <code>/ppp profile</code> settings except that single IP addresses always take precedence over IP pools when specified as local-address or remote-address parameters.</p><p><strong><span class="mw-headline">Properties</span></strong></p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 99.1567%;"><colgroup><col style="width: 22.6246%;"/><col style="width: 77.3754%;"/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>address-list</strong> (<em>string</em>; Default: )</td><td class="confluenceTd"><a href="https://help.mikrotik.com/docs/display/ROS/Address-lists" rel="nofollow">Address list </a> name to which ppp assigned (on server) or received (on client) address will be added.</td></tr><tr><td class="confluenceTd"><strong>bridge</strong> (<em>string</em>; Default: )</td><td class="confluenceTd">Name of the <a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching" rel="nofollow"> bridge </a> interface to which ppp interface will be added as a slave port. Both tunnel endpoints (server and client) must be in the bridge to make this work, see more details in the <a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:BCP_bridging_(PPP_tunnel_bridging)" rel="nofollow"> BCP bridging </a> manual.</td></tr><tr><td class="confluenceTd"><strong>bridge-horizon</strong> (<em>integer 0..429496729</em>; Default: )</td><td class="confluenceTd">Used split-horizon value for the dynamically created bridge port. Can be used to prevent bridging loops and isolate traffic. Set the same value for a group of ports, to prevent them from sending data to ports with the same horizon value.</td></tr><tr><td class="confluenceTd"><strong>bridge-learning</strong> (<em>default | no | yes</em>; Default: <strong>default</strong>)</td><td class="confluenceTd">Changes MAC learning behavior on the dynamically created bridge port:<ul><li>yes - enables MAC learning</li><li>no - disables MAC learning</li><li>default - derive this value from the interface default profile; same as yes if this is the interface default profile</li></ul></td></tr><tr><td class="confluenceTd"><strong>bridge-path-cost</strong> (<em>integer 1..<em style="text-align: left;">200000000</em></em>; Default: )</td><td class="confluenceTd">Used path cost for the dynamically created bridge port, used by STP/RSTP to determine the best path, used by MSTP to determine the best path between regions. This property has no effect when a bridge protocol-mode is set to none.</td></tr><tr><td class="confluenceTd"><strong>bridge-port-priority</strong> (<em>integer 0..240</em>; Default: )</td><td class="confluenceTd">Used priority for the dynamically created bridge port, used by STP/RSTP to determine the root port, used by MSTP to determine the root port between regions. This property has no effect when a bridge protocol-mode is set to none.</td></tr><tr><td class="confluenceTd"><strong>bridge-port-vid</strong> (<em>integer 1..4094</em>; Default: <strong>1</strong>)</td><td class="confluenceTd">Used to assign PVID parameter for dynamically created interface. This property only has an effect when bridge vlan-filtering is set to yes.</td></tr><tr><td class="confluenceTd"><strong><span style="color:var(--ds-text,#172b4d);">bridge-port-trusted</span> </strong>(<em> no | yes</em>;<strong> </strong>Default:<strong> no</strong>)</td><td class="confluenceTd">Used to set dynamically created interface as DHCP trusted.</td></tr><tr><td class="confluenceTd"><strong>change-tcp-mss</strong> (<em>yes | no | default</em>; Default: <strong>no</strong>)</td><td class="confluenceTd">Modifies connection MSS settings (applies only for IPv4):<ul><li>yes - adjust connection MSS value</li><li>no - do not adjust connection MSS value</li><li>default - derive this value from the interface default profile; same as no if this is the interface default profile</li></ul></td></tr><tr><td class="confluenceTd"><strong>comment</strong> (<em>string</em>; Default: )</td><td class="confluenceTd">Profile comment</td></tr><tr><td class="confluenceTd"><strong>dhcpv6-lease-time </strong>(<em>string</em>; Default: )</td><td class="confluenceTd">Lease time can be set starting from 7.20ab202, by default time is set to 1d.</td></tr><tr><td class="confluenceTd"><strong>dhcpv6-pd-pool</strong> (<em>string</em>; Default: )</td><td class="confluenceTd">Name of the <a href="https://help.mikrotik.com/docs/display/ROS/IP+Pools#IPPools-IPv6Pool" rel="nofollow"> IPv6 pool </a> which will be used by dynamically created <a href="https://help.mikrotik.com/docs/display/ROS/DHCP#DHCP-DHCPv6Server" rel="nofollow"> DHCPv6 server </a> when client connects. <a href="https://help.mikrotik.com/docs/display/ROS/IPv6+PD+over+PPP" rel="nofollow"> <code>Read more &gt;&gt;</code></a></td></tr><tr><td class="confluenceTd"><strong>dns-server</strong> (<em>IP</em>; Default: )</td><td class="confluenceTd">IP address of the DNS server that is supplied to PPP clients</td></tr><tr><td class="confluenceTd"><strong>idle-timeout</strong> (<em>time</em>; Default: )</td><td class="confluenceTd">Specifies the amount of time after which the link will be terminated if there is no activity present. Timeout is not set by default</td></tr><tr><td class="confluenceTd"><strong>incoming-filter</strong> (<em>string</em>; Default: )</td><td class="confluenceTd">Firewall chain name for incoming packets. The specified chain gets control of each packet coming from the client. The ppp chain should be manually added and rules with action=jump jump-target=ppp should be added to other relevant chains for this feature to work. For more information look at the <a href="https://help.mikrotik.com/docs/display/ROS/PPP+AAA#PPPAAA-Examples" rel="nofollow"> examples </a> section</td></tr><tr><td class="confluenceTd"><strong>insert-queue-before </strong>(<em>bottom | first | queue name </em>; Default: )</td><td class="confluenceTd">Inserts new queue as the last, first, or before a specified queue</td></tr><tr><td class="confluenceTd"><strong>interface-list </strong>(<em>interface list name</em>; Default: )</td><td class="confluenceTd">Specifies interface list to which profile interfaces will be added</td></tr><tr><td class="confluenceTd"><strong>local-address</strong> (<em>IP address | pool</em>; Default: )</td><td class="confluenceTd">Tunnel address or name of the <a href="https://help.mikrotik.com/docs/display/ROS/IP+Pools" rel="nofollow"> pool </a>from which the address is assigned to ppp interface locally</td></tr><tr><td class="confluenceTd"><strong>name</strong> (<em>string</em>; Default: )</td><td class="confluenceTd">PPP profile name</td></tr><tr><td class="confluenceTd"><strong>on-up</strong> (<em>script</em>; Default: )</td><td class="confluenceTd">Execute script on user login-event. These are available variables that are accessible for the event script:<ul><li>user</li><li>local-address</li><li>remote-address</li><li>caller-id</li><li>called-id</li><li>interface</li></ul><p>The <em>interface</em> variable will return interface id value, not interface name.</p></td></tr><tr><td class="confluenceTd"><strong>on-down</strong> (<em>script</em>; Default: )</td><td class="confluenceTd">Execute script on the user logging off. See<strong><em> on-up</em></strong> for more details</td></tr><tr><td class="confluenceTd"><strong>only-one</strong> (<em>yes | no | default</em>; Default: <strong>default</strong>)</td><td class="confluenceTd">Defines whether a user is allowed to have more than one ppp session at a time<ul><li>yes - a user is not allowed to have more than one ppp session at a time</li><li>no - the user is allowed to have more than one ppp session at a time</li><li>default - derive this value from the interface default profile; same as no if this is the interface default profile</li></ul></td></tr><tr><td class="confluenceTd"><strong>outgoing-filter</strong> (<em>string</em>; Default: )</td><td class="confluenceTd">Firewall chain name for outgoing packets. The specified chain gets control for each packet going to the client. The PPP chain should be manually added and rules with action=jump jump-target=ppp should be added to other relevant chains for this feature to work. For more information look at the Examples section.</td></tr><tr><td class="confluenceTd"><strong>parent-queue </strong>(<em>none </em>| <em>queue name</em>; Default: )</td><td class="confluenceTd">Specifies parent queue </td></tr><tr><td class="confluenceTd"><p><strong>queue-type</strong> (<em>default | ethernet-default | wireless-default | synchronous-default | </em><em> hotspot-default | pcq-upload-default | pcq-download-default | only-hardware-queue | multi-queue-ethernet-default | default-small | custom queue type name </em>; Default: )</p></td><td class="confluenceTd">Specifies queue type. Starting from 7.19 it is possible to specify queue type for rx/tx separately, clients &quot;upload&quot; and &quot;download&quot;. Use / to configure separate queue type, first is rx queue type, and then tx queue type.</td></tr><tr><td class="confluenceTd"><strong>rate-limit</strong> (<em>string</em>; Default: )</td><td class="confluenceTd">Rate limitation in form of <strong>rx-rate[/tx-rate] [rx-burst-rate[/tx-burst-rate] [rx-burst-threshold[/tx-burst-threshold] [rx-burst-time[/tx-burst-time] [priority] [rx-rate-min[/tx-rate-min]]]]</strong> from the point of view of the router (so &quot;rx&quot; is client upload, and &quot;tx&quot; is client download). All rates are measured in bits per second, unless followed by an optional 'k' suffix (kilobits per second) or 'M' suffix (megabits per second). If tx-rate is not specified, rx-rate serves as tx-rate too. The same applies to tx-burst-rate, tx-burst-threshold and tx-burst-time. If both rx-burst-threshold and tx-burst-threshold are not specified (but burst-rate is specified), rx-rate and tx-rate are used as burst thresholds. If both rx-burst-time and tx-burst-time are not specified, 1s is used as default. Priority takes values 1..8, where 1 implies the highest priority, but 8 - the lowest. If rx-rate-min and tx-rate-min are not specified rx-rate and tx-rate values are used. The rx-rate-min and tx-rate-min values can not exceed rx-rate and tx-rate values.</td></tr><tr><td class="confluenceTd"><strong>remote-address</strong> (<em>IP</em>; Default: )</td><td class="confluenceTd">Tunnel address or name of the <a href="https://help.mikrotik.com/docs/display/ROS/IP+Pools" rel="nofollow"> pool </a> from which address is assigned to remote ppp interface.</td></tr><tr><td class="confluenceTd"><strong>remote-ipv6-prefix-pool</strong> (<em>string | none</em>; Default: <strong>none</strong>)</td><td class="confluenceTd">Assign a prefix from the IPv6 pool to the client and install the corresponding IPv6 route.</td></tr><tr><td class="confluenceTd"><strong>session-timeout</strong> (<em>time</em>; Default: )</td><td class="confluenceTd">Maximum time the connection can stay up. By default, no time limit is set.</td></tr><tr><td class="confluenceTd"><strong>use-compression</strong> (<em>yes | no | default</em>; Default: <strong>default</strong>)</td><td class="confluenceTd">Specifies whether to use data compression or not.<ul><li>yes - enable data compression</li><li>no - disable data compression</li><li>default - derive this value from the interface default profile; same as no if this is the interface default profile</li></ul>This setting does not affect OVPN tunnels.</td></tr><tr><td class="confluenceTd"><strong>use-encryption</strong> (<em>yes | no | default | require</em>; Default: <strong>default</strong>)</td><td class="confluenceTd">Specifies whether to use data encryption or not.<ul><li>yes - enable data encryption</li><li>no - disable data encryption</li><li>default - derive this value from the interface default profile; same as no if this is the interface default profile</li><li>require - explicitly requires encryption</li></ul>This setting does not work on OVPN and SSTP tunnels.</td></tr><tr><td class="confluenceTd"><strong>use-ipv6</strong> (<em>yes | no | default | require</em>; Default: <strong>default</strong>)</td><td class="confluenceTd">Specifies whether to allow IPv6. By default is enabled if IPv6 package is installed.<ul><li>yes - enable IPv6 support</li><li>no - disable IPv6 support</li><li>default - derive this value from the interface default profile; same as no if this is the interface default profile</li><li>require - explicitly requires IPv6 support</li></ul></td></tr><tr><td class="confluenceTd"><strong>use-mpls</strong> (<em>yes | no | default | require</em>; Default: <strong>default</strong>)</td><td class="confluenceTd">Specifies whether to allow MPLS over PPP.<ul><li>yes - enable MPLS support</li><li>no - disable MPLS support</li><li>default - derive this value from the interface default profile; same as no if this is the interface default profile</li><li>require - explicitly requires MPLS support</li></ul></td></tr><tr><td class="confluenceTd"><strong>use-upnp</strong> (<em>yes | no | default </em>; Default: <strong>default</strong>)</td><td class="confluenceTd"><p>Specifies whether to allow <span style="color:var(--ds-text,#333333);">UPnP<span> </span></span></p><ul><li>yes - enable <span style="color:var(--ds-text,#333333);">UPnP<span> </span></span></li><li>no - disable <span style="color:var(--ds-text,#333333);">UPnP<span> </span></span></li><li>default - derive this value from the interface default profile; same as no if this is the interface default profile</li></ul></td></tr><tr><td class="confluenceTd"><strong>wins-server</strong> (<em>IP address</em>; Default: )</td><td class="confluenceTd">IP address of the WINS server to supply to Windows clients</td></tr></tbody></table></div><p><strong><span class="mw-headline">Notes</span></strong></p><p>The two default profiles cannot be removed:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@rb13] ppp profile&gt; print
Flags: * - default
 0 * name=&quot;default&quot; use-compression=no use-encryption=no only-one=no
     change-tcp-mss=yes
 1 * name=&quot;default-encryption&quot; use-compression=default use-encryption=yes
     only-one=default change-tcp-mss=default
[admin@rb13] ppp profile&gt;</pre>
</div></div><p><em>incoming-filter</em> and <em>outgoing-filter</em> arguments add dynamic jump rules to chain <em>ppp</em>, where the jump-target argument will be equal to <em>incoming-filter</em> or <em>outgoing-filter</em> argument in the profile. Therefore, chain <em>ppp </em>should be manually added before changing these arguments.</p><p>only-one parameter is ignored if RADIUS authentication is used.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">PPP tunnels uses LCP protocol for MTU negotiation, it happens right when connection is established. Framed MTU attribute is not supported, as it is sent only after authentication with Radius.</pre>
</div></div><h1 id="PPPAAA-UserDatabase"><span class="mw-headline">User Database</span></h1><p><strong>Sub-menu:</strong> <code>/ppp secret</code></p><p>PPP User Database stores PPP user access records with PPP user profile assigned to each user.</p><p><strong><span class="mw-headline">Properties</span></strong></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>caller-id</strong> (<em>string</em>; Default: )</td><td class="confluenceTd">For <a href="https://help.mikrotik.com/docs/display/ROS/PPTP" rel="nofollow"> PPTP </a> and <a href="https://help.mikrotik.com/docs/display/ROS/L2TP" rel="nofollow"> L2TP </a> it is the IP address a client must connect from. For <a href="https://help.mikrotik.com/docs/display/ROS/PPPoE" rel="nofollow">PPPoE</a> it is the MAC address (written in CAPITAL letters) a client must connect from. For ISDN it is the caller's number (that may or may not be provided by the operator) the client may dial-in from</td></tr><tr><td class="confluenceTd"><strong>comment</strong> (<em>string</em>; Default: )</td><td class="confluenceTd">Short description of the user.</td></tr><tr><td class="confluenceTd"><strong>disabled</strong> (<em>yes | no</em>; Default: <strong>no</strong>)</td><td class="confluenceTd">Whether secret will be used.</td></tr><tr><td class="confluenceTd"><strong>limit-bytes-in</strong> (<em>integer</em>; Default: <strong>0</strong>)</td><td class="confluenceTd">The maximum amount of bytes for a session that the client can upload.</td></tr><tr><td class="confluenceTd"><strong>limit-bytes-out</strong> (<em>integer</em>; Default: <strong>0</strong>)</td><td class="confluenceTd">The maximum amount of bytes for a session that the client can download.</td></tr><tr><td class="confluenceTd"><strong>local-address</strong> (<em>IP address</em>; Default: )</td><td class="confluenceTd">IP address that will be set locally on ppp interface.</td></tr><tr><td class="confluenceTd"><strong>name</strong> (<em>string</em>; Default: )</td><td class="confluenceTd">Name used for authentication</td></tr><tr><td class="confluenceTd"><strong>password</strong> (<em>string</em>; Default: )</td><td class="confluenceTd">Password used for authentication</td></tr><tr><td class="confluenceTd"><strong>profile</strong> (<em>string</em>; Default: <strong>default</strong>)</td><td class="confluenceTd">Which <a href="https://help.mikrotik.com/docs/display/ROS/PPP+AAA#PPPAAA-UserProfiles" rel="nofollow">user profile </a>to use</td></tr><tr><td class="confluenceTd"><strong>remote-address</strong> (<em>IP</em>; Default: )</td><td class="confluenceTd">IP address that will be assigned to the remote ppp interface.</td></tr><tr><td class="confluenceTd"><strong>remote-ipv6-prefix</strong> (<em>IPv6 prefix</em>; Default: )</td><td class="confluenceTd">IPv6 prefix assigned to ppp client. Prefix is added to <a href="https://help.mikrotik.com/docs/display/ROS/IPv6+Neighbor+Discovery" rel="nofollow"> ND prefix list </a>enabling <a href="https://help.mikrotik.com/docs/display/ROS/IPv6+Neighbor+Discovery#IPv6NeighborDiscovery-Statelessaddressautoconfiguration" rel="nofollow">stateless </a>address auto-configuration on ppp interface.</td></tr><tr><td class="confluenceTd"><strong>routes</strong> (<em>string</em>; Default: )</td><td class="confluenceTd">Routes that appear on the server when the client is connected. The route format is: dst-address gateway metric (for example, 10.1.0.0/ 24 10.0.0.1 1). Other syntax is not acceptable since it can be represented incorrectly. Several routes may be specified and separated with commas. This parameter will be ignored for <a href="https://help.mikrotik.com/docs/display/ROS/OpenVPN" rel="nofollow">OpenVPN</a>.</td></tr><tr><td class="confluenceTd"><strong>service</strong> (<em>any | async | isdn | l2tp | pppoe | pptp | ovpn | sstp</em>; Default: <strong>any</strong>)</td><td class="confluenceTd">Specifies the services that a particular user will be able to use.</td></tr></tbody></table></div><h1 id="PPPAAA-ActiveUsers"><span class="mw-headline">Active Users</span></h1><p><strong>Sub-menu:</strong> <code>/ppp active</code></p><p>This submenu allows monitoring active (connected) users.</p><p><code>/ppp active print</code> command will show all currently connected users.</p><p><code>/ppp active print stats</code> command will show received/sent bytes and packets</p><p><strong><span class="mw-headline">Properties</span></strong></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>address</strong> (<em>IP address</em>)</td><td class="confluenceTd">The IP address the client got from the server</td></tr><tr><td class="confluenceTd"><strong>bytes</strong> (<em>integer</em>)</td><td class="confluenceTd">Amount of bytes transferred through this connection. The first figure represents the amount of transmitted traffic from the router's point of view, while the second one shows the amount of received traffic.</td></tr><tr><td class="confluenceTd"><strong>caller-id</strong> (<em>string</em>)</td><td class="confluenceTd">For <a href="https://help.mikrotik.com/docs/display/ROS/PPTP" rel="nofollow"> PPTP </a>and <a href="https://help.mikrotik.com/docs/display/ROS/L2TP" rel="nofollow"> L2TP </a>it is the IP address the client connected from. For <a href="https://help.mikrotik.com/docs/display/ROS/PPPoE" rel="nofollow"> PPPoE</a>, it is the MAC address the client connected from.</td></tr><tr><td class="confluenceTd"><strong>encoding</strong> (<em>string</em>)</td><td class="confluenceTd">Shows encryption and encoding (separated with '/' if asymmetric) being used in this connection</td></tr><tr><td class="confluenceTd"><strong>limit-bytes-in</strong> (<em>integer</em>)</td><td class="confluenceTd">The maximum amount of bytes the user is allowed to send to the router.</td></tr><tr><td class="confluenceTd"><strong>limit-bytes-out</strong> (<em>integer</em>)</td><td class="confluenceTd">The maximum amount of bytes the user is allowed to send to the client.</td></tr><tr><td class="confluenceTd"><strong>name</strong> (<em>string</em>)</td><td class="confluenceTd">User name supplied at authentication stage</td></tr><tr><td class="confluenceTd"><strong>packets</strong> (<em>integer/integer</em>)</td><td class="confluenceTd">Amount of packets transferred through this connection. The first figure represents the amount of transmitted traffic from the router's point of view, while the second one shows the amount of received traffic</td></tr><tr><td class="confluenceTd"><strong>service</strong> (<em>async | isdn | l2tp | pppoe | pptp | ovpn | sstp</em>)</td><td class="confluenceTd">Type of service the user is using.</td></tr><tr><td class="confluenceTd"><strong>session-id</strong> (<em>string</em>)</td><td class="confluenceTd">Shows unique client identifier.</td></tr><tr><td class="confluenceTd"><strong>uptime</strong> (<em>time</em>)</td><td class="confluenceTd">User's uptime</td></tr></tbody></table></div><h1 id="PPPAAA-RemoteAAA"><span class="mw-headline">Remote AAA</span></h1><p><strong>Sub-menu:</strong> <code>/ppp aaa</code></p><p>Settings in this submenu allows to set RADIUS accounting and authentication. Note that the RADIUS user database is consulted only if the required username is not found in the local user database.</p><p><strong><span class="mw-headline">Properties</span></strong></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>accounting</strong> (<em>yes | no</em>; Default: <strong>yes</strong>)</td><td class="confluenceTd">Enable RADIUS accounting</td></tr><tr><td class="confluenceTd"><strong>interim-update</strong> (<em>time</em>; Default: <strong>0s</strong>)</td><td class="confluenceTd">Interim-Update time interval</td></tr><tr><td class="confluenceTd"><strong>use-radius</strong> (<em>yes | no</em>; Default: <strong>no</strong>)</td><td class="confluenceTd">Enable user authentication via RADIUS. If an entry in the local secret database is not found, then the client will be authenticated via RADIUS.</td></tr><tr><td class="confluenceTd"><strong>enable-ipv6-accounting </strong>(<em>yes | no</em>; Default: <strong>no</strong>)</td><td class="confluenceTd">Enable IPv6 separate accounting. PPP service counts Layer2, IPv4 and IPv6 data all together when reporting network usage statistics to the RADIUS server by default. If it is required to differ IPv4 and IPv6 traffic, then this option can be enabled. Prerequisites for it to work are that the prefix must be assigned to the client through PPP service and also rate-limit must be provided. Dynamically created queue statistics will be used as counters for IPv6 data, which then will be included in accounting packets as separate IPv6 statistics attributes. This will not work for prefixes assigned by dynamically created DHCPv6 server due to provided prefix pool or PPP/Profile configuration. Then prefix assignment is handled by DHCP service, not PPP, thus accounting can not be managed by PPP service.</td></tr></tbody></table></div><h1 id="PPPAAA-Examples"><span class="mw-headline">Examples</span></h1><h3 id="PPPAAA-Addnewprofile"><span class="mw-headline">Add new profile</span></h3><p>To add the profile ex that assigns the router itself the 10.0.0.1 address, and the addresses from the ex pool to the clients, filtering traffic coming from clients through mypppclients chain:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@rb13] ppp profile&gt; add name=ex local-address=10.0.0.1 remote-address=ex incoming-filter=mypppclients
[admin@rb13] ppp profile&gt; print
Flags: * - default
 0 * name=&quot;default&quot; use-compression=no use-vj-compression=no use-encryption=no only-one=no
     change-tcp-mss=yes
 1   name=&quot;ex&quot; local-address=10.0.0.1 remote-address=ex use-compression=default
     use-vj-compression=default use-encryption=default only-one=default change-tcp-mss=default
     incoming-filter=mypppclients
 2 * name=&quot;default-encryption&quot; use-compression=default use-vj-compression=default use-encryption=yes
     only-one=default change-tcp-mss=default
[admin@rb13] ppp profile&gt;</pre>
</div></div><h3 id="PPPAAA-Addnewuser"><span class="mw-headline">Add new user</span></h3><p>To add the user ex with password lkjrht and profile ex available for PPTP service only, enter the following command:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@rb13] ppp secret&gt; add name=ex password=lkjrht service=pptp profile=ex
[admin@rb13] ppp secret&gt; print
Flags: X - disabled
 #   NAME                SERVICE CALLER-ID         PASSWORD          PROFILE            REMOTE-ADDRESS
 0   ex                  pptp                      lkjrht            ex                 0.0.0.0
[admin@rb13] ppp secret&gt;</pre>
</div></div><p><br/></p>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 20, 2025 14:53</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
