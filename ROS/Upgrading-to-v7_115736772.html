<!DOCTYPE html>
<html>
    <head>
        <title>RouterOS : Upgrading to v7</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="RouterOS_328059.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="Getting-started_328119.html">Getting started</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            RouterOS : Upgrading to v7
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Normunds R.</span>, last updated on Nov 12, 2024
    
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h2 id="Upgradingtov7-Introduction">Introduction</h2><p>This document describes the recommended steps for upgrading RouterOS to v7 major release and the possible caveats when doing so. </p><p>Upgrading from v6 to v7 happens the same way, as upgrading within v6 releases. Please follow the <a href="Upgrading-and-installation_328142.html">Upgrade manual</a> for more detailed steps. If you are currently running RouterOS version 6 or older, we first suggest upgrading to the latest stable or long-term release in v6.</p><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Note that in your RouterOS v6.x, only RouterOS release 7.12.1 will be shown as the latest release. You must upgrade to this version first and only then further upgrades to newer versions will become available.</p></div></div><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>In most RouterOS setups that run fine with the aforementioned v6 versions, no extra steps are required. Upgrading to v7 will automatically convert the configuration and your device will function right away.</p></div></div><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p><strong>Note:</strong> We do not recommend running v7 on<span style="color:var(--ds-text,#333333);"> hardware that does not have at least 64 MB of RAM.</span></p></div></div><h2 id="Upgradingtov7-Featurelistcompatibility">Feature list compatibility</h2><p>As previously stated, nearly all RouterOS systems can use the &quot;Check for updates&quot; functionality and upgrade to v7 in a few clicks, but there are some features, where extra steps may be required:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 63.28872%;"><colgroup><col style="width: 45.59643%;"/><col style="width: 54.292084%;"/></colgroup><tbody><tr><th scope="col" class="confluenceTh">Feature</th><th scope="col" class="confluenceTh">Status</th></tr><tr><td class="confluenceTd">CAPsMAN</td><td class="highlight-#57d9a3 confluenceTd" title="Background color : Medium green 65%" data-highlight-colour="#57d9a3">OK</td></tr><tr><td class="confluenceTd">Interfaces</td><td class="highlight-#57d9a3 confluenceTd" title="Background color : Medium green 65%" data-highlight-colour="#57d9a3">OK</td></tr><tr><td class="confluenceTd"><p>Wireless</p></td><td class="highlight-#57d9a3 confluenceTd" title="Background color : Medium green 65%" data-highlight-colour="#57d9a3">OK</td></tr><tr><td class="confluenceTd">Bridge/Switching</td><td class="highlight-#57d9a3 confluenceTd" title="Background color : Medium green 65%" data-highlight-colour="#57d9a3">OK</td></tr><tr><td class="confluenceTd">Tunnels/PPP</td><td class="highlight-#57d9a3 confluenceTd" title="Background color : Medium green 65%" data-highlight-colour="#57d9a3">OK</td></tr><tr><td class="confluenceTd">IPv6</td><td class="highlight-#57d9a3 confluenceTd" title="Background color : Medium green 65%" data-highlight-colour="#57d9a3"><p title="">OK</p></td></tr><tr><td class="confluenceTd"><p>BGP</p></td><td class="highlight-#ffe380 confluenceTd" title="Background colour : Medium yellow 45%" data-highlight-colour="#ffe380"><div class="content-wrapper"><p>OK, but attention is required  <a href="#Upgradingtov7-bgp">*</a></p></div></td></tr><tr><td class="confluenceTd">OSPF</td><td class="highlight-#ffe380 confluenceTd" title="Background colour : Medium yellow 45%" data-highlight-colour="#ffe380">OK, but attention is required <a href="#Upgradingtov7-ospf">**</a></td></tr><tr><td class="confluenceTd">MPLS</td><td class="highlight-#ffe380 confluenceTd" title="Background colour : Medium yellow 45%" data-highlight-colour="#ffe380">OK, but attention is required <a href="#Upgradingtov7-mpls">***</a></td></tr><tr><td class="confluenceTd"><p>Routing filters</p></td><td class="highlight-#ffe380 confluenceTd" title="Background color : Medium yellow 45%" data-highlight-colour="#ffe380">OK, but attention is required <a href="#Upgradingtov7-routingfilters">****</a></td></tr><tr><td class="confluenceTd"><p>PIM-SM</p></td><td class="highlight-#ff8f73 confluenceTd" title="Background color : Medium red 65%" data-highlight-colour="#ff8f73">See <a href="#Upgradingtov7-pimsm">notes</a></td></tr><tr><td class="confluenceTd"><p>IGMP Proxy</p></td><td class="highlight-#57d9a3 confluenceTd" title="Background color : Medium green 65%" data-highlight-colour="#57d9a3">OK</td></tr><tr><td class="confluenceTd">Tools</td><td class="highlight-#57d9a3 confluenceTd" title="Background color : Medium green 65%" data-highlight-colour="#57d9a3">OK</td></tr><tr><td class="confluenceTd"><p>Queues</p></td><td class="highlight-#57d9a3 confluenceTd" title="Background color : Medium green 65%" data-highlight-colour="#57d9a3"><p title="">OK</p></td></tr><tr><td class="confluenceTd">Firewall</td><td class="highlight-#57d9a3 confluenceTd" title="Background color : Medium green 65%" data-highlight-colour="#57d9a3">OK</td></tr><tr><td class="confluenceTd">HotSpot</td><td class="highlight-#57d9a3 confluenceTd" title="Background color : Medium green 65%" data-highlight-colour="#57d9a3">OK</td></tr><tr><td class="confluenceTd">Static Routing</td><td class="highlight-#57d9a3 confluenceTd" title="Background color : Medium green 65%" data-highlight-colour="#57d9a3">OK</td></tr><tr><td class="confluenceTd">User Manager</td><td class="highlight-#ff8f73 confluenceTd" title="Background colour : Medium red 65%" data-highlight-colour="#ff8f73">See <a href="#Upgradingtov7-usermanager">notes</a></td></tr></tbody></table></div><h2 id="Upgradingtov7-Notes">Notes</h2><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>The routing protocol configuration upgrade is triggered only once. This means that if a router was downgraded to ROSv6, the configuration was modified and the router got upgraded back to ROSv7, then the resulting configuration is the one that was present before the downgrade. To re-trigger v6 configuration conversion, load ROSv6 backup with the option <code><span style="color:var(--ds-text-accent-green-bolder,#164b35);">force-v6-to-v7-configuration-upgrade</span>=yes</code>. </p></div></div><h2 id="Upgradingtov7-BGP"><strong style="letter-spacing: -0.008em;"><span style="font-size: 14.0px;letter-spacing: 0.0px;">BGP</span></strong></h2><p><strong style="letter-spacing: -0.008em;"><span style="font-size: 14.0px;letter-spacing: 0.0px;"><span class="confluence-anchor-link" id="Upgradingtov7-bgp"></span></span></strong></p><p>All known configurations will upgrade from 6.x to 7.x successfully. But keep in mind that there is a complete redesign of the configuration. v7 BGP implementation provides with <strong><code><span style="color:var(--ds-text-accent-blue,#0055cc);">connection</span></code></strong>, <strong><code><span style="color:var(--ds-text-accent-blue,#0055cc);">template</span> </code></strong>and <strong><code><span style="color:var(--ds-text-accent-blue,#0055cc);">session</span></code></strong> menus.</p><p><strong><code><span style="color:var(--ds-text-accent-blue,#0055cc);">Template</span></code></strong> contains all BGP protocol-related configuration options. It can be used as a template for dynamic peers and apply a similar config to a group of peers. Most of the parameters are similar to the previous implementation except that some are grouped in the output and input section making the config more readable and easier to understand whether the option is applied on input or output.</p><p>BGP <strong><code><span style="color:var(--ds-text-accent-blue,#0055cc);">connection</span></code></strong> minimal set of parameters are <span style="color:var(--ds-icon-success,#22a06b);"><code>remote.address</code></span>, <code><span style="color:var(--ds-icon-success,#22a06b);">template, </span><span style="color:var(--ds-icon-success,#22a06b);">connect</span></code>, <code><span style="color:var(--ds-icon-success,#22a06b);">listen </span></code>and <code><span style="color:var(--ds-icon-success,#22a06b);">local.role</span></code><br/>Connect and listen to parameters specify whether peers will try to connect and listen to a remote address or just connect or just listen. It is possible that in setups where peer uses the multi-hop connection <code><span style="color:var(--ds-icon-success,#22a06b);">local.address</span></code> must be configured too. Peer role is now a mandatory parameter, for basic setups, you can just use ibgp, ebgp.</p><p>Now you can monitor the status of all connected and disconnected peers from <span style="color:var(--ds-text-accent-blue,#0055cc);"><code>/routing bgp session</code></span> menu.<br/>Other great debugging information on all routing processes can be monitored from <span style="color:var(--ds-text-accent-blue,#0055cc);"><code>/routing stats</code></span> menu.</p><p>Networks are added to the firewall address-list and referenced in the BGP <strong><code><span style="color:var(--ds-text-accent-blue,#0055cc);">connection</span></code></strong> configuration.</p><p><br/></p><p><strong>OSPF</strong></p><p><strong><span class="confluence-anchor-link" id="Upgradingtov7-ospf"></span></strong></p><p>All known configurations will upgrade from 6.x to 7.x successfully.<br/>OSPFv2 and OSPFv3 are now merged into one single menu <code><span style="color:var(--ds-text-accent-blue,#0055cc);">/routing ospf</span></code>. At the moment there are no default instances and areas. To start OSPF you need to create an instance and then add area to the instance.</p><p>RouterOSv7 uses templates to match the interface against the template and apply configuration from the matched template. OSPF menus <code><span style="color:var(--ds-text-accent-blue,#0055cc);">interface</span></code> and <code><span style="color:var(--ds-text-accent-blue,#0055cc);">neighbor</span></code> contains read-only entries for status monitoring.</p><p><br/></p><p><strong>MPLS</strong></p><p><span class="confluence-anchor-link" id="Upgradingtov7-mpls"></span></p><p>Upgrade MPLS setups with caution, and make sure to backup configuration before the upgrade.</p><p><br/></p><p><strong>Routing filters</strong></p><p><strong><span class="confluence-anchor-link" id="Upgradingtov7-routingfilters"></span></strong></p><p>All supported options are upgraded without any issue, in the case of an unsupported option - an empty entry is created. The routing filter configuration is changed to a script-like configuration. </p><p>The rule now can have &quot;if .. then&quot; syntax to set parameters or apply actions based on conditions from the &quot;if&quot; statement.</p><p>Multiple rules without action are stacked in a single rule and executed in order like a firewall, the reason is that the &quot;set&quot; parameter order is important, and writing one &quot;set&quot;s per line, allows for an easier understanding from top to bottom on what actions were applied.</p><p>More RouterOSv7 routing filter examples are <a href="https://help.mikrotik.com/docs/display/ROS/Moving+from+ROSv6+to+v7+with+examples#MovingfromROSv6tov7withexamples-RoutingFilters" rel="nofollow">here</a>.</p><p><br/></p><p><strong>PIM-SM</strong></p><p><strong><span class="confluence-anchor-link" id="Upgradingtov7-pimsm"></span></strong></p><p>Upgrading RouterOS to v7 will not preserve PIM-related configuration. After the upgrade, multicast routing configuration will be available under the <span style="color:var(--ds-text-accent-blue,#0055cc);"><code>/routing/pimsm</code></span> menu and an additional &quot;multicast&quot; package is not required anymore. More information is available <a href="https://help.mikrotik.com/docs/display/ROS/PIM-SM" rel="nofollow">here</a>.</p><p><br/></p><p><strong>User Manager</strong></p><p><strong><span class="confluence-anchor-link" id="Upgradingtov7-usermanager"></span></strong></p><p>RouterOSv7 provides the new and redesigned implementation of User Manager, configuration is now integrated into RouterOS WinBox and console (WEB admin configuration interface is not available), more information is available <a href="https://help.mikrotik.com/docs/display/ROS/User+Manager" rel="nofollow">here</a>. Direct migration from older User Manager is not possible, it is possible to migrate older database from <span style="color:var(--ds-text-accent-blue,#0055cc);"><code>/user-manager/database/migrate-legacy-db</code></span> However, it might be a good idea to start configuration from the scratch.</p><h2 id="Upgradingtov7-Newfeatures">New features</h2><p>A New Kernel is implemented in RouterOSv7, which leads to performance changes due to route cache, as well some tasks might require higher CPU and RAM usage for different processes.</p><ul><li>completely new NTP client and server implementation</li><li>merged individual packages, only bundle and a few extra packages remain <em>(dropped support for LCD and KVM packages)</em></li><li>new Command Line Interface (CLI) style (RouterOS v6 commands are still supported)</li><li>support for Let's Encrypt certificate generation</li><li>support for REST API</li><li>support for UEFI boot mode on x86</li><li>CHR FastPath support for &quot;vmxnet3&quot; and &quot;virtio-net&quot; drivers</li><li>support for &quot;Cake&quot; and &quot;FQ_Codel&quot; type queues</li><li>support for IPv6 NAT</li><li>support for Layer 3 hardware acceleration on all CRS3xx devices</li><li>support for MBIM driver with basic functionality support for all modems with MBIM mode</li><li>support for MLAG on CRS3xx devices</li><li>support for VRRP grouping and connection tracking data synchronization between nodes</li><li>support for Virtual eXtensible Local Area Network (VXLAN)</li><li>support for L2TPv3</li><li>support for OpenVPN UDP transport protocol</li><li>support for WireGuard</li><li>support for hardware offloaded VLAN filtering on RTL8367 (RB4011, RB100AHx4) and MT7621 (hEX, hEX S, RBM33G) switches</li><li>support for ZeroTier on ARM and ARM64 devices</li><li>completely new alternative wireless package &quot;wifiwave2&quot; with 802.11ac Wave2, WPA3, and 802.11w management frame protection support (requires ARM CPU and 256MB RAM)</li><li>support for hardware offloaded VLAN filtering on RTL8367 (RB4011, RB100AHx4) and MT7621 (hEX, hEX S, RBM33G) switches</li><li>support CPU frequency scaling for x86 devices</li></ul><h2 id="Upgradingtov7-Droppedsupport">Dropped support</h2><p>In RouterOS v7 has been dropped support for:</p><ul><li>LCD package</li><li>KVM package</li></ul><p><br/></p><p><br/></p>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 20, 2025 14:53</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
