<!DOCTYPE html>
<html>
    <head>
        <title>RouterOS : Bridging and Switching</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">RouterOS</a></span>
                            </li>
                                                    <li>
                                <span><a href="RouterOS_328059.html">RouterOS</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            RouterOS : Bridging and Switching
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Normunds R.</span>, last updated by <span class='editor'> Edgars P.</span> on May 19, 2025
    
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="contentLayout2">
<div class="columnLayout two-left-sidebar" data-layout="two-left-sidebar">
<div class="cell aside" data-type="aside">
<div class="innerCell">
<div class="panel" style="border-width: 1px;"><div class="panelHeader" style="border-bottom-width: 1px;"><b>Other resources:</b></div><div class="panelContent">
<p>


<div class="plugin_pagetree">

        
        
    <ul role="list" aria-busy="true" class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
        <div class="plugin_pagetree_children">
        </div>
    </ul>

    <fieldset class="hidden">
        <input type="hidden" name="treeId" value="">
        <input type="hidden" name="treeRequestId" value="/docs/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=false&amp;placement=">
        <input type="hidden" name="treePageId" value="328068">

        <input type="hidden" name="noRoot" value="false">
        <input type="hidden" name="rootPageId" value="328068">

        <input type="hidden" name="rootPage" value="">
        <input type="hidden" name="startDepth" value="0">
        <input type="hidden" name="spaceKey" value="ROS" >

        <input type="hidden" name="i18n-pagetree.loading" value="Loading...">
        <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page.">
        <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information.">
        <input type="hidden" name="loginUrl" value="">
        <input type="hidden" name="mobile" value="false">
        <input type="hidden" name="placement" value="">

                <fieldset class="hidden">
                            <input type="hidden" name="ancestorId" value="328068">
                    </fieldset>
    </fieldset>
</div>

</p>
</div></div></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><br/></p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><span class="mw-headline"><style type='text/css'>/*<![CDATA[*/
div.rbtoc1747742023278 {padding: 0px;}
div.rbtoc1747742023278 ul {margin-left: 0px;}
div.rbtoc1747742023278 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1747742023278'>
<ul class='toc-indentation'>
<li><a href='#BridgingandSwitching-Summary'>Summary</a></li>
<li><a href='#BridgingandSwitching-BridgeInterfaceSetup'>Bridge Interface Setup</a>
<ul class='toc-indentation'>
<li><a href='#BridgingandSwitching-Example'>Example</a></li>
<li><a href='#BridgingandSwitching-BridgeMonitoring'>Bridge Monitoring</a></li>
</ul>
</li>
<li><a href='#BridgingandSwitching-SpanningTreeProtocol'>Spanning Tree Protocol</a>
<ul class='toc-indentation'>
<li><a href='#BridgingandSwitching-Per-portSTP'>Per-port STP</a>
<ul class='toc-indentation'>
<li><a href='#BridgingandSwitching-Createedgeports'>Create edge ports</a></li>
<li><a href='#BridgingandSwitching-DropreceivedBPDUs'>Drop received BPDUs</a></li>
<li><a href='#BridgingandSwitching-EnableBPDUguard'>Enable BPDU guard</a></li>
<li><a href='#BridgingandSwitching-EnableRootguard'>Enable Root guard</a></li>
</ul>
</li>
</ul>
</li>
<li><a href='#BridgingandSwitching-BridgeSettings'>Bridge Settings</a></li>
<li><a href='#BridgingandSwitching-PortSettings'>Port Settings</a>
<ul class='toc-indentation'>
<li><a href='#BridgingandSwitching-Example.1'>Example</a></li>
<li><a href='#BridgingandSwitching-Interfacelists'>Interface lists</a></li>
<li><a href='#BridgingandSwitching-InterfacelistsinVLANtable'>Interface lists in VLAN table</a></li>
<li><a href='#BridgingandSwitching-BridgePortMonitoring'>Bridge Port Monitoring</a></li>
</ul>
</li>
<li><a href='#BridgingandSwitching-HostsTable'>Hosts Table</a>
<ul class='toc-indentation'>
<li><a href='#BridgingandSwitching-Monitoring'>Monitoring</a></li>
<li><a href='#BridgingandSwitching-Staticentries'>Static entries</a></li>
</ul>
</li>
<li><a href='#BridgingandSwitching-MulticastTable'>Multicast Table</a>
<ul class='toc-indentation'>
<li><a href='#BridgingandSwitching-Staticentries.1'>Static entries</a></li>
</ul>
</li>
<li><a href='#BridgingandSwitching-BridgeHardwareOffloading'>Bridge Hardware Offloading</a>
<ul class='toc-indentation'>
<li><a href='#BridgingandSwitching-Example.2'>Example</a></li>
</ul>
</li>
<li><a href='#BridgingandSwitching-BridgeVLANFiltering'>Bridge VLAN Filtering</a>
<ul class='toc-indentation'>
<li><a href='#BridgingandSwitching-BridgeVLANtable'>Bridge VLAN table</a></li>
<li><a href='#BridgingandSwitching-Bridgeportsettings'>Bridge port settings</a></li>
<li><a href='#BridgingandSwitching-Bridgehosttable'>Bridge host table</a></li>
<li><a href='#BridgingandSwitching-VLANExample-TrunkandAccessPorts'>VLAN Example - Trunk and Access Ports</a></li>
<li><a href='#BridgingandSwitching-VLANExample-TrunkandHybridPorts'>VLAN Example - Trunk and Hybrid Ports</a></li>
<li><a href='#BridgingandSwitching-VLANExample-InterVLANRoutingbyBridge'>VLAN Example - InterVLAN Routing by Bridge</a></li>
<li><a href='#BridgingandSwitching-Managementaccessconfiguration'>Management access configuration</a>
<ul class='toc-indentation'>
<li><a href='#BridgingandSwitching-UntaggedaccesswithoutVLANfiltering'>Untagged access without VLAN filtering</a></li>
<li><a href='#BridgingandSwitching-TaggedaccesswithoutVLANfiltering'>Tagged access without VLAN filtering</a></li>
<li><a href='#BridgingandSwitching-TaggedaccesswithVLANfiltering'>Tagged access with VLAN filtering</a></li>
<li><a href='#BridgingandSwitching-UntaggedaccesswithVLANfiltering'>Untagged access with VLAN filtering</a></li>
<li><a href='#BridgingandSwitching-ChanginguntaggedVLANforthebridgeinterface'>Changing untagged VLAN for the bridge interface</a></li>
</ul>
</li>
<li><a href='#BridgingandSwitching-VLANTunneling(QinQ)'>VLAN Tunneling (QinQ)</a></li>
<li><a href='#BridgingandSwitching-Tagstacking'>Tag stacking</a></li>
<li><a href='#BridgingandSwitching-MVRP'>MVRP</a>
<ul class='toc-indentation'>
<li><a href='#BridgingandSwitching-PropertyReference'>Property Reference</a></li>
</ul>
</li>
</ul>
</li>
<li><a href='#BridgingandSwitching-FastForward'>Fast Forward</a></li>
<li><a href='#BridgingandSwitching-IGMP/MLDSnooping'>IGMP/MLD Snooping</a></li>
<li><a href='#BridgingandSwitching-DHCPSnoopingandDHCPOption82'>DHCP Snooping and DHCP Option 82</a></li>
<li><a href='#BridgingandSwitching-ControllerBridgeandPortExtender'>Controller Bridge and Port Extender</a></li>
<li><a href='#BridgingandSwitching-BridgeFirewall'>Bridge Firewall</a>
<ul class='toc-indentation'>
<li><a href='#BridgingandSwitching-BridgePacketFilter'>Bridge Packet Filter</a></li>
<li><a href='#BridgingandSwitching-BridgeNAT'>Bridge NAT</a></li>
</ul>
</li>
<li><a href='#BridgingandSwitching-Seealso'>See also</a></li>
</ul>
</div></span></p><h1 id="BridgingandSwitching-Summary"><span class="mw-headline">Summary</span></h1><hr/><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" draggable="false" src="attachments/328068/100007969.png" data-image-src="attachments/328068/100007969.png" data-unresolved-comment-count="0" data-linked-resource-id="100007969" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="bridge_diagram.png" data-base-url="https://help.mikrotik.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="328068" data-linked-resource-container-version="147" tabindex="0" alt=""></span></p><p>Ethernet-like networks (Ethernet, Ethernet over IP, IEEE 802.11 in ap-bridge or bridge mode, WDS, VLAN) can be connected together using MAC bridges. The bridge feature allows the interconnection of hosts connected to separate LANs (using EoIP, geographically distributed networks can be bridged as well if any kind of IP network interconnection exists between them) as if they were attached to a single LAN. As bridges are transparent, they do not appear in the traceroute list, and no utility can make a distinction between a host working in one LAN and a host working in another LAN if these LANs are bridged. However, depending on the way the LANs are interconnected, latency and data rate between hosts may vary.</p><p>Network loops may emerge (intentionally or not) in complex topologies. Without any special treatment, loops would prevent the network from functioning normally, as they would lead to avalanche-like packet multiplication. Each bridge runs an algorithm that calculates how the loop can be prevented. (R/M)STP allows bridges to communicate with each other, so they can negotiate a loop-free topology. All other alternative connections that would otherwise form loops are put on standby, so that should the main connection fail, another connection could take its place. This algorithm exchanges configuration messages (BPDU - Bridge Protocol Data Unit) periodically, so that all bridges are updated with the newest information about changes in a network topology. (R/M)STP selects a root bridge which is responsible for network reconfiguration, such as blocking and opening ports on other bridges. The root bridge is the bridge with the lowest bridge ID.</p><h1 id="BridgingandSwitching-BridgeInterfaceSetup"><span class="mw-headline">Bridge Interface Setup</span></h1><hr/><p><span style="letter-spacing: 0.0px;">To combine a number of networks into one bridge, a bridge interface should be created. Later, all the desired interfaces should be set up as its ports. By default, bridge MAC address will be chosen automatically, depending on the bridge port configuration. To avoid unwanted MAC address changes, it is recommended to disable &quot;<code><span style="color:var(--ds-icon-success,#22a06b);">auto-mac</span></code>&quot; and manually specifying the MAC address by using &quot;<code><span style="color:var(--ds-icon-success,#22a06b);">admin-mac</span></code>&quot;.</span></p><p><strong style="letter-spacing: 0.0px;">Sub-menu:</strong><span style="letter-spacing: 0.0px;"> </span><code style="letter-spacing: 0.0px;">/interface bridge</code></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 24.0022%;"/><col style="width: 75.9978%;"/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>add-dhcp-option82</strong><span> </span>(<em>yes </em>|<em> no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Whether to add DHCP Option-82 information (Agent Remote ID and Agent Circuit ID) to DHCP packets. Can be used together with Option-82 capable DHCP server to assign IP addresses and implement policies. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>dhcp-snooping</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>admin-mac</strong><span> </span>(<em>MAC address</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Static MAC address of the bridge. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>auto-mac</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>no</code></span>.</td></tr><tr><td class="confluenceTd"><strong>ageing-time</strong><span> </span>(<em>time</em>; Default:<span> </span><strong>00:05:00</strong>)</td><td class="confluenceTd">How long a host's information will be kept in the bridge database.</td></tr><tr><td class="confluenceTd"><strong>arp</strong><span> </span>(<em>disabled </em>|<em> enabled </em>|<em> local-proxy-arp | proxy-arp | reply-only</em>; Default:<span> </span><strong>enabled</strong>)</td><td class="confluenceTd">Address Resolution Protocol setting<ul><li><span style="color:var(--ds-icon-success,#22a06b);"><code>disabled</code> </span>- the interface will not use ARP</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>enabled</code> </span>- the interface will use ARP</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>local-proxy-arp</code></span> - <span style="color:var(--ds-text,#333333);"><span> </span>the router performs proxy ARP on the interface and sends replies to the same interface</span></li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>proxy-arp</code></span><span> </span>- <span style="color:var(--ds-text,#333333);">the router performs proxy ARP on the interface and sends replies to other interfaces</span></li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>reply-only</code></span><span> </span>- t<span style="color:var(--ds-text,#333333);">he interface will only respond to requests originating from matching IP address/MAC address combinations that are entered as static entries in the IP/ARP table. No dynamic entries will be automatically stored in the IP/ARP table. Therefore, for communications to be successful, a valid static entry must already exist.</span></li></ul></td></tr><tr><td class="confluenceTd"><strong>arp-timeout</strong><span> </span>(<em>auto | integer</em>; Default:<span> </span><strong>auto</strong>)</td><td class="confluenceTd">How long the ARP record is kept in the ARP table after no packets are received from IP address. Value<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>auto</code> </span>equals to the value of<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>arp-timeout</code></span><span> </span>in<span> </span><code><span style="color:var(--ds-icon-success,#22a06b);">ip/settings</span></code>, default is <span style="color:var(--ds-icon-success,#22a06b);">30s</span>.</td></tr><tr><td class="confluenceTd"><strong>auto-mac</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd"><p>When <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>auto-mac=yes</code></span> is configured, the bridge will automatically select a MAC address for the bridge interface based on the following order of priority:</p><ol><li><span style="letter-spacing: 0.0px;">From an Ethernet interface that is part of the bridge;</span></li><li data-uuid="c7b9d50d-7287-447c-8a5b-70c71b989413"><span style="letter-spacing: 0.0px;">From a non-Ethernet interface in the bridge (e.g., WiFi or tunnel);</span></li><li data-uuid="766cf9de-0dc0-4299-963a-7541ad496f4b"><span style="letter-spacing: 0.0px;">A randomly generated address if neither of the above is available.</span></li></ol><p>If the configuration is changed, for example, you add a new port to the bridge, the bridge’s MAC address will be updated only if a higher-priority address source becomes available. For example, if the bridge initially used a randomly generated MAC, then an Ethernet interface was added, the MAC would update according to the highest available priority (in this case, the Ethernet interface). <span style="letter-spacing: 0.0px;">The bridge will also update the MAC address if the current MAC is associated with a port that is moved to a different bridge.</span></p><p>The current MAC address and its priority level are saved and will be reused after a reboot.</p><p>When <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">auto-mac=no</span></code> is configured, you can set a static MAC address manually using the <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">admin-mac</span></code> property.</p></td></tr><tr><td class="confluenceTd"><strong>comment</strong><span> </span>(<em>string</em>; Default: )</td><td class="confluenceTd">Short description of the interface.</td></tr><tr><td class="confluenceTd"><strong>dhcp-snooping</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd"><div class="content-wrapper"><p>Enables or disables DHCP Snooping on the bridge.</p><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Enabling the DHCP snooping feature will turn off bridge <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/328227/Packet+Flow+in+RouterOS#PacketFlowinRouterOS-FastPath" rel="nofollow">fast-path</a>, which in turn affects the ability to <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/328227/Packet+Flow+in+RouterOS#PacketFlowinRouterOS-FastTrack" rel="nofollow">fasttrack</a> connections going over that bridge.</p></div></div></div></td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Changes whether the bridge is disabled.</td></tr><tr><td class="confluenceTd"><strong>ether-type</strong><span> </span>(<em>0x9100 | 0x8100 | 0x88a8</em>; Default:<span> </span><strong>0x8100</strong>)</td><td class="confluenceTd">Changes the EtherType, which will be used to determine if a packet has a VLAN tag. Packets that have a matching EtherType are considered as tagged packets. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>fast-forward</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Special and faster case of<span> </span>Fast Path<span> </span>which works only on bridges with 2 interfaces (enabled by default only for new bridges). More details can be found in the<span> </span>Fast Forward<span> </span>section.</td></tr><tr><td class="confluenceTd"><strong>forward-delay</strong><span> </span>(<em>time</em>; Default:<span> </span><strong>00:00:15</strong>)</td><td class="confluenceTd">The time which is spent during the initialization phase of the bridge interface (i.e., after router startup or enabling the interface) in the listening/learning state before the bridge will start functioning normally.</td></tr><tr><td class="confluenceTd"><strong>forward-reserved-addresses</strong><span> </span>(<em>yes | no</em>:<span> Default: <strong>no</strong>)</span></td><td class="confluenceTd"><div class="content-wrapper"><p>Whether to forward IEEE reserved multicast MAC address that are in<span> the </span><strong>01:80:C2:00:00:0x</strong><span> </span>range. Bridges compliant with R/M/STP standards should refrain from forwarding these packets, t<span style="letter-spacing: 0.0px;">his property can only be applied when </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span style="letter-spacing: 0.0px;"> is set to </span><span style="color:var(--ds-icon-success,#22a06b);"><code>none</code></span><span style="letter-spacing: 0.0px;">.</span></p><p>Enabling forwarding of reserved MAC addresses may affect certain protocols relying on these addresses. It is advisable to enable forwarding only when absolutely necessary, such as in transparent bridging setups (e.g., extending long links, using bridge as media converters, or conducting network analysis).</p><p>Here are some notable MAC addresses and protocols used by RouterOS:</p><ul><li><span style="letter-spacing: 0.0px;"><span style="color:var(--ds-text,#333333);">01:80:C2:00:00:00 - <a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-SpanningTreeProtocol" rel="nofollow">Spanning Tree Protocol (STP)</a>;</span></span></li><li><span style="letter-spacing: 0.0px;"><span style="color:var(--ds-text,#333333);">01:80:C2:00:00:01 - <a href="https://help.mikrotik.com/docs/display/ROS/Ethernet" rel="nofollow">Ethernet</a> Flow Control;</span></span></li><li><span style="letter-spacing: 0.0px;"><span style="color:var(--ds-text,#333333);">01:80:C2:00:00:02 - <a href="https://help.mikrotik.com/docs/display/ROS/Bonding#Bonding-802.3ad" rel="nofollow">Link Aggregation Control Protocol (LACP)</a>;</span></span></li><li><span style="letter-spacing: 0.0px;"><span style="color:var(--ds-text,#333333);">01:80:C2:00:00:03 - <a href="https://help.mikrotik.com/docs/display/ROS/Dot1X" rel="nofollow">Dot1x</a> client and server;</span></span></li><li><span style="color:var(--ds-text,#333333);"><span style="color:var(--ds-text,#333333);">01:80:C2:00:00:08 - <span style="color:var(--ds-text,#333333);"><span style="color:var(--ds-text,#333333);">Spanning Tree Protocol (for 802.1ad bridges, using <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>ether-type=0x88a8</code></span>);</span></span></span></span></li><li><span style="color:var(--ds-text,#333333);"><span style="color:var(--ds-text,#333333);">01:80:C2:00:00:0D - <a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-MVRP" rel="nofollow">Multiple VLAN Registration protocol</a> <span style="color:var(--ds-text,#333333);"><span style="color:var(--ds-text,#333333);">(for 802.1ad bridges, using <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>ether-type=0x88a8</code></span>)</span></span>;</span></span></li><li><span style="color:var(--ds-text,#333333);"><span style="color:var(--ds-text,#333333);">01:80:C2:00:00:0E - <a href="https://help.mikrotik.com/docs/display/ROS/Neighbor+discovery" rel="nofollow">Link Layer Discovery Protocol</a>, <a href="https://help.mikrotik.com/docs/display/ROS/Multi-chassis+Link+Aggregation+Group" rel="nofollow">Multi-chassis Link Aggregation Group</a> and <a href="Precision-Time-Protocol_64127015.html">Precision Time Protocol</a>;</span></span></li></ul><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>The Flow Control MAC address 01:80:C2:00:00:01 is an exception, it does not get forwarded by the bridge.</p></div></div></div></td></tr><tr><td class="confluenceTd"><strong>frame-types</strong><span> </span>(<em>admit-all | admit-only-untagged-and-priority-tagged | admit-only-vlan-tagged</em>; Default:<span> </span><strong>admit-all</strong>)</td><td class="confluenceTd">Specifies allowed frame types on a bridge port. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>igmp-snooping</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables multicast group and port learning to prevent multicast traffic from flooding all interfaces in a bridge.</td></tr><tr><td class="confluenceTd"><strong>igmp-version</strong><span> </span>(<em>2 | 3</em>; Default:<span> </span><strong>2</strong>)</td><td class="confluenceTd"><span style="color:var(--ds-text,#172b4d);">Selects the IGMP version in which IGMP membership queries will be generated when the bridge interface is acting as an IGMP querier. This property only has an effect when</span><span style="color:var(--ds-text,#172b4d);"><span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span> and <span style="color:var(--ds-icon-success,#22a06b);"><code>multicast-querier</code></span> is set to <span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</span></td></tr><tr><td class="confluenceTd"><strong>ingress-filtering</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Enables or disables VLAN ingress filtering, which checks if the ingress port is a member of the received VLAN ID in the bridge VLAN table. By default, VLANs that don't exist in the bridge VLAN table are dropped before they are sent out (egress), but this property allows you to drop the packets when they are received (ingress). Should be used with<code> <span style="color:var(--ds-icon-success,#22a06b);">frame-types</span></code><span> </span>to specify if the ingress traffic should be tagged or untagged. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>. The setting is enabled by default since RouterOS v7.</td></tr><tr><td class="confluenceTd"><strong>l2mtu</strong><span> </span>(<em>read-only</em>; Default: )</td><td class="confluenceTd">L2MTU indicates the maximum size of the frame without a MAC header that can be sent by this interface. The L2MTU value will be automatically set by the bridge and it will use the lowest L2MTU value of any associated bridge port. This value cannot be manually changed.</td></tr><tr><td class="confluenceTd"><strong>last-member-interval</strong><span> </span>(<em>time</em>; Default:<span> </span><strong>1s</strong>)</td><td class="confluenceTd"><p style="text-align: left;"><span style="color:var(--ds-text,#172b4d);">When the last client on the bridge port unsubscribes to a multicast group and the bridge is acting as an active querier, the bridge will send group-specific IGMP/MLD query, to make sure that no other client is still subscribed. The setting changes the response time for these queries. In case no membership reports are received in a certain time period (<code><span style="color:var(--ds-icon-success,#22a06b);">last-member-interval</span></code><span> </span>*<span> </span><code><span style="color:var(--ds-icon-success,#22a06b);">last-member-query-count</span></code>), the multicast group is removed from the multicast database (MDB).</span></p><p style="text-align: left;">If the bridge port is configured with<span> </span><span style="color:var(--ds-icon-success,#22a06b);">fast-leave</span>, the multicast group is removed right away without sending any queries.</p><p style="text-align: left;"><span style="color:var(--ds-text,#172b4d);">This property only has an effect when</span> <span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span> </span>and<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>multicast-querier</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</p></td></tr><tr><td class="confluenceTd"><strong>last-member-query-count</strong><span> </span>(<em>integer: 0..4294967295</em>; Default:<span> </span><strong>2</strong>)</td><td class="confluenceTd"><span style="color:var(--ds-text,#172b4d);">How many times should</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>last-member-interval</code></span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">pass until the IGMP/MLD snooping bridge stops forwarding a certain multicast stream. This property only has an effect when </span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">and</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>multicast-querier</code></span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">is set to</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span><span style="color:var(--ds-text,#172b4d);">.</span></td></tr><tr><td class="confluenceTd"><strong>max-hops</strong><span> </span>(<em>integer: 6..40</em>; Default:<span> </span><strong>20</strong>)</td><td class="confluenceTd">Bridge count which BPDU can pass in an MSTP enabled network in the same region before BPDU is being ignored. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>mstp</code></span>.</td></tr><tr><td class="confluenceTd"><strong>max-learned-entries</strong><span> </span>(<em>integer: 0..4294967295 | auto | unlimited</em>; Default:<span> </span><strong>auto</strong>)</td><td class="confluenceTd"><p>Sets the maximum number of learned hosts for the bridge interface. The default value is <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>auto</code></span>, and it depends on the installed amount of RAM. It is possible to set a higher value than the default or choose <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">unlimited</span></code> option, but it increases the risk of out-of-memory condition. </p><p><span style="letter-spacing: 0.0px;">The default values for certain RAM sizes:</span></p><ul><li>8192 for 64 MB;</li><li>16384 for 128 MB;</li><li>32768 for 256 MB;</li><li>65536 for 512 MB;</li><li>131072 for 1024 MB or higher.</li></ul><p>This limit specifically applies to the bridge interface, not the hardware limits on the switch FDB table. Even if the bridge limit is reached, the switch can continue learn hosts up to its hardware limits and make correct forwarding decisions. However, these additional hosts will not show up in the &quot;<code>/interface bridge host</code>&quot; table nor can be monitored. Additionally, hitting this limit could impact MLAG host synchronization.</p><p>This setting has been available since RouterOS version 7.16.</p></td></tr><tr><td class="confluenceTd"><strong>max-message-age</strong><span> </span>(<em>time: 6s..40s</em>; Default:<span> </span><strong>00:00:20</strong>)</td><td class="confluenceTd"><span style="color:var(--ds-text,#333333);">Changes the Max Age value in BPDU packets, which is transmitted by the root bridge. A root bridge sends a BPDUs with Max Age set to<span> </span></span><span style="color:var(--ds-icon-success,#22a06b);"><code>max-message-age </code></span><span style="color:var(--ds-text,#333333);">value and a Message Age of 0. Every sequential bridge will increment the Message Age before sending their BPDUs. Once a bridge receives a BPDU where Message Age is equal or greater than Max Age, the BPDU is ignored.</span> This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>stp</code> </span>or<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>rstp</code></span>.</td></tr><tr><td class="confluenceTd"><strong>membership-interval</strong><span> </span>(<em>time</em>; Default:<span> </span><strong>4m20s</strong>)</td><td class="confluenceTd"><span style="color:var(--ds-text,#172b4d);">The amount of time after an entry in the Multicast Database (MDB) is removed if no IGMP/MLD membership reports are received on a bridge port. This property only has an effect when</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">is set to</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span><span style="color:var(--ds-text,#172b4d);">.</span></td></tr><tr><td class="confluenceTd"><strong>mld-version</strong><span> </span>(<em>1 | 2</em>; Default:<span> </span><strong>1</strong>)</td><td class="confluenceTd"><span style="color:var(--ds-text,#172b4d);">Selects the MLD version in which MLD membership queries will be generated, when the bridge interface is acting as an MLD querier. This property only has an effect when the bridge has an active IPv6 address,<span> </span></span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">and</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>multicast-querier</code></span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">is set to</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span><span style="color:var(--ds-text,#172b4d);">.</span></td></tr><tr><td class="confluenceTd"><strong>mtu</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>auto</strong>)</td><td class="confluenceTd"><p>Maximum transmission unit, by default, the bridge will set MTU automatically and it will use the lowest MTU value of any associated bridge port. The default bridge MTU value without any bridge ports added is 1500. The MTU value can be set manually, but it cannot exceed the bridge L2MTU or the lowest bridge port L2MTU. If a new bridge port is added with L2MTU which is smaller than the <code><span style="color:var(--ds-icon-success,#22a06b);">actual-mtu</span></code> of the bridge (set by the<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>mtu</code></span> property), then manually set value will be ignored and the bridge will act as if<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>mtu=auto</code></span><span> </span>is set.</p><p>When adding VLAN interfaces on the bridge, and when VLAN is using higher MTU than default 1500, it is recommended to set manually the MTU of the bridge.</p></td></tr><tr><td class="confluenceTd"><strong>multicast-querier</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd"><p style="text-align: left;">Multicast querier generates periodic IGMP/MLD general membership queries to which all IGMP/MLD capable devices respond with an IGMP/MLD membership report, usually a PIM (multicast) router or IGMP proxy generates these queries.</p><p style="text-align: left;">By using this property you can make an IGMP/MLD snooping enabled bridge to generate IGMP/MLD general membership queries. This property should be used whenever there is no active querier (PIM router or IGMP proxy) in a Layer2 network. Without a multicast querier in a Layer2 network, the Multicast Database (MDB) is not being updated, the learned entries will timeout and IGMP/MLD snooping will not function properly.</p><p style="text-align: left;">Only untagged IGMP/MLD general membership queries are generated, IGMP queries are sent with IPv4 0.0.0.0 source address, MLD queries are sent with IPv6 link-local address of the bridge interface. The bridge will not send queries if an external IGMP/MLD querier is detected (see the monitoring values<span> </span><code>igmp-querier</code><span> </span>and<span> </span><code>mld-querier</code>).</p><p style="text-align: left;">This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</p></td></tr><tr><td class="confluenceTd"><strong>multicast-router</strong><span> </span>(<em>disabled | permanent | temporary-query</em>; Default:<span> </span><strong>temporary-query</strong>)</td><td class="confluenceTd"><span style="color:var(--ds-text,#172b4d);">A multicast router port is a port where a multicast router or querier is connected. On this port, unregistered multicast streams and IGMP/MLD membership reports will be sent. This setting changes the state of the multicast router for a bridge interface itself. This property can be used to send IGMP/MLD membership reports to the bridge interface for further multicast routing or proxying. This property only has an effect when</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">is set to</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span><span style="color:var(--ds-text,#172b4d);">.</span><ul style="text-align: left;"><li><span style="color:var(--ds-icon-success,#22a06b);"><code>disabled</code> </span>- disabled multicast router state on the bridge interface. Unregistered multicast and IGMP/MLD membership reports are not sent to the bridge interface regardless of what is configured on the bridge interface.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>permanent</code> </span>- enabled multicast router state on the bridge interface. Unregistered multicast and IGMP/MLD membership reports are sent to the bridge interface itself regardless of what is configured on the bridge interface.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>temporary-query</code></span><span> </span>- automatically detect multicast router state on the bridge interface using IGMP/MLD queries.</li></ul></td></tr><tr><td class="confluenceTd"><strong>name</strong><span> </span>(<em>text</em>; Default:<span> </span><strong>bridgeN</strong>)</td><td class="confluenceTd">Name of the bridge interface.</td></tr><tr><td class="confluenceTd"><strong>port-cost-mode</strong><span> </span>(<em>long | short</em>; Default:<span> </span><strong>long</strong>)</td><td class="confluenceTd"><p><span style="letter-spacing: 0.0px;">Changes the port path-cost and internal-path-cost mode for bridged ports, utilizing automatic values based on interface speed. This setting does not impact bridged ports with manually configured </span><span style="color:var(--ds-icon-success,#22a06b);"><code>path-cost</code></span><span style="letter-spacing: 0.0px;">  or </span><code style="letter-spacing: 0.0px;"><span style="color:var(--ds-icon-success,#22a06b);">internal-path-cost</span></code><span style="letter-spacing: 0.0px;"> properties. Below are examples illustrating the path-costs corresponding to specific data rates (with proportionate calculations for intermediate rates):</span></p><div class="table-wrap"><table class="wrapped confluenceTable" data-mce-resize="false"><colgroup><col/><col/><col/></colgroup><tbody><tr><th scope="col" class="confluenceTh">Data rate</th><th scope="col" class="confluenceTh">Long</th><th scope="col" class="confluenceTh">Short</th></tr><tr><td class="confluenceTd">10 Mbps</td><td class="confluenceTd">2,000,000</td><td class="confluenceTd">100</td></tr><tr><td class="confluenceTd">100 Mbps</td><td class="confluenceTd">200,000</td><td class="confluenceTd">19</td></tr><tr><td class="confluenceTd">1 Gbps</td><td class="confluenceTd">20,000</td><td class="confluenceTd">4</td></tr><tr><td class="confluenceTd">10 Gbps</td><td class="confluenceTd">2,000</td><td class="confluenceTd">2</td></tr><tr><td class="confluenceTd">25 Gbps</td><td class="confluenceTd">800</td><td class="confluenceTd">1</td></tr><tr><td class="confluenceTd">40 Gbps</td><td class="confluenceTd">500</td><td class="confluenceTd">1</td></tr><tr><td class="confluenceTd">50 Gbps</td><td class="confluenceTd">400</td><td class="confluenceTd">1</td></tr><tr><td class="confluenceTd">100 Gbps</td><td class="confluenceTd">200</td><td class="confluenceTd">1</td></tr></tbody></table></div><p>For bonded interfaces, the highest path-cost among all bonded member ports is applied, this value remains unaffected by the total link speed of the bonding.</p><p>For virtual interfaces (<span style="color:var(--ds-text,#333333);">such as</span> VLAN, EoIP, VXLAN), as well as wifi, wireless, and 60GHz interfaces, a path-cost of 20,000 is assigned for long mode, and 10 for short mode.</p><p>For dynamically bridged interfaces (e.g. wifi, wireless, PPP, VPLS), the path-cost defaults to 20,000 for long mode and 10 for short mode. However, this can be manually overridden by the service that dynamically adds interfaces to bridge, for instance, by using the CAPsMAN <code><span style="color:var(--ds-icon-success,#22a06b);">datapath.bridge-cost</span></code> setting.</p><p>Use <a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-BridgePortMonitoring" rel="nofollow">port monitor</a> to observe the applied path-cost.</p><p><span style="color:var(--ds-text,#172b4d);">This property has an effect when <span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span> is set to <span style="color:var(--ds-icon-success,#22a06b);"><code>stp</code></span>, <span style="color:var(--ds-icon-success,#22a06b);"><code>rstp</code></span>, or <code><span style="color:var(--ds-icon-success,#22a06b);">mstp</span></code>.</span></p></td></tr><tr><td class="confluenceTd"><strong>priority</strong><span> </span>(<em>integer: 0..65535 decimal format or 0x0000-0xffff hex format</em>; Default:<span> </span><strong>32768 / 0x8000</strong>)</td><td class="confluenceTd">Bridge priority, used by R/STP to determine root bridge, used by MSTP to determine CIST and IST regional root bridge. This property has no effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>none</code></span>.</td></tr><tr><td class="confluenceTd"><strong>protocol-mode</strong><span> </span>(<em>none | rstp | stp | mstp</em>; Default:<span> </span><strong>rstp</strong>)</td><td class="confluenceTd"><p>Select Spanning tree protocol (STP) or Rapid spanning tree protocol (RSTP) to ensure a loop-free topology for any bridged LAN. RSTP provides a faster spanning tree convergence after a topology change. Select MSTP to ensure loop-free topology across multiple VLANs.</p><p>The forwarding of reserved MAC addresses that are in<span> the </span><strong>01:80:C2:00:00:0x</strong><span> </span>range is separated <span style="letter-spacing: 0.0px;">from </span><span style="color:var(--ds-text,#172b4d);"><code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">protocol-mode=none</span></code>, and is now available as a controllable property <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">forward-reserved-addresses</span></code> since </span><span style="color:var(--ds-text,#172b4d);">RouterOS v7.16.</span></p></td></tr><tr><td class="confluenceTd"><strong>pvid</strong><span> </span>(<em>integer: 1..4094</em>; Default:<span> </span><strong>1</strong>)</td><td class="confluenceTd">Port VLAN ID (pvid) specifies which VLAN the untagged ingress traffic is assigned to. It applies e.g. to frames sent from bridge IP and destined to a bridge port. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>querier-interval</strong><span> </span>(<em>time</em>; Default:<span> </span><strong>4m15s</strong>)</td><td class="confluenceTd">Changes the timeout period for detected querier and multicast-router ports. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>query-interval</strong><span> </span>(<em>time</em>; Default:<span> </span><strong>2m5s</strong>)</td><td class="confluenceTd"><span style="color:var(--ds-text,#172b4d);">Changes the interval on how often IGMP/MLD general membership queries are sent out when the bridge interface is acting as an IGMP/MLD querier. The interval takes place when the last startup query is sent. This property only has an effect when</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">and</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>multicast-querier</code></span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">is set to</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span><span style="color:var(--ds-text,#172b4d);">.</span></td></tr><tr><td class="confluenceTd"><strong>query-response-interval</strong><span> </span>(<em>time</em>; Default:<span> </span><strong>10s</strong>)</td><td class="confluenceTd"><span style="color:var(--ds-text,#172b4d);">The setting changes the response time for general IGMP/MLD queries when the bridge is active as an IGMP/MLD querier.<span> </span></span><span style="color:var(--ds-text,#172b4d);">This property only has an effect when</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">and</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>multicast-querier</code></span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">is set to</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span><span style="color:var(--ds-text,#172b4d);">.</span></td></tr><tr><td class="confluenceTd"><strong>region-name</strong><span> </span>(<em>text</em>; Default: )</td><td class="confluenceTd">MSTP region name. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>mstp</code></span>.</td></tr><tr><td class="confluenceTd"><strong>region-revision</strong><span> </span>(<em>integer: 0..65535</em>; Default:<span> </span><strong>0</strong>)</td><td class="confluenceTd">MSTP configuration revision number. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>mstp</code></span>.</td></tr><tr><td class="confluenceTd"><strong>startup-query-count</strong><span> </span>(<em>integer: 0..4294967295</em>; Default:<span> </span><strong>2</strong>)</td><td class="confluenceTd">Specifies how many times general IGMP/MLD queries must be sent when bridge interface is enabled or active querier timeouts. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span> </span>and<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>multicast-querier</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>startup-query-interval</strong><span> </span>(<em>time</em>; Default:<span> </span><strong>31s250ms</strong>)</td><td class="confluenceTd">Specifies the interval between startup general IGMP/MLD queries. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span> </span>and<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>multicast-querier</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>transmit-hold-count</strong><span> </span>(<em>integer: 1..10</em>; Default:<span> </span><strong>6</strong>)</td><td class="confluenceTd">The Transmit Hold Count used by the Port Transmit state machine to limit the transmission rate.</td></tr><tr><td class="confluenceTd"><strong>vlan-filtering</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Globally enables or disables VLAN functionality for the bridge.</td></tr></tbody></table></div><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Changing certain properties can cause the bridge to temporarily disable all ports. This must be taken into account whenever changing such properties on production environments since it can cause all packets to be temporarily dropped. Such properties include <span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span>, <span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span>, <span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span>, <span style="color:var(--ds-icon-success,#22a06b);"><code>fast-forward</code></span> and others.</p></div></div><h2 id="BridgingandSwitching-Example"><span class="mw-headline">Example  </span></h2><p>To add and enable a bridge interface that will forward L2 packets:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] &gt; interface bridge add
[admin@MikroTik] &gt; interface bridge print 
Flags: X - disabled, R - running 
0 R name=&quot;bridge1&quot; mtu=auto actual-mtu=1500 l2mtu=65535 arp=enabled arp-timeout=auto mac-address=5E:D2:42:95:56:7F protocol-mode=rstp fast-forward=yes 
igmp-snooping=no auto-mac=yes ageing-time=5m priority=0x8000 max-message-age=20s forward-delay=15s transmit-hold-count=6 vlan-filtering=no 
dhcp-snooping=no </pre>
</div></div><h2 id="BridgingandSwitching-BridgeMonitoring"><span class="mw-headline">Bridge Monitoring</span></h2><p><span class="mw-headline">To monitor the current status of a bridge interface, use the </span><span style="color:var(--ds-text-accent-magenta,#943d73);"><code>monitor</code></span> <span class="mw-headline">command.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface bridge monitor</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><p align="left"><strong>bridge-id</strong> (<em>priority.MAC address</em>)</p></td><td class="confluenceTd"><p align="left">Local bridge indetifier<span>, <span style="color:var(--ds-text,#172b4d);">which is in form of bridge-priority.bridge-MAC-address.</span></span></p></td></tr><tr><td class="confluenceTd"><strong>current-mac-address</strong><span> </span>(<em>MAC address</em>)</td><td class="confluenceTd">Current MAC address of the bridge.</td></tr><tr><td class="confluenceTd"><strong>designated-port-count</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">Number of designated bridge ports.</td></tr><tr><td class="confluenceTd"><p align="left"><strong>declared-vlan-ids</strong> <span style="color:var(--ds-text,#172b4d);">(</span><em style="text-align: left;">integer 1..4094</em>)</p></td><td class="confluenceTd"><p align="left">VLANs decleared on the bridge interface via <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/328068/Bridging+and+Switching#BridgingandSwitching-MVRP" rel="nofollow">MVRP protocol</a>.</p></td></tr><tr><td class="confluenceTd"><p align="left"><strong>fast-forward</strong> (<em>yes | no</em>)</p></td><td class="confluenceTd"><p align="left">Whether bridge fast-forward is active.</p></td></tr><tr><td class="confluenceTd"><strong>igmp-querier</strong> (<em>none </em>| <em>interface &amp; IPv4 address</em>)</td><td class="confluenceTd">Shows a bridge port and source IP address from the detected IGMP querier. Only shows detected external IGMP querier, local bridge IGMP querier (including IGMP proxy and PIM) will not be displayed. Monitoring value appears only when <code><span style="color:var(--ds-icon-success,#22a06b);">igmp-snooping</span></code> is enabled.</td></tr><tr><td class="confluenceTd"><strong>mld-querier</strong> (<em>none </em>| <em>interface &amp; IPv6 address</em>)</td><td class="confluenceTd">Shows a bridge port and source IPv6 address from the detected MLD querier. Only shows detected external MLD querier, local bridge MLD querier will not be displayed. Monitoring value appears only when <code><span style="color:var(--ds-icon-success,#22a06b);">igmp-snooping</span></code> is enabled and the bridge has an active IPv6 address.</td></tr><tr><td class="confluenceTd"><p><strong>mst-config-digest</strong> (<em>integer</em>)</p></td><td class="confluenceTd">Computed hash of VLAN mappings to MST Instance IDs.</td></tr><tr><td class="confluenceTd"><strong>multicast-router</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Shows if a multicast router is detected on the port. Monitoring value appears only when <span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span> is enabled.</td></tr><tr><td class="confluenceTd"><strong>port-count</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">Number of the bridge ports.</td></tr><tr><td class="confluenceTd"><strong>regional-root-bridge-id</strong> (<em>priority.MAC address</em>)</td><td class="confluenceTd">The regional root bridge ID, which is in form of bridge-priority.bridge-MAC-address. Only applies when MSTP is enabled.</td></tr><tr><td class="confluenceTd"><p align="left"><strong>registered-vlan-ids</strong> <span style="color:var(--ds-text,#172b4d);">(</span><em style="text-align: left;">integer 1..4094</em>)</p></td><td class="confluenceTd"><p align="left">VLANs registered on the bridge interface via <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/328068/Bridging+and+Switching#BridgingandSwitching-MVRP" rel="nofollow">MVRP protocol</a>.</p></td></tr><tr><td class="confluenceTd"><strong>root-bridge</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Shows whether the bridge is the root bridge of the spanning tree.</td></tr><tr><td class="confluenceTd"><strong>root-bridge-id</strong><span> </span>(<em>priority.MAC address</em>)</td><td class="confluenceTd">The root bridge ID, which is in form of bridge-priority.bridge-MAC-address.</td></tr><tr><td class="confluenceTd"><strong>root-path-cost</strong><span> </span>(<em>integer</em>)</td><td class="confluenceTd">The total cost of the path to the root-bridge.</td></tr><tr><td class="confluenceTd"><strong>root-port</strong><span> </span>(<em>name</em>)</td><td class="confluenceTd">Port to which the root bridge is connected to.</td></tr><tr><td class="confluenceTd"><strong>state</strong><span> </span>(<em>enabled | disabled</em>)</td><td class="confluenceTd">State of the bridge.</td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] /interface/bridge monitor bridge1
                    state: enabled                         
      current-mac-address: 2C:C8:1B:FF:92:F4               
                bridge-id: 0x1000.2C:C8:1B:FF:92:F4        
              root-bridge: yes                             
           root-bridge-id: 0x1000.2C:C8:1B:FF:92:F4        
  regional-root-bridge-id: 0x1000.2C:C8:1B:FF:92:F4        
           root-path-cost: 0                               
                root-port: none                            
               port-count: 2                               
    designated-port-count: 2                               
        mst-config-digest: d2b171a8ad95f593c241fc33d419a88c
             fast-forward: no                              
         multicast-router: no                              
             igmp-querier: none                            
              mld-querier: none                            
        declared-vlan-ids: 1                               
      registered-vlan-ids: 1                               </pre>
</div></div><h1 id="BridgingandSwitching-SpanningTreeProtocol"><span>Spanning Tree Protocol</span></h1><hr/><p>RouterOS bridge interfaces are capable of running Spanning Tree Protocol to ensure a loop-free and redundant topology. For small networks with just 2 bridges STP does not bring many benefits, but for larger networks properly configured STP is very crucial, leaving STP-related values to default may result in a completely unreachable network in case of an even single bridge failure. To achieve a proper loop-free and redundant topology, it is necessary to properly set bridge priorities, port path costs, and port priorities.</p><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>In RouterOS it is possible to set any value for bridge priority between 0 and 65535, the IEEE 802.1W standard states that the bridge priority must be in steps of 4096. This can cause incompatibility issues between devices that do not support such values. To avoid compatibility issues, it is recommended to use only these priorities: 0, 4096, 8192, 12288, 16384, 20480, 24576, 28672, 32768, 36864, 40960, 45056, 49152, 53248, 57344, 61440</p></div></div><p>STP has multiple variants, currently, RouterOS supports STP, RSTP, and MSTP. Depending on needs, either one of them can be used, some devices are able to run some of these protocols using hardware offloading, detailed information about which device support it can be found in the<span> </span>Hardware Offloading<span> </span>section. STP is considered to be outdated and slow, it has been almost entirely replaced in all network topologies by RSTP, which is backward compatible with STP. For network topologies that depend on VLANs, it is recommended to use MSTP since it is a VLAN aware protocol and gives the ability to do load balancing per VLAN groups. There are a lot of considerations that should be made when designing an STP enabled network, more detailed case studies can be found in the<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/Spanning+Tree+Protocol" rel="nofollow">Spanning Tree Protocol<span> </span></a>article. In RouterOS, the<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>property controls the used STP variant.</p><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>RouterOS bridge does not work with PVST and its variants. The PVST BPDUs (with a MAC destination 01<span>:00:</span>0C<span>:CC:</span>CC:CD) are treated by RouterOS bridges as typical multicast packets. In simpler terms, they undergo RouterOS bridge/switch forwarding logic and may get tagged or untagged. </p></div></div><p><br/></p><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>By the IEEE 802.1ad standard, the BPDUs from bridges that comply with IEEE 802.1Q are not compatible with IEEE 802.1ad bridges, this means that the same bridge VLAN protocol should be used across all bridges in a single Layer2 domain, otherwise (R/M)STP will not function properly.</p></div></div><h2 id="BridgingandSwitching-Per-portSTP"><span style="font-size: 20.0px;letter-spacing: -0.008em;">Per-port STP</span></h2><p>There might be certain situations where you want to limit STP functionality on single or multiple ports. Below you can find some examples for different use cases.</p><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Be careful when changing the default (R/M)STP functionality, make sure you understand the working principles of STP and BPDUs. Misconfigured (R/M)STP can cause unexpected behavior.</p></div></div><h3 id="BridgingandSwitching-Createedgeports">Create edge ports</h3><p>Setting a bridge port as an edge port will restrict it from sending BPDUs and will ignore any received BPDUs:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
add name=bridge1
/interface bridge port
add bridge=bridge1 interface=ether1 edge=yes
add bridge=bridge1 interface=ether2</pre>
</div></div><h3 id="BridgingandSwitching-DropreceivedBPDUs"><span style="letter-spacing: -0.006em;">Drop received BPDUs</span></h3><p>The bridge filter or NAT rules cannot drop BPDUs when the bridge has STP/RSTP/MSTP enabled due to the special processing of BPDUs. However, dropping received BPDUs on a certain port can be done on some switch chips using ACL rules:</p><p>On CRS3xx:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface ethernet switch rule
add dst-mac-address=01:80:C2:00:00:00/FF:FF:FF:FF:FF:FF new-dst-ports=&quot;&quot; ports=ether1 switch=switch1</pre>
</div></div><p><span>On CRS1xx/CRS2xx with </span>Access Control List (ACL) support<span>:<br/></span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface ethernet switch acl
add action=drop mac-dst-address=01:80:C2:00:00:00 src-ports=ether1</pre>
</div></div><p><span>In this example all received BPDUs on</span><span> </span><strong>ether1</strong><span> </span><span>are dropped.</span></p><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>If you intend to drop received BPDUs on a port, then make sure to prevent BPDUs from being sent out from the interface that this port is connected to. A root bridge always sends out BPDUs and under normal conditions is waiting for a more superior BPDU (from a bridge with a lower bridge ID), but the bridge must temporarily disable the new root-port when transitioning from a root bridge to a designated bridge. If you have blocked BPDUs only on one side, then a port will flap continuously.</p></div></div><h3 id="BridgingandSwitching-EnableBPDUguard">Enable BPDU guard</h3><p>In this example, if<span> </span><strong>ether1</strong><span> </span>receives a BPDU, it will block the port and will require you to manually re-enable it.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
add name=bridge1
/interface bridge port
add bridge=bridge1 interface=ether1 bpdu-guard=yes
add bridge=bridge1 interface=ether2</pre>
</div></div><h3 id="BridgingandSwitching-EnableRootguard"><span class="mw-headline">Enable Root guard</span></h3><p><span class="mw-headline">In this example, <strong>ether1</strong> is configured with <code><span style="color:var(--ds-icon-success,#22a06b);">restricted-role=yes.</span></code> It prevented the port from becoming the root port for the CIST or any MSTI, regardless of its best spanning tree priority vector. Such a port will be selected as an Alternate Port (discarding state) and remains so as long as it continues to receive superior BPDUs. It will automatically transition to the forwarding state when it no longer detects a superior root path. Network administrators may enable this setting to safeguard against external bridges influencing the active spanning tree.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
add name=bridge1
/interface bridge port
add bridge=bridge1 interface=ether1 restricted-role=yes
add bridge=bridge1 interface=ether2
[admin@MikroTik] /interface/bridge/port monitor [find]
                  interface: ether1                   ether2            
                     status: in-bridge                in-bridge          
                    port-id: 0x80.1                   0x80.2            
                       role: alternate-port           designated-port
                  edge-port: no                       yes           
        edge-port-discovery: yes                      yes            
        point-to-point-port: yes                      yes            
               external-fdb: no                       no             
               sending-rstp: yes                      yes            
                   learning: no                       yes            
                 forwarding: no                       yes            
           actual-path-cost: 2000                     2000           
    internal-root-path-cost: 2000                                    
       designated-bridge-id: 0x7000.64:D1:54:C7:3A:6E                
   designated-internal-cost: 0                        0              
         designated-port-id: 0x80.1                   0x80.2         
  designated-remaining-hops: 20                       20             
                 tx-rx-bpdu: 2/363                    4/1049         
        discard-transitions: 0                        0              
        forward-transitions: 0                        0              
                   tx-rx-tc: 0/2                      2/4            
           topology-changes: 0                        1              
       last-topology-change:                          34m53s         
           multicast-router: no                       yes            
           hw-offload-group: switch1                  switch1        
          declared-vlan-ids:                          
        registered-vlan-ids:                          </pre>
</div></div><h1 id="BridgingandSwitching-BridgeSettings"><span class="mw-headline">Bridge Settings</span></h1><hr/><p><span class="mw-headline">Under the bridge settings menu, it is possible to control certain features for all bridge interfaces and monitor global bridge counters.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface bridge settings</code></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 25.639%;"/><col style="width: 74.361%;"/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>use-ip-firewall</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd"><div class="content-wrapper"><p>Direct bridged traffic to <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/250708066/Firewall" rel="nofollow">IP/IPv6 firewall</a> (prerouting, forward, and postrouting sections of IP/IPv6 routing, see more details on <a href="https://help.mikrotik.com/docs/display/ROS/Packet+Flow+in+RouterOS#heading-FlowofBridgedPacket" rel="nofollow">Packet Flow</a> article). Below are some use cases when this setting can be enabled to accomplish certain tasks:</p><ul style="list-style-type: square;"><li data-uuid="bdb05b93-84a3-4be3-8463-cc2e0faa77f5">In case you want to assign<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/Queues#heading-SimpleQueue" rel="nofollow">Simple Queues</a><span> </span>or global<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/Queues#heading-QueueTree" rel="nofollow">Queue Tree</a><span> for</span> traffic flowing through bridged ports.</li><li data-uuid="09e595b0-bd26-4721-9b79-0c140205356e">In case you want to use IP/IPv6 firewall capabilities for traffic flowing through bridged ports, which would normally bypass IP/IPv6 firewall.</li></ul><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Enabling the <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">use-ip-firewall</span></code> feature will turn off bridge <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/328227/Packet+Flow+in+RouterOS#PacketFlowinRouterOS-FastPath" rel="nofollow">Fast Path</a>, which in turn affects the ability to <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/328227/Packet+Flow+in+RouterOS#PacketFlowinRouterOS-FastTrack" rel="nofollow">fasttrack</a> connections going over that bridge. And because this setting introduces additional processing steps (prerouting, forward and postrouting chains), it will increase CPU usage even more when forwarding packets.</p><p><strong>Routed traffic</strong>, including traffic from VLAN interfaces (e.g., /interface/vlan created on the bridge), <strong>is already processed by the IP firewall</strong>. In such cases, enabling this setting has no additional effect.</p></div></div></div></td></tr><tr><td class="confluenceTd"><strong>use-ip-firewall-for-pppoe</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Direct bridged un-encrypted PPPoE encapsulated traffic to IP/IPv6 firewall. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>use-ip-firewall</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>use-ip-firewall-for-vlan</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd"><p>Direct bridged VLAN tagged traffic to IP/IPv6 firewall. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>use-ip-firewall</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</p><p>If you need to use the IP/IPv6 firewall and bridge <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">vlan-filtering</span></code> is enabled (which involves VLAN tag handling), then you should also enable <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">use-ip-firewall-for-vlan=yes</span></code>.</p><p>When this setting is enabled and packets are routed between VLAN interfaces (e.g., /interface/vlan), the <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">in-interface</span></code> in the IP firewall's <strong>prerouting</strong> chain will match the bridge interface instead of the individual VLAN interface. </p></td></tr><tr><td class="confluenceTd"><strong>allow-fast-path</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Whether to enable a bridge<span> </span>Fast Path<span> </span>globally.</td></tr><tr><td class="confluenceTd"><strong>bridge-fast-path-active</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><em>)</em></td><td class="confluenceTd">Shows whether a bridge Fast Path is active globally, Fast Path status per bridge interface is not displayed.</td></tr><tr><td class="confluenceTd"><strong>bridge-fast-path-packets</strong><span> </span>(<em>integer</em>; Default:<span> </span><em>)</em></td><td class="confluenceTd">Shows packet count forwarded by bridge Fast Path.</td></tr><tr><td class="confluenceTd"><strong>bridge-fast-path-bytes</strong><span> </span>(<em>integer</em>; Default:<span> </span><em>)</em></td><td class="confluenceTd">Shows byte count forwarded by bridge Fast Path.</td></tr><tr><td class="confluenceTd"><strong>bridge-fast-forward-packets</strong><span> </span>(<em>integer</em>; Default:<span> </span><em>)</em></td><td class="confluenceTd">Shows packet count forwarded by bridge Fast Forward.</td></tr><tr><td class="confluenceTd"><strong>bridge-fast-forward-bytes</strong><span> </span>(<em>integer</em>; Default:<span> </span><em>)</em></td><td class="confluenceTd">Shows byte count forwarded by bridge Fast Forward.</td></tr></tbody></table></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>In case you want to assign<span> </span>Simple Queues or global<span> </span>Queue Trees<span> </span>to traffic that is being forwarded by a bridge, then you need to enable the<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>use-ip-firewall</code></span><span> </span>property. Without using this property the bridge traffic will never reach the postrouting chain,<span> </span>Simple Queues<span> </span>and global<span> </span>Queue Trees<span> </span>are working in the postrouting chain. To assign<span> </span>Simple Queues<span> </span>or global<span> </span>Queue Trees<span> </span>for VLAN or PPPoE traffic in a bridge you should enable appropriate properties as well.</p></div></div><h1 id="BridgingandSwitching-PortSettings"><span class="mw-headline">Port Settings</span></h1><hr/><p><span class="mw-headline">Port submenu is used to add interfaces in a particular bridge.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface bridge port</code></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 22.8381%;"/><col style="width: 77.1619%;"/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>auto-isolate</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">When enabled, prevents a port moving from discarding into forwarding state if no BPDUs are received from the neighboring bridge. The port will change into a forwarding state only when a BPDU is received. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>rstp</code> </span>or<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>mstp</code> </span>and<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>edge</code></span> is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>no</code></span>.</td></tr><tr><td class="confluenceTd"><strong>bpdu-guard</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables BPDU Guard feature on a port. This feature puts the port in a disabled role if it receives a BPDU and requires the port to be manually disabled and enabled if a BPDU was received. Should be used to prevent a bridge from BPDU related attacks. This property has no effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>none</code></span>.</td></tr><tr><td class="confluenceTd"><strong>bridge</strong><span> </span>(<em>name</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">The bridge interface where the respective interface is grouped in.</td></tr><tr><td class="confluenceTd"><strong>broadcast-flood</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">When enabled, bridge floods broadcast traffic to all bridge egress ports. When disabled, drops broadcast traffic on egress ports. Can be used to filter all broadcast traffic on an egress port. Broadcast traffic is considered as traffic that uses<span> </span><strong>FF:FF:FF:FF:FF:FF</strong><span> </span>as destination MAC address, such traffic is crucial for many protocols such as DHCP, ARP, NDP, BOOTP (Netinstall), and others. This option does not limit traffic flood to the CPU.</td></tr><tr><td class="confluenceTd"><strong>edge</strong><span> </span>(<em>auto | no | no-discover | yes | yes-discover</em>; Default:<span> </span><strong>auto</strong>)</td><td class="confluenceTd">Set port as edge port or non-edge port, or enable edge discovery. Edge ports are connected to a LAN that has no other bridges attached. An edge port will skip the learning and the listening states in STP and will transition directly to the forwarding state, this reduces the STP initialization time. If the port is configured to discover edge port then as soon as the bridge detects a BPDU coming to an edge port, the port becomes a non-edge port. This property has no effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>none</code></span>.<ul><li><span style="color:var(--ds-icon-success,#22a06b);"><code>no</code> </span>- non-edge port with disabled discovery, will participate in learning and listening states in STP. It will not transition to the forwarding state until it exchanges BPDUs and reaches agreement with the connected bridge. If no BPDU is received, the port may remain in a non-forwarding state indefinitely.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>no-discover</code></span><span> </span>- non-edge port with enabled discovery, will participate in learning and listening states in STP, a port can become an edge port if no BPDU is received.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code> </span>- edge port without discovery, will transit directly to forwarding state.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>yes-discover</code></span><span> </span>- edge port with enabled discovery, will transit directly to forwarding state.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>auto</code> </span>- same as<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>no-discover</code></span>, but will additionally detect if a bridge port is a Wireless interface with disabled bridge-mode, such interface will be automatically set as an edge port without discovery.</li></ul></td></tr><tr><td class="confluenceTd"><strong>fast-leave</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables IGMP/MLD fast leave feature on the bridge port. The bridge will stop forwarding multicast traffic to a bridge port when an IGMP/MLD leave message is received. This property only has an effect when<span> </span><code><span style="color:var(--ds-icon-success,#22a06b);">igmp-snooping</span></code><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>frame-types</strong><span> </span>(<em>admit-all | admit-only-untagged-and-priority-tagged | admit-only-vlan-tagged</em>; Default:<span> </span><strong>admit-all</strong>)</td><td class="confluenceTd">Specifies allowed ingress frame types on a bridge port. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>ingress-filtering</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Enables or disables VLAN ingress filtering, which checks if the ingress port is a member of the received VLAN ID in the bridge VLAN table. Should be used with<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>frame-types</code></span><span> </span>to specify if the ingress traffic should be tagged or untagged. This property only has effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>. The setting is enabled by default since RouterOS v7.</td></tr><tr><td class="confluenceTd"><strong>learn</strong><span> </span>(<em>auto | no | yes</em>; Default:<span> </span><strong>auto</strong>)</td><td class="confluenceTd">Changes MAC learning behavior on a bridge port<ul><li><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code> </span>- enables MAC learning</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>no</code> </span>- disables MAC learning</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>auto</code> </span>- detects if bridge port is a Wireless interface and uses a Wireless registration table instead of MAC learning, will use Wireless registration table if the<span> </span>Wireless interface<span> </span>is set to one of<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>ap-bridge</code></span>, <span style="color:var(--ds-icon-success,#22a06b);"><code>bridge</code></span>, <span style="color:var(--ds-icon-success,#22a06b);"><code>wds-slave</code></span><span> </span>mode and bridge mode for the<span> </span>Wireless interface<span> </span>is disabled.</li></ul></td></tr><tr><td class="confluenceTd"><strong>multicast-router</strong><span> </span>(<em>disabled | permanent | temporary-query</em>; Default:<span> </span><strong>temporary-query</strong>)</td><td class="confluenceTd"><span style="color:var(--ds-text,#172b4d);">A multicast router port is a port where a multicast router or querier is connected. On this port, unregistered multicast streams and IGMP/MLD membership reports will be sent. This setting changes the state of the multicast router for bridge ports. This property can be used to send IGMP/MLD membership reports to certain bridge ports for further multicast routing or proxying. This property only has an effect when</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-text,#172b4d);">is set to</span><span style="color:var(--ds-text,#172b4d);"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span><span style="color:var(--ds-text,#172b4d);">.</span><ul style="text-align: left;"><li><span style="color:var(--ds-icon-success,#22a06b);"><code>disabled</code> </span>- disabled multicast router state on the bridge port. Unregistered multicast and IGMP/MLD membership reports are not sent to the bridge port regardless of what is connected to it.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>permanent</code> </span>- enabled multicast router state on the bridge port. Unregistered multicast and IGMP/MLD membership reports are sent to the bridge port regardless of what is connected to it.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>temporary-query</code></span><span> </span>- automatically detect multicast router state on the bridge port using IGMP/MLD queries.</li></ul></td></tr><tr><td class="confluenceTd"><strong>horizon</strong><span> </span>(<em>integer 0..429496729</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Use split horizon bridging to prevent bridging loops. Set the same value for a group of ports, to prevent them from sending data to ports with the same horizon value. Split horizon is a software feature that disables hardware offloading.</td></tr><tr><td class="confluenceTd"><strong>hw</strong> (<em>yes | no</em>; Default: <strong>yes</strong>)</td><td class="confluenceTd">Allows to enable or disable <a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-BridgeHardwareOffloading" rel="nofollow">hardware offloading</a> on interfaces capable of HW offloading. For software interfaces like <a href="https://help.mikrotik.com/docs/display/ROS/EoIP" rel="nofollow">EoIP</a> or <a href="https://help.mikrotik.com/docs/display/ROS/VLAN" rel="nofollow">VLAN</a> this setting is ignored and has no effect. Certain bridge or port functions can automatically disable HW offloading, use the <span style="color:var(--ds-text-accent-magenta,#943d73);"><code>print</code></span> command to see whether the &quot;H&quot; flag is active. </td></tr><tr><td class="confluenceTd"><strong>internal-path-cost</strong><span> </span>(<em>integer: 1..200000000</em>; Default:<span> </span>)</td><td class="confluenceTd"><div class="content-wrapper"><p>Path cost to the interface for MSTI0 inside a region. If not manually configured, the bridge automatically determines the internal-path-cost based on the interface speed and the <code><span style="color:var(--ds-icon-success,#22a06b);">port-cost-mode</span></code> setting. To revert to the automatic determination and remove any manually applied value, simply use an exclamation mark before the <code><span style="color:var(--ds-icon-success,#22a06b);">internal-path-cost </span></code>property. This property only has effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>mstp</code></span>.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge port set [find interface=sfp28-1] !internal-path-cost</pre>
</div></div><p>Use <a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-BridgePortMonitoring" rel="nofollow">port monitor</a> to observe the applied internal-path-cost.</p></div></td></tr><tr><td class="confluenceTd"><strong>interface</strong><span> </span>(<em>name</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Name of the interface or interface list.</td></tr><tr><td class="confluenceTd"><strong>path-cost</strong><span> </span>(<em>integer: 1..200000000</em>; Default:<span> </span>)</td><td class="confluenceTd"><div class="content-wrapper"><p>Path cost to the interface, used by STP and RSTP to determine the best path, and used by MSTP to determine the best path between regions. If not manually configured, the bridge automatically determines the path-cost based on the interface speed and the <code><span style="color:var(--ds-icon-success,#22a06b);">port-cost-mode</span></code> setting. To revert to the automatic determination and remove any manually applied value, simply use an exclamation mark before the <code><span style="color:var(--ds-icon-success,#22a06b);">path-cost </span></code>property. This property has no effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>none</code></span>.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge port set [find interface=sfp28-1] !path-cost</pre>
</div></div><p>Use <a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-BridgePortMonitoring" rel="nofollow">port monitor</a> to observe the applied path-cost.</p></div></td></tr><tr><td class="confluenceTd"><strong>point-to-point</strong><span> </span>(<em>auto | yes | no</em>; Default:<span> </span><strong>auto</strong>)</td><td class="confluenceTd">Specifies if a bridge port is connected to a bridge using a point-to-point link for faster convergence in case of failure. By setting this property to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>, you are forcing the link to be a point-to-point link, which will skip the checking mechanism, which detects and waits for BPDUs from other devices from this single link. By setting this property to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>no</code></span>, you are expecting that a link can receive BPDUs from multiple devices. By setting the property to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>, you are significantly improving (R/M)STP convergence time. In general, you should only set this property to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>no</code> </span>if it is possible that another device can be connected between a link, this is mostly relevant to Wireless mediums and Ethernet hubs. If the Ethernet link is full-duplex,<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>auto</code> </span>enables point-to-point functionality. This property has no effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>none</code></span>.</td></tr><tr><td class="confluenceTd"><strong>priority</strong><span> </span>(<em>integer: 0..240</em>; Default:<span> </span><strong>128</strong>)</td><td class="confluenceTd">The priority of the interface, used by STP to determine the root port, used by MSTP to determine root port between regions.</td></tr><tr><td class="confluenceTd"><strong>pvid</strong><span> </span>(<em>integer 1..4094</em>; Default:<span> </span><strong>1</strong>)</td><td class="confluenceTd">Port VLAN ID (pvid) specifies which VLAN the untagged ingress traffic is assigned to. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>restricted-role</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables the restricted role on a port. When enabled, it prevents the port from becoming the root port for the CIST or any MSTI, regardless of its best spanning tree priority vector. Such a port will be selected as an Alternate Port (discarding state) and remains so as long as it continues to receive superior BPDUs. It will automatically transition to the forwarding state when it no longer detects a superior root path. Network administrators may enable this setting to safeguard against external bridges influencing the active spanning tree, a feature also known as root-guard or root-protection. This property has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to <code><span style="color:var(--ds-icon-success,#22a06b);">stp</span></code>, <code><span style="color:var(--ds-icon-success,#22a06b);">rstp</span></code><span>, or </span><code><span style="color:var(--ds-icon-success,#22a06b);">mstp</span></code> (support for STP and RSTP is available since RouterOS v7.14).</td></tr><tr><td class="confluenceTd"><strong>restricted-tcn</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables topology change notification (TCN) handling on a port. When enabled, it causes the port not to propagate received topology change notifications to other ports, and any changes caused by the port itself does not result in topology change notification to other ports. This parameter is disabled by default. It can be set by a network administrator to prevent external bridges causing MAC address flushing in local network. This property has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>protocol-mode</code></span><span> </span>is set to <code><span style="color:var(--ds-icon-success,#22a06b);">stp</span></code>, <code><span style="color:var(--ds-icon-success,#22a06b);">rstp</span></code><span>, or </span><code><span style="color:var(--ds-icon-success,#22a06b);">mstp</span></code> (support for STP and RSTP is available since RouterOS v7.14).</td></tr><tr><td class="confluenceTd"><strong>tag-stacking</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Forces all packets to be treated as untagged packets. Packets on ingress port will be tagged with another VLAN tag regardless if a VLAN tag already exists, packets will be tagged with a VLAN ID that matches the<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>pvid </code></span>value and will use EtherType that is specified in<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>ether-type</code></span>. This property only has effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>trusted</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">When enabled, it allows forwarding DHCP packets towards the DHCP server through this port. Mainly used to limit unauthorized servers to provide malicious information for users. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>dhcp-snooping</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>unknown-multicast-flood</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd"><p>Changes the multicast flood option on bridge port, only controls the egress traffic. When enabled, the bridge allows flooding multicast packets to the specified bridge port, but when disabled, the bridge restricts multicast traffic from being flooded to the specified bridge port. The setting affects all multicast traffic, this includes non-IP, IPv4, IPv6 and the link-local multicast ranges (e.g. 224.0.0.0/24 and <span style="color:var(--ds-text,#333333);">ff02::1</span>).</p><p>Note that when <span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span> is enabled and IGMP/MLD querier is detected, the bridge will automatically restrict unknown IP multicast from being flooded, so the setting is not mandatory for IGMP/MLD snooping setups.</p><p>When using this setting together with <span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span>, the only multicast traffic that is allowed on the bridge port is the known multicast from the MDB table. </p></td></tr><tr><td class="confluenceTd"><strong>unknown-unicast-flood</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd"><p>Changes the unknown unicast flood option on bridge port, only controls the egress traffic. When enabled, the bridge allows flooding unknown unicast packets to the specified bridge port, but when disabled, the bridge restricts unknown unicast traffic from being flooded to the specified bridge port.</p><p>If a MAC address is not learned in<span> the host table</span>, then the traffic is considered as unknown unicast traffic and will be flooded to all ports. MAC address is learned as soon as a packet on a bridge port is received and the source MAC address is added to the bridge host table. Since it is required for the bridge to receive at least one packet on the bridge port to learn the MAC address, it is recommended to use static bridge host entries to avoid packets being dropped until the MAC address has been learned.</p></td></tr></tbody></table></div><p><br/></p><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>RouterOS can handle a maximum of 1024 bridged interfaces per bridge, this limit is fixed and cannot be modified. If you try to add more interfaces as bridge ports, it may lead to unpredictable behavior.</p></div></div><h2 id="BridgingandSwitching-Example.1"><span style="font-size: 20.0px;letter-spacing: -0.008em;">Example</span></h2><p>To group ether1 and ether2 in the already created bridge1 interface.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] /interface bridge port add bridge=bridge1 interface=ether1
[admin@MikroTik] /interface bridge port add bridge=bridge1 interface=ether2
[admin@MikroTik] /interface bridge port print
Flags: X - disabled, I - inactive, D - dynamic, H - hw-offload 
 #     INTERFACE       BRIDGE       HW  PVID PRIORITY  PATH-COST INTERNAL-PATH-COST    HORIZON
 0     ether1          bridge1      yes  100     0x80         10                 10       none
 1     ether2          bridge1      yes  200     0x80         10                 10       none</pre>
</div></div><h2 id="BridgingandSwitching-Interfacelists">Interface lists</h2><p>Starting with RouterOS v6.41 it possible to add interface lists as a bridge port and sort them. Interface lists are useful for creating simpler firewall rules. Below is an example how to add an interface list to a bridge:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface list
add name=LAN1
add name=LAN2
/interface list member
add interface=ether1 list=LAN1
add interface=ether2 list=LAN1
add interface=ether3 list=LAN2
add interface=ether4 list=LAN2
/interface bridge port
add bridge=bridge1 interface=LAN1
add bridge=bridge1 interface=LAN2</pre>
</div></div><p><span>Ports from an interface list added to a bridge will show up as dynamic ports:</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] /interface bridge port&gt; pr
Flags: X - disabled, I - inactive, D - dynamic, H - hw-offload 
 #     INTERFACE       BRIDGE       HW  PVID PRIORITY  PATH-COST INTERNAL-PATH-COST    HORIZON
 0     LAN1            bridge1      yes    1     0x80         10                 10       none
 1  D  ether1          bridge1      yes    1     0x80         10                 10       none
 2  D  ether2          bridge1      yes    1     0x80         10                 10       none
 3     LAN2            bridge1      yes    1     0x80         10                 10       none
 4  D  ether3          bridge1      yes    1     0x80         10                 10       none
 5  D  ether4          bridge1      yes    1     0x80         10                 10       none</pre>
</div></div><p><span>It is also possible to sort the order of lists in which they appear</span><span>. This can be done using the</span><span> </span><span style="color:var(--ds-text-accent-magenta,#943d73);"><code>move</code><span> </span></span><span>command. Below is an example of how to sort interface lists:</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] &gt; /interface bridge port move 3 0
[admin@MikroTik] &gt; /interface bridge port print
Flags: X - disabled, I - inactive, D - dynamic, H - hw-offload 
 #     INTERFACE       BRIDGE       HW  PVID PRIORITY  PATH-COST INTERNAL-PATH-COST    HORIZON
 0     LAN2            bridge1      yes    1     0x80         10                 10       none
 1  D  ether3          bridge1      yes    1     0x80         10                 10       none
 2  D  ether4          bridge1      yes    1     0x80         10                 10       none
 3     LAN1            bridge1      yes    1     0x80         10                 10       none
 4  D  ether1          bridge1      yes    1     0x80         10                 10       none
 5  D  ether2          bridge1      yes    1     0x80         10                 10       none</pre>
</div></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>The second parameter when moving interface lists is considered as &quot;before id&quot;, the second parameter specifies before which interface list should be the selected interface list moved. When moving the first interface list in place of the second interface list, then the command will have no effect since the first list will be moved before the second list, which is the current state either way.</p></div></div><h2 id="BridgingandSwitching-InterfacelistsinVLANtable">Interface lists in VLAN table</h2><p>Starting from RouterOS version 7.17, you can use <a href="https://help.mikrotik.com/docs/display/ROS/Interface+Lists" rel="nofollow">interface lists</a> for the <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>tagged</code></span> and <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">untagged</span></code> properties in the <a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-BridgeVLANtable" rel="nofollow">bridge VLAN table</a>. This change allows for more flexible VLAN assignment to ports by simply modifying the interface list members, rather than updating each bridge VLAN entry individually.</p><p>If different interface lists are specified for the <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">tagged</span></code> and <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">untagged</span></code> settings, and there is overlap between the interface members, the <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">untagged</span></code> list will take priority. You can check the current interface configuration with <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">current-tagged</span></code> and <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">current-untagged</span></code> properties using the <span style="color:var(--ds-text-accent-magenta,#943d73);"><code>print</code></span> command.</p><p>Below is an example where new interfaces are added to already existing interface lists. This shows how the bridge port and VLAN tables are automatically updated without directly changing settings in those menus.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface list
add name=vlan10_untagged
add name=vlan20_untagged
add name=vlan_tagged
/interface list member
add interface=ether2 list=vlan10_untagged
add interface=ether3 list=vlan10_untagged
add interface=ether4 list=vlan20_untagged
add interface=sfp-sfpplus1 list=vlan_tagged
/interface bridge
add frame-types=admit-only-vlan-tagged name=bridge1 vlan-filtering=yes
/interface bridge port
add bridge=bridge1 frame-types=admit-only-untagged-and-priority-tagged interface=vlan10_untagged pvid=10
add bridge=bridge1 frame-types=admit-only-untagged-and-priority-tagged interface=vlan20_untagged pvid=20
add bridge=bridge1 frame-types=admit-only-vlan-tagged interface=vlan_tagged
/interface bridge vlan
add bridge=bridge1 tagged=vlan_tagged vlan-ids=10
add bridge=bridge1 tagged=vlan_tagged vlan-ids=20

[admin@MikroTik] /interface bridge port print 
Flags: D - DYNAMIC; H - HW-OFFLOAD
Columns: INTERFACE, BRIDGE, HW, PVID, PRIORITY, HORIZON
#    INTERFACE        BRIDGE   HW   PVID  PRIORITY  HORIZON
0    vlan10_untagged  bridge1  yes    10  0x80      none   
1 DH ether2           bridge1  yes    10  0x80      none   
2 DH ether3           bridge1  yes    10  0x80      none   
3    vlan20_untagged  bridge1  yes    20  0x80      none   
4 DH ether4           bridge1  yes    20  0x80      none   
5    vlan_tagged      bridge1  yes     1  0x80      none   
6 DH sfp-sfpplus1     bridge1  yes     1  0x80      none   

[admin@MikroTik] /interface bridge vlan print
Flags: D - DYNAMIC
Columns: BRIDGE, VLAN-IDS, CURRENT-TAGGED, CURRENT-UNTAGGED
#   BRIDGE   VLAN-IDS  CURRENT-TAGGED  CURRENT-UNTAGGED
;;; added by pvid
0 D bridge1        10                  ether2          
                                       ether3          
;;; added by pvid
1 D bridge1        20                  ether4          
2   bridge1        10  sfp-sfpplus1                    
3   bridge1        20  sfp-sfpplus1                 

# make necessary changes to interface list members:
/interface list member add list=vlan20_untagged interface=ether5
/interface list member add list=vlan_tagged interface=sfp-sfpplus2 

# verify changes in bridge port and vlan menus:
[admin@MikroTik] &gt; /interface bridge port print 
Flags: D - DYNAMIC; H - HW-OFFLOAD
Columns: INTERFACE, BRIDGE, HW, PVID, PRIORITY, HORIZON
#    INTERFACE        BRIDGE   HW   PVID  PRIORITY  HORIZON
0    vlan10_untagged  bridge1  yes    10  0x80      none   
1 DH ether2           bridge1  yes    10  0x80      none   
2 DH ether3           bridge1  yes    10  0x80      none   
3    vlan20_untagged  bridge1  yes    20  0x80      none   
4 DH ether4           bridge1  yes    20  0x80      none   
5 DH ether5           bridge1  yes    20  0x80      none   
6    vlan_tagged      bridge1  yes     1  0x80      none   
7 DH sfp-sfpplus1     bridge1  yes     1  0x80      none   
8 DH sfp-sfpplus2     bridge1  yes     1  0x80      none   

[admin@MikroTik] &gt; /interface bridge vlan print 
Flags: D - DYNAMIC
Columns: BRIDGE, VLAN-IDS, CURRENT-TAGGED, CURRENT-UNTAGGED
#   BRIDGE   VLAN-IDS  CURRENT-TAGGED  CURRENT-UNTAGGED
;;; added by pvid
0 D bridge1        10                  ether2          
                                       ether3          
;;; added by pvid
1 D bridge1        20                  ether4          
                                       ether5          
2   bridge1        10  sfp-sfpplus1                    
                       sfp-sfpplus2                    
3   bridge1        20  sfp-sfpplus1                    
                       sfp-sfpplus2                    </pre>
</div></div><h2 id="BridgingandSwitching-BridgePortMonitoring"><span style="font-size: 20.0px;letter-spacing: -0.008em;">Bridge Port Monitoring</span></h2><p><span class="mw-headline">To monitor the current status of bridge ports, use the <span style="color:var(--ds-text-accent-magenta,#943d73);"><code>monitor</code></span> command.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface bridge port monitor</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>actual-path-cost</strong> (<em>integer: 1..200000000</em>)</td><td class="confluenceTd">Shows the actual port path-cost. Either manually applied or automatically determined based on the interface speed and the <code><span style="color:var(--ds-icon-success,#22a06b);">port-cost-mode</span></code> setting.</td></tr><tr><td class="confluenceTd"><p align="left"><strong>declared-vlan-ids</strong> <span style="color:var(--ds-text,#172b4d);">(</span><em style="text-align: left;">integer 1..4094</em>)</p></td><td class="confluenceTd"><p align="left">VLANs declared by the intrface via <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/328068/Bridging+and+Switching#BridgingandSwitching-MVRP" rel="nofollow">MVRP Protocol</a>.</p></td></tr><tr><td class="confluenceTd"><strong>designated-bridge-id </strong>(<em>priority.MAC address</em>)</td><td class="confluenceTd">Shows the designated bridge identifier, as determined from the port's priority vector.</td></tr><tr><td class="confluenceTd"><strong>designated-cost</strong> (<em>integer</em>)</td><td class="confluenceTd">Shows the designated root-path-cost, as determined from the port's priority vector.</td></tr><tr><td class="confluenceTd"><strong>designated-internal-cost </strong>(<em>integer</em>)</td><td class="confluenceTd">Shows the designated internal-root-path-cost, as determined from the port's priority vector.</td></tr><tr><td class="confluenceTd"><p align="left"><strong>desig</strong><strong>na</strong><strong>ted-</strong><strong>m</strong><strong><span>essage-</span></strong><strong>age </strong>(<em>time)</em></p></td><td class="confluenceTd"><p align="left">Shows the designated message age, as determined from the port's priority vector.</p></td></tr><tr><td class="confluenceTd"><p align="left"><strong>desig</strong><strong>na</strong><strong>ted-max-age</strong> (<em>time)</em></p></td><td class="confluenceTd"><p align="left">Shows the designated max age, as determined from the port's priority vector. The BPDU packet can pass as many bridges as specified in the <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code class="western">max-message-age</code></span> parameter.</p></td></tr><tr><td class="confluenceTd"><strong>designated-port-id </strong>(<em>priority</em>.<em>integer</em>)</td><td class="confluenceTd">Shows the designated port identifier, as determined from the port's priority vector.</td></tr><tr><td class="confluenceTd"><strong>designated-remaining-hops</strong> (<em>integer</em>)</td><td class="confluenceTd">Shows the designated remaining hops, as determined from the port's priority vector. Number of hops that a packet is allowed to traverse before reaching its destination.</td></tr><tr><td class="confluenceTd"><p align="left"><strong>discard-transitions</strong> (<em>integer</em>)</p></td><td class="confluenceTd"><p align="left">Counter, registring how often port transitions into discarding state.</p></td></tr><tr><td class="confluenceTd"><strong>edge-port</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Whether the port is an edge port or not.</td></tr><tr><td class="confluenceTd"><strong>edge-port-discovery</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Whether the port is set to automatically detect edge ports.</td></tr><tr><td class="confluenceTd"><strong>external-fdb</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Whether the registration table is used instead of a forwarding database.</td></tr><tr><td class="confluenceTd"><strong>forwarding</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Shows if the port is not blocked by (R/M)STP.</td></tr><tr><td class="confluenceTd"><p align="left"><strong>forw</strong><strong>a</strong><strong>rd-transitions</strong> (<em>integer</em>)</p></td><td class="confluenceTd"><p align="left">Counter, registring how often port transitions into forwarding state</p></td></tr><tr><td class="confluenceTd"><strong>hw-offload-group</strong><span> </span>(<em>switchX</em>)</td><td class="confluenceTd">Switch chip used by the port.</td></tr><tr><td class="confluenceTd"><strong>interface</strong> (<em>name</em>)</td><td class="confluenceTd">Interface name.</td></tr><tr><td class="confluenceTd"><p align="left"><strong>last-topology-change</strong> (<em>time)</em></p></td><td class="confluenceTd"><p align="left">Last topology change timer, records time since the last change.</p></td></tr><tr><td class="confluenceTd"><strong>learning</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Shows whether the port is capable of learning MAC addresses.</td></tr><tr><td class="confluenceTd"><strong>multicast-router</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Shows if a multicast router is detected on the port. Monitoring value appears only when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>igmp-snooping</code></span><span> </span>is enabled.</td></tr><tr><td class="confluenceTd"><p align="left"><strong>registered-</strong><strong style="letter-spacing: 0.0px;">vlan-ids</strong> <span style="color:var(--ds-text,#172b4d);">(</span><em style="text-align: left;">integer 1..4094</em>)</p></td><td class="confluenceTd"><p align="left">VLANs where the interface is registred via <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/328068/Bridging+and+Switching#BridgingandSwitching-MVRP" rel="nofollow">MVRP Protocol</a>.</p></td></tr><tr><td class="confluenceTd"><strong>port-id</strong> (<em>priority</em>.<em>integer</em>)</td><td class="confluenceTd">In Spanning Tree Protocol each port has a unique Port Identifier. Priority[hex] + port number.</td></tr><tr><td class="confluenceTd"><strong>point-to-point-port</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Whether the port is connected to a bridge port using full-duplex (yes) or half-duplex (no).</td></tr><tr><td class="confluenceTd"><strong>role</strong><span> </span>(<em>designated | root-port | alternate | backup | disabled</em>)</td><td class="confluenceTd"><p style="text-align: left;"><span style="letter-spacing: 0.0px;">(R/M)STP algorithm assigned port role:</span></p><ul><li><span style="color:var(--ds-icon-success,#22a06b);"><code>disabled-port</code></span><span> </span>- disabled or inactive port.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>root-port</code></span><span> </span>- port that is facing towards the root bridge and has the best (lowest cost) path to the root bridge. Only one root port is elected per bridge (except the root bridge itself).</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>alternative-port</code></span><span> </span>- port that is facing towards the root bridge, but is not going to forward traffic. Port provides a backup path to the root bridge if the current root port fails.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>designated-port</code></span><span> </span>- port that is facing away from the root bridge and forwards traffic away from the root bridge to downstream devices.</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>backup-port</code></span><span> </span>- port that is facing away from the root bridge, but is going to forward traffic. Port that serves as a backup for a designated port on the same segment.</li></ul><p>In RouterOS, the <strong>role</strong> monitoring property displays RSTP roles, such as <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>alternate-port</code></span> and <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">backup-port</span></code>, even when STP mode is enabled. While this is technically incorrect, it does not affect the operation of STP. This is because STP treats all blocked ports the same, without differentiating their purpose (e.g., as potential backup paths). The displayed roles are simply a reflection of RSTP functionality and have no practical impact when STP is in use. See more details on <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/21725254/Spanning+Tree+Protocol#SpanningTreeProtocol-STPandRSTP" rel="nofollow">STP and RSTP page</a>.</p></td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>root-path-cost</strong><span> </span>(<em>integer</em>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">The total cost of the path to the root-bridge.</td></tr><tr><td class="confluenceTd"><strong>sending-rstp</strong><span> </span>(<em>yes | no</em>)</td><td class="confluenceTd">Whether the port is using RSTP or MSTP BPDU types. A port will transit to STP type when RSTP/MSTP enabled port receives an STP BPDU. This settings <strong>does not</strong> indicate whether the BDPUs are actually sent.</td></tr><tr><td class="confluenceTd"><strong>status</strong><span> </span>(<em>in-bridge | inactive</em>)</td><td class="confluenceTd">Port status:<ul><li><span style="color:var(--ds-icon-success,#22a06b);"><code>in-bridge</code></span><span> </span>- port is enabled</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>inactive</code> </span>- port is disabled.</li></ul></td></tr><tr><td class="confluenceTd"><p align="left"><strong>tx-rx-bpdu</strong> (<em>integer</em>)</p></td><td class="confluenceTd"><p align="left">Sent/recived bpdu messages counter.</p></td></tr><tr><td class="confluenceTd"><p align="left"><strong>tx-rx-tc</strong> (<em>integer</em>)</p></td><td class="confluenceTd"><p align="left">Topology change messages transmitted/recived.</p></td></tr><tr><td class="confluenceTd"><p align="left"><strong>topology-changes</strong> (<em>integer</em>)</p></td><td class="confluenceTd"><p align="left">Topology change counter.</p></td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] /interface/bridge/port monitor [find interface=ether1] 
                  interface: ether1                  
                     status: in-bridge               
                    port-id: 0x80.1                  
                       role: root-port               
                  edge-port: no                      
        edge-port-discovery: yes                     
        point-to-point-port: yes                     
               external-fdb: no                      
               sending-rstp: yes                     
                   learning: yes                     
                 forwarding: yes                     
           actual-path-cost: 20000                   
    internal-root-path-cost: 20000                   
       designated-bridge-id: 0x1000.2C:C8:1B:FF:92:F4
   designated-internal-cost: 0                       
         designated-port-id: 0x80.1                  
  designated-remaining-hops: 20                      
                 tx-rx-bpdu: 3/63                    
        discard-transitions: 0                       
        forward-transitions: 1                       
                   tx-rx-tc: 2/0                     
           topology-changes: 1                       
       last-topology-change: 2m5s                    
           multicast-router: no                      
           hw-offload-group: switch1                 
          declared-vlan-ids: 1                       
        registered-vlan-ids: 1                       </pre>
</div></div><h1 id="BridgingandSwitching-HostsTable"><span class="mw-headline">Hosts Table</span></h1><hr/><p>MAC addresses that have been learned on a bridge interface can be viewed in the<span> host</span><span> </span>menu. Below is a table of parameters and flags that can be viewed.</p><p><strong>Sub-menu:</strong><span> </span><code>/interface bridge host</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>bridge</strong><span> </span>(<em>read-only: name</em>)</td><td class="confluenceTd">The bridge the entry belongs to</td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>read-only: flag</em>)</td><td class="confluenceTd">Whether the static host entry is disabled</td></tr><tr><td class="confluenceTd"><strong>dynamic</strong><span> </span>(<em>read-only: flag</em>)</td><td class="confluenceTd">Whether the host has been dynamically created</td></tr><tr><td class="confluenceTd"><strong>external</strong><span> </span>(<em>read-only: flag</em>)</td><td class="confluenceTd">Whether the host has been learned using an external table, for example, from a switch chip or Wireless registration table. Adding a static host entry on a hardware-offloaded bridge port will also display an active external flag</td></tr><tr><td class="confluenceTd"><strong>invalid</strong><span> </span>(<em>read-only: flag</em>)</td><td class="confluenceTd">Whether the host entry is invalid, can appear for statically configured hosts on already removed interface</td></tr><tr><td class="confluenceTd"><strong>local</strong><span> </span>(<em>read-only: flag</em>)</td><td class="confluenceTd">Whether the host entry is created from the bridge itself (that way all local interfaces are shown)</td></tr><tr><td class="confluenceTd"><strong>mac-address</strong><span> </span>(<em>read-only: MAC address</em>)</td><td class="confluenceTd">Host's MAC address</td></tr><tr><td class="confluenceTd"><strong>on-interface</strong><span> </span>(<em>read-only: name</em>)</td><td class="confluenceTd">Which of the bridged interfaces the host is connected to</td></tr></tbody></table></div><h2 id="BridgingandSwitching-Monitoring"><span class="mw-headline">Monitoring</span></h2><p>To get the active hosts table:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] /interface bridge host print
Flags: X - disabled, I - invalid, D - dynamic, L - local, E - external 
 #       MAC-ADDRESS        VID ON-INTERFACE            BRIDGE
 0   D   B8:69:F4:C9:EE:D7      ether1                  bridge1
 1   D   B8:69:F4:C9:EE:D8      ether2                  bridge1
 2   DL  CC:2D:E0:E4:B3:38      bridge1                 bridge1
 3   DL  CC:2D:E0:E4:B3:39      ether2                  bridge1</pre>
</div></div><h2 id="BridgingandSwitching-Staticentries">Static entries</h2><p>It is possible to add a static MAC address entry into the host table. This can be used to forward a certain type of traffic through a specific port. Another use case for static host entries is to protect the device resources by disabling dynamic learning and relying only on configured static host entries. Below is a table of possible parameters that can be set when adding a static MAC address entry into the host table.</p><p><strong>Sub-menu:</strong><span> </span><code>/interface bridge host</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>bridge</strong><span> </span>(<em>name</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">The bridge interface to which the MAC address is going to be assigned.</td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Disables/enables static MAC address entry.</td></tr><tr><td class="confluenceTd"><strong>interface</strong><span> </span>(<em>name</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Name of the interface.</td></tr><tr><td class="confluenceTd"><strong>mac-address</strong><span> </span>(<em>MAC address</em>; Default: )</td><td class="confluenceTd">MAC address that will be added to the host table statically.</td></tr><tr><td class="confluenceTd"><strong>vid</strong><span> </span>(<em>integer: 1..4094</em>; Default: )</td><td class="confluenceTd">VLAN ID for the statically added MAC address entry.</td></tr></tbody></table></div><p>For example, if it was required that all traffic destined to<span> </span><strong>4C:5E:0C:4D:12:43</strong><span> </span>is forwarded only through<span> </span><strong>ether2</strong>, then the following commands can be used:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge host
add bridge=bridge interface=ether2 mac-address=4C:5E:0C:4D:12:43</pre>
</div></div><h1 id="BridgingandSwitching-MulticastTable"><span class="mw-headline">Multicast Table</span></h1><hr/><p>When <a href="https://help.mikrotik.com/docs/pages/viewpage.action?pageId=59277403" rel="nofollow">IGMP/MLD snooping</a> is enabled, the bridge will start to listen to IGMP/MLD communication, create multicast database (MDB) entries, and make forwarding decisions based on the received information. Packets with li<span style="color:var(--ds-text,#172b4d);">nk-local multicast destination addresses 224.0.0.0/24 and<span> </span></span><span style="color:var(--ds-text,#333333);">ff02::1 are not restricted and are always flooded on all ports and VLANs. </span>To see learned multicast database entries, use the <span style="color:var(--ds-text-accent-magenta,#943d73);"><code>print</code></span> command.</p><p><strong>Sub-menu:</strong><span> </span><code>/interface bridge mdb</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><thead><tr><th style="text-align: left;" class="confluenceTh"><p>Property</p></th><th style="text-align: left;" class="confluenceTh"><p>Description</p></th></tr></thead><tbody><tr><td colspan="1" style="text-align: left;" class="confluenceTd"><strong>bridge</strong><span> </span>(<em>read-only:<span> </span>name</em>)</td><td colspan="1" style="text-align: left;" class="confluenceTd">Shows the bridge interface the entry belongs to.</td></tr><tr><td colspan="1" style="text-align: left;" class="confluenceTd"><strong>group</strong><span> </span>(<em>read-only:<span> </span></em><em>ipv4 | ipv6 | MAC address</em>)</td><td colspan="1" style="text-align: left;" class="confluenceTd">Shows a multicast group address.</td></tr><tr><td colspan="1" style="text-align: left;" class="confluenceTd"><strong>on-interface</strong><span> </span>(<em>read-only: name</em>)</td><td colspan="1" style="text-align: left;" class="confluenceTd">Shows the bridge ports which are subscribed to the certain multicast group.</td></tr><tr><td colspan="1" style="text-align: left;" class="confluenceTd"><strong>vid</strong><span> </span>(<em>read-only: integer</em>)</td><td colspan="1" style="text-align: left;" class="confluenceTd">Shows the VLAN ID for the multicast group, only applies when<code><span style="color:var(--ds-icon-success,#22a06b);"><span> </span>vlan-filtering</span></code><span> </span>is enabled.</td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] /interface bridge mdb print 
Flags: D - DYNAMIC
Columns: GROUP, VID, ON-PORTS, BRIDGE
 #   GROUP              VID  ON-PORTS  BRIDGE 
 0 D ff02::2              1  bridge1   bridge1
 1 D ff02::6a             1  bridge1   bridge1
 2 D ff02::1:ff00:0       1  bridge1   bridge1
 3 D ff02::1:ff01:6a43    1  bridge1   bridge1
 4 D 229.1.1.1           10  ether2    bridge1
 5 D 229.2.2.2           10  ether3    bridge1
                             ether2           
 6 D ff02::2             10  ether5    bridge1
                             ether3           
                             ether2           
                             ether4           </pre>
</div></div><h2 id="BridgingandSwitching-Staticentries.1">Static entries</h2><p>Since RouterOS version 7.7, it is possible to create static MDB entries for IPv4 and IPv6 multicast groups.</p><p><strong>Sub-menu:</strong><span> </span><code>/interface bridge mdb</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><thead><tr><th style="text-align: left;" class="confluenceTh"><p>Property</p></th><th style="text-align: left;" class="confluenceTh"><p>Description</p></th></tr></thead><tbody><tr><td style="text-align: left;" class="confluenceTd"><strong>bridge</strong><span> (<em>name</em>; Default: )</span></td><td style="text-align: left;" class="confluenceTd">The bridge interface to which the MDB entry is going to be assigned.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>disabled</strong><span> (<em>yes | no</em>; Default: <strong>no</strong>)</span></td><td style="text-align: left;" class="confluenceTd">Disables or enables static MDB entry.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>group</strong><span> </span>(<em>ipv4 | ipv6 | MAC address</em>; Default: )</td><td style="text-align: left;" class="confluenceTd">The IPv4, IPv6 or MAC multicast address. Static entries for <span style="color:var(--ds-text,#172b4d);">link-local multicast groups 224.0.0.0/24 and<span> </span></span><span style="color:var(--ds-text,#333333);">ff02::1 cannot be created, as these packets are always flooded on all ports and VLANs. </span></td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>interface</strong> (<em>name</em>; Default: )</td><td style="text-align: left;" class="confluenceTd">The list of bridge ports to which the multicast group will be forwarded.</td></tr><tr><td style="text-align: left;" class="confluenceTd"><strong>vid</strong><span> </span>(<em>integer: 1..4094</em>; Default: )</td><td style="text-align: left;" class="confluenceTd">The VLAN ID on which the MDB entry will be created, only applies when <code><span style="color:var(--ds-icon-success,#22a06b);">vlan-filtering</span></code><span> </span>is enabled. When VLAN ID is not specified, the entry will work in shared-VLAN mode and dynamically apply on all defined VLAN IDs for particular ports.</td></tr></tbody></table></div><p>For example, to create a static MDB entry for multicast group 229.10.10.10 on ports ether2 and ether3 on VLAN 10, use the command below:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge mdb
add bridge=bridge1 group=229.10.10.10 interface=ether2,ether3 vid=10</pre>
</div></div><p>Verify the results with the <span style="color:var(--ds-text-accent-magenta,#943d73);"><code>print</code></span> command:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] &gt; /interface bridge mdb print where group=229.10.10.10
Columns: GROUP, VID, ON-PORTS, BRIDGE
 # GROUP         VID  ON-PORTS  BRIDGE 
12 229.10.10.10   10  ether2    bridge1
                      ether3   </pre>
</div></div><p>In case a certain IPv6 multicast group does not need to be snooped and it is desired to be flooded on all ports and VLANs, it is possible to create a static MDB entry on all VLANs and ports, including the bridge interface itself. Use the command below to create a static MDB entry for multicast group ff02::2 on all VLANs and ports (modify the <code><span style="color:var(--ds-icon-success,#22a06b);">ports</span></code> setting for your particular setup):</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge mdb
add bridge=bridge1 group=ff02::2 interface=bridge1,ether2,ether3,ether4,ether5

[admin@MikroTik] &gt; /interface bridge mdb print where group=ff02::2
Flags: D - DYNAMIC
Columns: GROUP, VID, ON-PORTS, BRIDGE
 #   GROUP    VID  ON-PORTS  BRIDGE 
 0   ff02::2                 bridge1
15 D ff02::2    1  bridge1   bridge1
16 D ff02::2   10  bridge1   bridge1
                   ether2           
                   ether3           
                   ether4           
                   ether5           
17 D ff02::2   20  bridge1   bridge1
                   ether2           
                   ether3           
18 D ff02::2   30  bridge1   bridge1
                   ether2           
                   ether3     </pre>
</div></div><h1 id="BridgingandSwitching-BridgeHardwareOffloading"><span class="mw-headline">Bridge Hardware Offloading</span></h1><hr/><p>It is possible to switch multiple ports together if a device has a built-in switch chip. While a bridge is a software feature that will consume CPU's resources, the bridge hardware offloading feature will allow you to use the built-in switch chip to forward packets. This allows you to achieve higher throughput if configured correctly.</p><p>In previous versions (prior to RouterOS v6.41) you had to use the<span> </span>master-port<span> </span>property to switch multiple ports together, but in RouterOS v6.41 this property is replaced with the bridge hardware offloading feature, which allows your to switch ports and use some of the bridge features, for example,<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/Spanning+Tree+Protocol" rel="nofollow">Spanning Tree Protocol</a>.</p><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>When upgrading from previous versions (before RouterOS v6.41), the old<span> </span>master-port<span> </span>configuration is automatically converted to the new<span> </span><strong>Bridge Hardware Offloading</strong><span> </span>configuration. When downgrading from newer versions (RouterOS v6.41 and newer) to older versions (before RouterOS v6.41) the configuration is not converted back, a bridge without hardware offloading will exist instead, in such a case you need to reconfigure your device to use the old<span> </span>master-port<span> </span>configuration.</p></div></div><p>Below is a list of devices and feature that supports hardware offloading (+) or disables hardware offloading (-):</p><div class="table-wrap"><table class="wrapped confluenceTable" style="text-align: center;"><colgroup><col/><col/><col/><col/><col/><col/><col/><col/><col/></colgroup><tbody><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%"><strong title="">RouterBoard/[Switch Chip] Model</strong></td><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%"><strong title="">Features in Switch menu</strong></td><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%"><strong title="">Bridge STP/RSTP</strong></td><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%"><strong title="">Bridge MSTP</strong></td><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%"><strong title="">Bridge IGMP Snooping</strong></td><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%"><strong title="">Bridge DHCP Snooping</strong></td><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%"><strong title="">Bridge VLAN Filtering</strong></td><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%"><strong title="">Bonding <sup>4, 5</sup></strong></td><td class="highlight-grey confluenceTd" data-highlight-colour="grey" title="Background color :"><strong title="">Horizon <sup>4</sup></strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%">CRS3xx, CRS5xx series</td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7">CCR2116, CCR2216</td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%">CRS1xx/CRS2xx series</td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#fffae6 confluenceTd" data-highlight-colour="#fffae6" style="text-align: center;" title="Background color : Light yellow 35%"><strong title="">+<sup><span> </span><small>2</small></sup></strong></td><td class="highlight-#fffae6 confluenceTd" data-highlight-colour="#fffae6" style="text-align: center;" title="Background color : Light yellow 35%"><strong title="">+<span> </span><sup><small>1</small></sup></strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%">[QCA8337]</td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#fffae6 confluenceTd" data-highlight-colour="#fffae6" style="text-align: center;" title="Background color : Light yellow 35%"><strong title="">+<span> </span><sup><small>2</small></sup></strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%">[Atheros8327]</td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#fffae6 confluenceTd" data-highlight-colour="#fffae6" style="text-align: center;" title="Background color : Light yellow 35%"><strong title="">+<span> </span><sup><small>2</small></sup></strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%">[Atheros8316]</td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#fffae6 confluenceTd" data-highlight-colour="#fffae6" style="text-align: center;" title="Background color : Light yellow 35%"><strong title="">+<span> </span><sup><small>2</small></sup></strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7">[Atheros8227]</td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%">[Atheros7240]</td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7">[IPQ-PPE]</td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+<sup>6</sup></strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7" title="Background colour : Light grey 100%">[ICPlus175D]</td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong title="">+</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7">[MT7621, MT7531, EN7562CT]</td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+ <sup>3</sup></strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+ <sup>3</sup></strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#fffae6 confluenceTd" data-highlight-colour="#fffae6" style="text-align: center;"><strong title="">+ <sup>3</sup></strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7">[RTL8367]</td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+ <sup>3</sup></strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;"><strong title="">+ <sup>3</sup></strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#fffae6 confluenceTd" data-highlight-colour="#fffae6" style="text-align: center;"><strong title="">+ <sup>3</sup></strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;"><strong title="">-</strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" data-highlight-colour="#f4f5f7"><p>[88E6393X, <span style="color:var(--ds-text,#172b4d);">88E6191X, 88E6190</span>]</p></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong>+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong>+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong>+</strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong>+<sup>8</sup></strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong>+<sup>8</sup></strong></td><td class="highlight-#fffae6 confluenceTd" data-highlight-colour="#fffae6" style="text-align: center;" title="Background color : Light yellow 35%"><strong><strong title="">+ <sup>3</sup></strong></strong></td><td class="highlight-#e3fcef confluenceTd" data-highlight-colour="#e3fcef" style="text-align: center;" title="Background color : Light green 35%"><strong>+ <sup>7</sup></strong></td><td class="highlight-#ffebe6 confluenceTd" data-highlight-colour="#ffebe6" style="text-align: center;" title="Background color : Light red 35%"><strong title="">-</strong></td></tr></tbody></table></div><p>Footnotes:</p><ol><li>The feature will not work properly in VLAN switching setups. It is possible to correctly snoop DHCP packets only for a single VLAN, but this requires that these DHCP messages get tagged with the correct VLAN tag using an ACL rule, for example,<span style="color:var(--ds-icon-success,#22a06b);"> <code>/interface ethernet switch acl add dst-l3-port=67-68 ip-protocol=udp mac-protocol=ip new-customer-vid=10 src-ports=switch1-cpu</code></span>. DHCP Option 82 will not contain any information regarding VLAN-ID.</li><li>The feature will not work properly in VLAN switching setups.</li><li>The HW vlan-filtering and R/M/STP was added in the RouterOS 7.1 for RTL8367, MT7621, <span style="color:var(--ds-text,#172b4d);">MT7531, EN7562CT</span>. The switch does not support other ether-type 0x88a8 or 0x9100 (only 0x8100 is supported) and no tag-stacking. Using these features will disable HW offload.</li><li>The HW offloading will be disabled only for the specific bridge port, not the entire bridge.</li><li>Only <code><span style="color:var(--ds-icon-success,#22a06b);">802.3ad</span></code>, <code><span style="color:var(--ds-icon-success,#22a06b);">balance-xor</span></code> and <span style="color:var(--ds-background-accent-green-bolder,#1f845a);"><code>active-backup</code></span> modes can be HW offloaded. Other bonding modes do not support HW offloading.</li><li>Currently, HW offloaded bridge support for the IPQ-PPE switch chip is still a work in progress. We recommend using, the default, non-HW offloaded bridge (enabled RSTP).</li><li>The <code><span style="color:var(--ds-icon-success,#22a06b);">802.3ad</span></code> mode is compatible only with R/M/STP enabled bridge.</li><li data-uuid="ccd7f03b-b3d0-4b7e-ad8c-31f7ca7f1011">The 88E6393X, 88E6191X, 88E6190 switch chips do not support QinQ configurations. They are limited to parsing only the first VLAN tag, any feature that require reading data after the VLAN tag, such as <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">dhcp-snooping</span></code> or <code><span style="color:var(--ds-background-accent-green-bolder,#1f845a);">igmp-snooping</span></code>, will not function properly in QinQ setups. As a result, double-tagged DHCP or IGMP packets may be forwarded to incorrect switch ports and may lead to inaccurate MDB entries, causing multicast traffic to be flooded incorrectly.</li></ol><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>When upgrading from older versions (before RouterOS v6.41), only the<span> </span>master-port<span> </span>configuration is converted. For each<span> </span>master-port<span> </span>a bridge will be created. VLAN configuration is not converted and should not be changed, check the<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/Basic+VLAN+switching" rel="nofollow">Basic VLAN switching</a><span> </span>guide to be sure how VLAN switching should be configured for your device.</p></div></div><p>Bridge Hardware Offloading should be considered as port switching, but with more possible features. By enabling hardware offloading you are allowing a built-in switch chip to process packets using its switching logic. The diagram below illustrates that switching occurs before any software related action.</p><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" draggable="false" src="attachments/328068/108789762.png" data-image-src="attachments/328068/108789762.png" data-unresolved-comment-count="0" data-linked-resource-id="108789762" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2022-2-14_14-57-37.png" data-base-url="https://help.mikrotik.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="328068" data-linked-resource-container-version="147" tabindex="0" alt=""></span></p><p>A packet that is received by one of the ports always passes through the switch logic first. Switch logic decides which ports the packet should be going to (most commonly this decision is made based on the destination MAC address of a packet, but there might be other criteria that might be involved based on the packet and the configuration). In most cases the packet will not be visible to RouterOS (only statistics will show that a packet has passed through), this is because the packet was already processed by the switch chip and never reached the CPU.</p><p>Though it is possible in certain situations to allow a packet to be processed by the CPU, this is usually called a packet forwarding to the switch CPU port (or the bridge interface in bridge VLAN filtering scenario). This allows the CPU to process the packet and lets the CPU to forward the packet. Passing the packet to the CPU port will give you the opportunity to route packets to different networks, perform traffic control and other software related packet processing actions. To allow a packet to be processed by the CPU, you need to make certain configuration changes depending on your needs and on the device you are using (most commonly passing packets to the CPU are required for VLAN filtering setups). Check the manual page for your specific device:</p><ul><li><a href="https://help.mikrotik.com/docs/pages/viewpage.action?pageId=103841836" rel="nofollow">CRS1xx/2xx series switches</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/CRS3xx%2C+CRS5xx%2C+CCR2116%2C+CCR2216+switch+chip+features" rel="nofollow">CRS3xx, CRS5xx series switches and CCR2116, CCR2216 routers</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/Switch+Chip+Features" rel="nofollow">non-CRS series switches</a></li></ul><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p><span style="letter-spacing: 0.0px;color:var(--ds-text,#333333);">Certain bridge and Ethernet port properties are directly related to switch chip settings. Changing such properties can trigger a</span><strong style="letter-spacing: 0.0px;color:var(--ds-text,#333333);"> switch chip reset</strong><span style="letter-spacing: 0.0px;color:var(--ds-text,#333333);">, temporarily disabling all Ethernet ports that are on the switch chip for the settings to take effect. This must be taken into account whenever changing properties in production environments. Such properties include DHCP Snooping, IGMP Snooping, VLAN filtering, L2MTU, Flow Control, and others. The exact settings that can trigger a switch chip reset depend on the device's model.</span></p></div></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>The <a href="https://help.mikrotik.com/docs/pages/viewpage.action?pageId=103841835#CRS1xx/2xxseriesswitches-Multipleswitchgroups" rel="nofollow">CRS1xx/2xx series switches</a> support multiple hardware offloaded bridges per switch chip. All other devices support only one hardware offloaded bridge per switch chip. Use the hw=yes/no parameter to select which bridge will use hardware offloading. </p></div></div><h2 id="BridgingandSwitching-Example.2"><span class="mw-headline">Example</span></h2><p>Port switching with bridge configuration and enabled hardware offloading:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
add name=bridge1
/interface bridge port
add bridge=bridge1 interface=ether2 hw=yes
add bridge=bridge1 interface=ether3 hw=yes
add bridge=bridge1 interface=ether4 hw=yes
add bridge=bridge1 interface=ether5 hw=yes</pre>
</div></div><p>Make sure that hardware offloading is enabled and active by checking the &quot;H&quot; flag:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] /interface bridge port print
Flags: X - disabled, I - inactive, D - dynamic, H - hw-offload 
 #     INTERFACE       BRIDGE       HW  PVID PRIORITY  PATH-COST INTERNAL-PATH-COST    HORIZON
 0   H ether2          bridge1      yes    1     0x80         10                 10       none
 1   H ether3          bridge1      yes    1     0x80         10                 10       none
 2   H ether4          bridge1      yes    1     0x80         10                 10       none
 3   H ether5          bridge1      yes    1     0x80         10                 10       none</pre>
</div></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Port switching in RouterOS v6.41 and newer is done using the bridge configuration. Prior to RouterOS v6.41 port switching was done using the<span> </span>master-port<span> </span>property.</p></div></div><h1 id="BridgingandSwitching-BridgeVLANFiltering"><span class="mw-headline">Bridge VLAN Filtering</span></h1><hr/><p><span style="color:var(--ds-text,#333333);">Bridge VLAN Filtering provides VLAN-aware Layer 2 forwarding and VLAN tag modifications within the bridge. This set of features makes bridge operation more similar to a traditional Ethernet switch and allows overcoming Spanning Tree compatibility issues compared to the configuration when VLAN interfaces are bridged. Bridge VLAN Filtering configuration is highly recommended to comply with STP (IEEE 802.1D), RSTP (IEEE 802.1W) standards and is mandatory to enable MSTP (IEEE 802.1s) support in RouterOS.</span></p><p><span style="letter-spacing: 0.0px;">The main VLAN setting is</span><span style="letter-spacing: 0.0px;"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">which globally controls VLAN-awareness and VLAN tag processing in the bridge. If</span><span style="letter-spacing: 0.0px;"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering=no</code></span><span style="letter-spacing: 0.0px;"> is configured, the bridge ignores VLAN tags, works in a shared-VLAN-learning (SVL) mode, and cannot modify VLAN tags of packets. Turning on</span><span style="letter-spacing: 0.0px;"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">enables all bridge VLAN related functionality and independent-VLAN-learning (IVL) mode. Besides joining the ports for Layer2 forwarding, the bridge itself is also an interface therefore it has Port VLAN ID (pvid).</span></p><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Currently, CRS3xx, CRS5xx series switches, CCR2116, CCR2216 routers and <span style="color:var(--ds-text,#172b4d);">RTL8367, 88E6393X, 88E6191X, 88E6190, MT7621, MT7531, <span style="color:var(--ds-text,#172b4d);">EN7562CT</span> </span>switch chips (since RouterOS v7) are capable of using bridge VLAN filtering and hardware offloading at the same time, other devices will not be able to use the benefits of a built-in switch chip when bridge VLAN filtering is enabled. Other devices should be configured according to the method described in the<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/Basic+VLAN+switching" rel="nofollow">Basic VLAN switching</a><span> </span>guide. If an improper configuration method is used, your device can cause throughput issues in your network.</p></div></div><h2 id="BridgingandSwitching-BridgeVLANtable">Bridge VLAN table</h2><p>Bridge VLAN table represents per-VLAN port mapping with an egress VLAN tag action.<span> The </span><span style="color:var(--ds-icon-success,#22a06b);"><code>tagged</code> </span>ports send out frames with a corresponding VLAN ID tag.<span> The </span><span style="color:var(--ds-icon-success,#22a06b);"><code>untagged</code> </span>ports remove a VLAN tag before sending out frames. Bridge ports with <span style="color:var(--ds-icon-success,#22a06b);"><code>frame-types</code></span> set to <code><span style="color:var(--ds-icon-success,#22a06b);">admit-all</span></code> or <span style="color:var(--ds-icon-success,#22a06b);"><code>admit-only-untagged-and-priority-tagged</code></span> will be automatically added as untagged ports for the <span style="color:var(--ds-icon-success,#22a06b);"><code>pvid</code></span> VLAN.</p><p><strong>Sub-menu:</strong><span> </span><code>/interface bridge vlan</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>bridge</strong><span> </span>(<em>name</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">The bridge interface which the respective VLAN entry is intended for.</td></tr><tr><td class="confluenceTd"><strong>disabled</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Enables or disables Bridge VLAN entry.</td></tr><tr><td class="confluenceTd"><strong>tagged</strong><span> </span>(<em>interfaces</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Interfaces or <a href="https://help.mikrotik.com/docs/display/ROS/Interface+Lists" rel="nofollow">interface list</a> with a VLAN tag adding action in egress. This setting accepts comma-separated values. e.g.<span> </span><code><span style="color:var(--ds-icon-success,#22a06b);">tagged</span>=ether1,ether2</code>.</td></tr><tr><td class="confluenceTd"><strong>untagged</strong><span> </span>(<em>interfaces</em>; Default:<span> </span><strong>none</strong>)</td><td class="confluenceTd">Interfaces or <a href="https://help.mikrotik.com/docs/display/ROS/Interface+Lists" rel="nofollow">interface list</a> with a VLAN tag removing action in egress. This setting accepts comma-separated values. e.g.<span> </span><code><span style="color:var(--ds-icon-success,#22a06b);">untagged</span>=ether3,ether4.</code></td></tr><tr><td class="confluenceTd"><strong>vlan-ids</strong><span> </span>(<em>integer 1..4094</em>; Default:<span> </span><strong>1</strong>)</td><td class="confluenceTd">The list of VLAN IDs for certain port configuration. This setting accepts the VLAN ID range as well as comma-separated values. e.g.<span> </span><code><span style="color:var(--ds-icon-success,#22a06b);">vlan-ids</span>=100-115,120,122,128-130</code>.</td></tr></tbody></table></div><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>The<span> </span><code><span style="color:var(--ds-icon-success,#22a06b);">vlan-ids</span></code><span> </span>parameter can be used to specify a set or range of VLANs, but specifying multiple VLANs in a single bridge VLAN table entry should only be used for ports that are tagged ports. In case multiple VLANs are specified for access ports, then tagged packets might get sent out as untagged packets through the wrong access port, regardless of the<span> </span>PVID<span> </span>value.</p></div></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Make sure you have added all needed interfaces to the bridge VLAN table when using bridge VLAN filtering. For routing functions to work properly on the same device through ports that use bridge VLAN filtering, you will need to allow access to the bridge interface (this automatically include a switch-cpu port when HW offloaded vlan-filtering is used, e.g. on CRS3xx series switches), this can be done by adding the bridge interface itself to the VLAN table, for tagged traffic you will need to add the bridge interface as a tagged port and create a VLAN interface on the bridge interface. Examples can be found in the inter-VLAN routing and<span> </span>Management port<span> </span>sections.</p></div></div><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>When allowing access to the CPU, you are allowing access from a certain port to the actual router/switch, this is not always desirable. Make sure you implement proper firewall filter rules to secure your device when access to the CPU is allowed from a certain VLAN ID and port, use firewall filter rules to allow access to only certain services.</p></div></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Improperly configured bridge VLAN filtering can cause security issues, make sure you fully understand how<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/Bridge+VLAN+Table" rel="nofollow">Bridge VLAN table</a><span> </span>works before deploying your device into production environments.</p></div></div><h2 id="BridgingandSwitching-Bridgeportsettings"><span class="mw-headline">Bridge port settings</span></h2><p><span class="mw-headline">Each bridge port have multiple VLAN related settings, that can change untagged VLAN membership, VLAN tagging/untagging behavior and packet filtering based on VLAN tag presence.</span></p><p><span class="mw-headline"><strong>Sub-menu:</strong><span> </span><code>/interface bridge port</code></span></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 22.8505%;"/><col style="width: 77.1495%;"/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>frame-types</strong><span> </span>(<em>admit-all | admit-only-untagged-and-priority-tagged | admit-only-vlan-tagged</em>; Default:<span> </span><strong>admit-all</strong>)</td><td class="confluenceTd">Specifies allowed ingress frame types on a bridge port. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>ingress-filtering</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>yes</strong>)</td><td class="confluenceTd">Enables or disables VLAN ingress filtering, which checks if the ingress port is a member of the received VLAN ID in the bridge VLAN table. Should be used with<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>frame-types</code></span><span> </span>to specify if the ingress traffic should be tagged or untagged. This property only has effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>. The setting is enabled by default since RouterOS v7.</td></tr><tr><td class="confluenceTd"><strong>pvid</strong><span> </span>(<em>integer 1..4094</em>; Default:<span> </span><strong>1</strong>)</td><td class="confluenceTd">Port VLAN ID (pvid) specifies which VLAN the untagged ingress traffic is assigned to. This property only has an effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr><tr><td class="confluenceTd"><strong>tag-stacking</strong><span> </span>(<em>yes | no</em>; Default:<span> </span><strong>no</strong>)</td><td class="confluenceTd">Forces all packets to be treated as untagged packets. Packets on ingress port will be tagged with another VLAN tag regardless if a VLAN tag already exists, packets will be tagged with a VLAN ID that matches the<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>pvid </code></span>value and will use EtherType that is specified in<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>ether-type</code></span>. This property only has effect when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span>.</td></tr></tbody></table></div><h2 id="BridgingandSwitching-Bridgehosttable">Bridge host table</h2><p>Bridge host table allows monitoring learned MAC addresses. When<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>is enabled, it shows learned VLAN ID as well (enabled independent-VLAN-learning or IVL).</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] &gt; /interface bridge host print where !local 
Flags: X - disabled, I - invalid, D - dynamic, L - local, E - external 
 #       MAC-ADDRESS        VID ON-INTERFACE       BRIDGE
 0   D   CC:2D:E0:E4:B3:AA  300 ether3             bridge1
 1   D   CC:2D:E0:E4:B3:AB  400 ether4             bridge1</pre>
</div></div><h2 id="BridgingandSwitching-VLANExample-TrunkandAccessPorts"><span class="mw-headline">VLAN Example - Trunk and Access Ports</span></h2><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" draggable="false" src="attachments/328068/76939371.png" data-image-src="attachments/328068/76939371.png" data-unresolved-comment-count="0" data-linked-resource-id="76939371" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="access_ports.png" data-base-url="https://help.mikrotik.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="328068" data-linked-resource-container-version="147" tabindex="0" alt=""></span></p><p>Create a bridge with disabled<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>to avoid losing access to the device before VLANs are completely configured. If you need a management access to the bridge, see the <a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-Managementaccessconfiguration" rel="nofollow">Management access configuration</a> section.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
add name=bridge1 vlan-filtering=no</pre>
</div></div><p>Add bridge ports and specify<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>pvid</code> </span>for access ports to assign their untagged traffic to the intended VLAN. Use <span style="color:var(--ds-icon-success,#22a06b);"><code>frame-types</code></span> setting to accept only tagged or untagged packets.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge port
add bridge=bridge1 interface=ether2 frame-types=admit-only-vlan-tagged
add bridge=bridge1 interface=ether6 pvid=200 frame-types=admit-only-untagged-and-priority-tagged
add bridge=bridge1 interface=ether7 pvid=300 frame-types=admit-only-untagged-and-priority-tagged
add bridge=bridge1 interface=ether8 pvid=400 frame-types=admit-only-untagged-and-priority-tagged</pre>
</div></div><p>Add Bridge VLAN entries and specify tagged ports in them. <span style="color:var(--ds-text,#333333);">Bridge ports with </span><span style="color:var(--ds-icon-success,#22a06b);"><code>frame-types</code></span><span style="color:var(--ds-text,#333333);"> set to </span><span style="color:var(--ds-icon-success,#22a06b);"><code>admit-only-untagged-and-priority-tagged</code></span><span style="color:var(--ds-text,#333333);"> will be automatically added as untagged ports for the </span><span style="color:var(--ds-icon-success,#22a06b);"><code>pvid</code></span><span style="color:var(--ds-text,#333333);"> VLAN.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge vlan
add bridge=bridge1 tagged=ether2 vlan-ids=200 
add bridge=bridge1 tagged=ether2 vlan-ids=300
add bridge=bridge1 tagged=ether2 vlan-ids=400</pre>
</div></div><p>In the end, when VLAN configuration is complete, enable Bridge VLAN Filtering.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge set bridge1 vlan-filtering=yes </pre>
</div></div><p>Optional step is to set <span style="color:var(--ds-icon-success,#22a06b);"><code>frame-types=admit-only-vlan-tagged</code></span> on the bridge interface in order to disable the default untagged VLAN 1 (<code><span style="color:var(--ds-icon-success,#22a06b);">pvid=1</span></code>).</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge set bridge1 frame-types=admit-only-vlan-tagged</pre>
</div></div><h2 id="BridgingandSwitching-VLANExample-TrunkandHybridPorts">VLAN Example - Trunk and Hybrid Ports</h2><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" draggable="false" src="attachments/328068/76939372.png" data-image-src="attachments/328068/76939372.png" data-unresolved-comment-count="0" data-linked-resource-id="76939372" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="hybrid_ports.png" data-base-url="https://help.mikrotik.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="328068" data-linked-resource-container-version="147" tabindex="0" alt=""></span></p><p>Create a bridge with disabled<span style="letter-spacing: 0.0px;"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code style="letter-spacing: 0.0px;">vlan-filtering</code></span><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">to avoid losing access to the router before VLANs are completely configured. If you need a management access to the bridge, see the <a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-Managementaccessconfiguration" rel="nofollow">Management access configuration</a> section.</span><span style="font-size: 20.0px;letter-spacing: -0.008em;"><br/></span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
add name=bridge1 vlan-filtering=no</pre>
</div></div><p>Add bridge ports and specify<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>pvid</code> </span>on hybrid VLAN ports to assign untagged traffic to the intended VLAN.  Use <span style="color:var(--ds-icon-success,#22a06b);"><code>frame-types</code></span> setting to accept only tagged packets on ether2.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge port
add bridge=bridge1 interface=ether2 frame-types=admit-only-vlan-tagged
add bridge=bridge1 interface=ether6 pvid=200
add bridge=bridge1 interface=ether7 pvid=300
add bridge=bridge1 interface=ether8 pvid=400</pre>
</div></div><p>Add Bridge VLAN entries and specify tagged ports in them. In this example egress VLAN tagging is done on ether6,ether7,ether8 ports too, making them into hybrid ports. <span style="color:var(--ds-text,#333333);">Bridge ports with </span><span style="color:var(--ds-icon-success,#22a06b);"><code>frame-types</code></span><span style="color:var(--ds-text,#333333);"> set to </span><code><span style="color:var(--ds-icon-success,#22a06b);">admit-all</span></code><span style="color:var(--ds-text,#333333);"> will be automatically added as untagged ports for the </span><span style="color:var(--ds-icon-success,#22a06b);"><code>pvid</code></span><span style="color:var(--ds-text,#333333);"> VLAN.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge vlan 
add bridge=bridge1 tagged=ether2,ether7,ether8 vlan-ids=200
add bridge=bridge1 tagged=ether2,ether6,ether8 vlan-ids=300
add bridge=bridge1 tagged=ether2,ether6,ether7 vlan-ids=400</pre>
</div></div><p>In the end, when VLAN configuration is complete, enable Bridge VLAN Filtering.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge set bridge1 vlan-filtering=yes </pre>
</div></div><p>Optional step is to set <span style="color:var(--ds-icon-success,#22a06b);"><code>frame-types=admit-only-vlan-tagged</code></span> on the bridge interface in order to disable the default untagged VLAN 1 (<code><span style="color:var(--ds-icon-success,#22a06b);">pvid=1</span></code>).</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge set bridge1 frame-types=admit-only-vlan-tagged</pre>
</div></div><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>You don't have to add access ports as untagged ports, because they will be added dynamically as an untagged port with the VLAN ID that is specified in<span style="color:var(--ds-icon-success,#22a06b);"><code> pvid</code></span>, you can specify just the trunk port as a tagged port. All ports that have the same<span style="color:var(--ds-icon-success,#22a06b);"><code> pvid </code></span>set will be added as untagged ports in a single entry. You must take into account that the bridge itself is a port and it also has a<span style="color:var(--ds-icon-success,#22a06b);"><code> pvid </code></span>value, this means that the bridge port also will be added as an untagged port for the ports that have the same <span style="color:var(--ds-icon-success,#22a06b);"><code>pvid</code></span>. You can circumvent this behavior by either setting different <span style="color:var(--ds-icon-success,#22a06b);"><code>pvid</code> </span>on all ports (even the trunk port and bridge itself), or to use <span style="color:var(--ds-icon-success,#22a06b);"><code>frame-type</code></span> set to <span style="color:var(--ds-icon-success,#22a06b);"><code>accept-only-vlan-tagged</code></span>.</p></div></div><h2 id="BridgingandSwitching-VLANExample-InterVLANRoutingbyBridge"><span class="mw-headline">VLAN Example - InterVLAN Routing by Bridge</span></h2><p><span class="mw-headline"><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" draggable="false" src="attachments/328068/76939373.png" data-image-src="attachments/328068/76939373.png" data-unresolved-comment-count="0" data-linked-resource-id="76939373" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="vlan_routing.png" data-base-url="https://help.mikrotik.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="328068" data-linked-resource-container-version="147" tabindex="0" alt=""></span><br/></span></p><p>Create a bridge with disabled<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span><span> </span>to avoid losing access to the router before VLANs are completely configured. <span> If you need a management access to the bridge, see the <a href="https://help.mikrotik.com/docs/display/ROS/Bridging+and+Switching#BridgingandSwitching-Managementaccessconfiguration" rel="nofollow">Management access configuration</a> section.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
add name=bridge1 vlan-filtering=no</pre>
</div></div><p><span style="letter-spacing: 0.0px;">Add bridge ports and specify</span><span style="letter-spacing: 0.0px;"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code style="letter-spacing: 0.0px;">pvid</code><span style="letter-spacing: 0.0px;"> </span></span><span style="letter-spacing: 0.0px;">for VLAN access ports to assign their untagged traffic to the intended VLAN. Use <span style="color:var(--ds-icon-success,#22a06b);"><code>frame-types</code></span> setting to accept only untagged packets.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge port
add bridge=bridge1 interface=ether6 pvid=200 frame-types=admit-only-untagged-and-priority-tagged
add bridge=bridge1 interface=ether7 pvid=300 frame-types=admit-only-untagged-and-priority-tagged
add bridge=bridge1 interface=ether8 pvid=400 frame-types=admit-only-untagged-and-priority-tagged</pre>
</div></div><p><span style="letter-spacing: 0.0px;">Add Bridge VLAN entries and specify tagged ports in them. In this example</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">bridge1</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">interface is the VLAN trunk that will send traffic further to do InterVLAN routing. <span style="color:var(--ds-text,#333333);">Bridge ports with </span><span style="color:var(--ds-icon-success,#22a06b);"><code>frame-types</code></span><span style="color:var(--ds-text,#333333);"> set to </span><span style="color:var(--ds-icon-success,#22a06b);"><code>admit-only-untagged-and-priority-tagged</code></span><span style="color:var(--ds-text,#333333);"> will be automatically added as untagged ports for the </span><span style="color:var(--ds-icon-success,#22a06b);"><code>pvid</code></span><span style="color:var(--ds-text,#333333);"> VLAN.</span></span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge vlan
add bridge=bridge1 tagged=bridge1 vlan-ids=200
add bridge=bridge1 tagged=bridge1 vlan-ids=300
add bridge=bridge1 tagged=bridge1 vlan-ids=400</pre>
</div></div><p><span style="letter-spacing: 0.0px;">Configure VLAN interfaces on the</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">bridge1</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">to allow handling of tagged VLAN traffic at routing level and set IP addresses to ensure routing between VLANs as planned.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface vlan
add interface=bridge1 name=VLAN200 vlan-id=200
add interface=bridge1 name=VLAN300 vlan-id=300
add interface=bridge1 name=VLAN400 vlan-id=400

/ip address
add address=20.0.0.1/24 interface=VLAN200
add address=30.0.0.1/24 interface=VLAN300
add address=40.0.0.1/24 interface=VLAN400</pre>
</div></div><p><span style="letter-spacing: 0.0px;">In the end, when VLAN configuration is complete, enable Bridge VLAN Filtering:<br/></span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge set bridge1 vlan-filtering=yes </pre>
</div></div><p>Optional step is to set <span style="color:var(--ds-icon-success,#22a06b);"><code>frame-types=admit-only-vlan-tagged</code></span> on the bridge interface in order to disable the default untagged VLAN 1 (<code><span style="color:var(--ds-icon-success,#22a06b);">pvid=1</span></code>).</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge set bridge1 frame-types=admit-only-vlan-tagged</pre>
</div></div><p><span class="mw-headline">Since RouterOS v7, it is possible to route traffic using the L3 HW offloading on certain devices. See more details on <a href="https://help.mikrotik.com/docs/display/ROS/L3+Hardware+Offloading" rel="nofollow">L3 Hardware Offloading</a>.</span></p><h2 id="BridgingandSwitching-Managementaccessconfiguration"><span class="mw-headline">Management access configuration</span></h2><p>There are multiple ways to set up management access on a device that uses bridge VLAN filtering. Below are some of the most popular approaches to properly enable access to a router/switch. Start by creating a bridge without VLAN filtering enabled:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
add name=bridge1 vlan-filtering=no</pre>
</div></div><h3 id="BridgingandSwitching-UntaggedaccesswithoutVLANfiltering">Untagged access without VLAN filtering</h3><p>In case VLAN filtering will not be used and access with untagged traffic is desired, the only requirement is to create an IP address on the bridge interface.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/ip address
add address=192.168.99.1/24 interface=bridge1</pre>
</div></div><h3 id="BridgingandSwitching-TaggedaccesswithoutVLANfiltering">Tagged access without VLAN filtering</h3><p>In case VLAN filtering will not be used and access with tagged traffic is desired, create a routable VLAN interface on the bridge and add an IP address on the VLAN interface.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface vlan
add interface=bridge1 name=MGMT vlan-id=99
/ip address
add address=192.168.99.1/24 interface=MGMT</pre>
</div></div><h3 id="BridgingandSwitching-TaggedaccesswithVLANfiltering">Tagged access with VLAN filtering</h3><p>In case VLAN filtering is used and access with tagged traffic is desired, additional steps are required. In this example, VLAN 99 will be used to access the device. A VLAN interface on the bridge must be created and an IP address must be assigned to it.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface vlan
add interface=bridge1 name=MGMT vlan-id=99
/ip address
add address=192.168.99.1/24 interface=MGMT</pre>
</div></div><p>For example, if you want to allow access to the device from ports<span> </span><strong>ether3</strong>,<span> </span><strong>ether4,</strong><span> </span><strong>sfp-sfpplus1 </strong>using tagged VLAN 99 traffic, then you must add this entry to the VLAN table. Note that the <strong>bridge1</strong> interface is also included in the tagged port list:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge vlan
add bridge=bridge1 tagged=bridge1,ether3,ether4,sfp-sfpplus1 vlan-ids=99</pre>
</div></div><p><span style="letter-spacing: 0.0px;">After that you can enable VLAN filtering:<br/></span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge set bridge1 vlan-filtering=yes</pre>
</div></div><h3 id="BridgingandSwitching-UntaggedaccesswithVLANfiltering">Untagged access with VLAN filtering</h3><p>In case VLAN filtering is used and access with untagged traffic is desired, the VLAN interface must use the same VLAN ID as the untagged port VLAN ID (<span style="color:var(--ds-icon-success,#22a06b);"><code>pvid</code></span>). Just like in the previous example, start by creating a VLAN interface on the bridge and add an IP address for the VLAN.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface vlan
add interface=bridge1 name=MGMT vlan-id=99
/ip address
add address=192.168.99.1/24 interface=MGMT</pre>
</div></div><p>For example, untagged ports <strong>ether2</strong> and <strong>ether3</strong> should be able to communicate with the VLAN 99 interface using untagged traffic. In order to achieve this, these ports should be configured with the <code><span style="color:var(--ds-icon-success,#22a06b);">pvid</span></code> that matches the VLAN ID on management VLAN. Note that the <strong>bridge1</strong> interface is a tagged port member, you can configure additional tagged ports if necessary (see the previous example).</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge port
set [find interface=ether2] pvid=99
set [find interface=ether3] pvid=99
/interface bridge vlan 
add bridge=bridge1 tagged=bridge1 untagged=ether2,ether3 vlan-ids=99</pre>
</div></div><p>After that you can enable VLAN filtering:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge set bridge1 vlan-filtering=yes </pre>
</div></div><h3 id="BridgingandSwitching-ChanginguntaggedVLANforthebridgeinterface">Changing untagged VLAN for the bridge interface</h3><p>In case VLAN filtering is used, it is possible to change the untagged VLAN ID for the bridge interface using the <code><span style="color:var(--ds-icon-success,#22a06b);">pvid</span></code> setting. Note that creating routable VLAN interfaces and allowing tagged traffic on the bridge is a more flexible and generally recommended option.</p><p>First, create an IP address on the bridge interface.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/ip address
add address=192.168.99.1/24 interface=bridge1</pre>
</div></div><p>For example, untagged <strong>bridge1</strong> traffic should be able to communicate with untagged <strong>ether2</strong> and <strong>ether3</strong> ports and tagged <strong>sfp-sfpplus1</strong> port in VLAN 99. In order to achieve this, <strong>bridge1</strong>,<strong> ether2</strong>, <strong>ether3</strong> should be configured with the same <code><span style="color:var(--ds-icon-success,#22a06b);">pvid</span></code> and sfp-sfpplus1 added as a tagged member.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
set [find name=bridge1] pvid=99
/interface bridge port
set [find interface=ether2] pvid=99
set [find interface=ether3] pvid=99
/interface bridge vlan
add bridge=bridge1 tagged=sfp-sfpplus1 untagged=bridge1,ether2,ether3 vlan-ids=99</pre>
</div></div><p style="text-align: left;">After that you can enable VLAN filtering:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge set bridge1 vlan-filtering=yes </pre>
</div></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>If the connection to the router/switch through an IP address is not required, then steps adding an IP address can be skipped since a connection to the router/switch through Layer2 protocols (e.g. MAC-telnet) will be working either way.</p></div></div><h2 id="BridgingandSwitching-VLANTunneling(QinQ)"><span class="mw-headline">VLAN Tunneling (QinQ)</span></h2><p>Since RouterOS v6.43 the RouterOS bridge is IEEE 802.1ad compliant and it is possible to filter VLAN IDs based on Service VLAN ID (0x88a8) rather than Customer VLAN ID (0x8100). The same principles can be applied as with IEEE 802.1Q VLAN filtering (the same setup examples can be used). Below is a topology for a common<span> </span><strong>Provider bridge</strong>:</p><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" draggable="false" src="attachments/328068/43057256.png" data-image-src="attachments/328068/43057256.png" data-unresolved-comment-count="0" data-linked-resource-id="43057256" data-linked-resource-version="3" data-linked-resource-type="attachment" data-linked-resource-default-alias="Provider_bridge.png" data-base-url="https://help.mikrotik.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="328068" data-linked-resource-container-version="147" tabindex="0" alt=""></span></p><p>In this example,<span> </span><strong>R1</strong>,<span> </span><strong>R2</strong>,<span> </span><strong>R3,</strong><span> </span>and<span> </span><strong>R4</strong><span> </span>might be sending any VLAN tagged traffic by 802.1Q (CVID), but<span> </span><strong>SW1</strong><span> </span>and<span> </span><strong>SW2</strong><span> </span>needs isolate traffic between routers in a way that<span> </span><strong>R1</strong><span> </span>is able to communicate only with<span> </span><strong>R3</strong>,<span> </span>and<span> </span><strong>R2</strong><span> </span>is only able to communicate with<span> </span><strong>R4</strong>. To do so, you can tag all ingress traffic with an SVID and only allow these VLANs on certain ports. Start by enabling the service tag 0x88a8, introduced by<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>802.1ad</code></span>, on the bridge. Use these commands on<span> </span><strong>SW1</strong><span> </span>and<span> </span><strong>SW2</strong>:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
add name=bridge1 vlan-filtering=no ether-type=0x88a8</pre>
</div></div><p><span style="letter-spacing: 0.0px;">In this setup,</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">ether1</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">and</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">ether2</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">are going to be access ports (untagged), use the</span><span style="letter-spacing: 0.0px;"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code style="letter-spacing: 0.0px;">pvid</code><span style="letter-spacing: 0.0px;"> </span></span><span style="letter-spacing: 0.0px;">parameter to tag all ingress traffic on each port, use these commands on</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW1</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">and</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW2</strong><span style="letter-spacing: 0.0px;">:</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge port
add interface=ether1 bridge=bridge1 pvid=200
add interface=ether2 bridge=bridge1 pvid=300
add interface=ether3 bridge=bridge1</pre>
</div></div><p><span style="letter-spacing: 0.0px;">Specify tagged and untagged ports in the bridge VLAN table, use these commands on</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW1</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">and</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW2</strong><span style="letter-spacing: 0.0px;">:</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge vlan
add bridge=bridge1 tagged=ether3 untagged=ether1 vlan-ids=200
add bridge=bridge1 tagged=ether3 untagged=ether2 vlan-ids=300</pre>
</div></div><p><span style="letter-spacing: 0.0px;">When the bridge VLAN table is configured, you can enable bridge VLAN filtering, use these commands on</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW1</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">and</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW2:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge set bridge1 vlan-filtering=yes </pre>
</div></div><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>By enabling<span> </span>vlan-filtering<span> </span>you will be filtering out traffic destined to the CPU, before enabling VLAN filtering you should make sure that you set up a<span> </span>Management port.</p><p>Note, that if you are using the new EtherType/TPID 0x88a8 (service tag) and you also need a VLAN interface for your Service VLAN, you will also have to apply the<span style="color:var(--ds-icon-success,#22a06b);"><code> use-service-tag</code></span><span> </span>parameter on the VLAN interface.</p></div></div><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>When<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>ether-type=0x8100</code></span> is configured, the bridge checks the outer VLAN tag and sees if it is using EtherType<span> </span><code>0x8100</code>. If the bridge receives a packet with an outer tag that has a different EtherType, it will mark the packet as<span> </span><code>untagged</code>. Since RouterOS only checks the outer tag of a packet, it is not possible to filter 802.1Q packets when the 802.1ad protocol is used.</p></div></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Currently, only CRS3xx, CRS5xx series switches and CCR2116, CCR2216 routers are capable of hardware offloaded VLAN filtering using the Service tag, EtherType/TPID <span style="color:var(--ds-icon-success,#22a06b);"><code>0x88a8</code></span>.</p></div></div><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Devices with switch chip Marvell-98DX3257 (e.g. CRS354 series) do not support VLAN filtering on 1Gbps Ethernet interfaces for other VLAN types (<span style="color:var(--ds-icon-success,#22a06b);"><code>0x88a8</code></span><span> </span>and<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>0x9100</code></span>).</p></div></div><h2 id="BridgingandSwitching-Tagstacking"><span class="mw-headline">Tag stacking</span></h2><p>Since RouterOS v6.43 it is possible to forcefully add a new VLAN tag over any existing VLAN tags, this feature can be used to achieve a CVID stacking setup, where a CVID (0x8100) tag is added before an existing CVID tag. This type of setup is very similar to<span> the </span>Provider bridge<span> </span>setup, to achieve the same setup but with multiple CVID tags (CVID stacking) we can use the same topology:</p><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" draggable="false" src="attachments/328068/43057257.png" data-image-src="attachments/328068/43057257.png" data-unresolved-comment-count="0" data-linked-resource-id="43057257" data-linked-resource-version="3" data-linked-resource-type="attachment" data-linked-resource-default-alias="Tag_stacking.png" data-base-url="https://help.mikrotik.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="328068" data-linked-resource-container-version="147" tabindex="0" alt=""></span></p><p>In this example<span> </span><strong>R1</strong>,<span> </span><strong>R2</strong>,<span> </span><strong>R3,</strong><span> </span>and<span> </span><strong>R4</strong><span> </span>might be sending any VLAN tagged traffic, it can be 802.1ad, 802.1Q or any other type of traffic, but<span> </span><strong>SW1</strong><span> </span>and<span> </span><strong>SW2</strong><span> </span>needs isolate traffic between routers in a way that<span> </span><strong>R1</strong><span> </span>is able to communicate only with<span> </span><strong>R3</strong>,<span> </span>and<span> </span><strong>R2</strong><span> </span>is only able to communicate with<span> </span><strong>R4</strong>. To do so, you can tag all ingress traffic with a new CVID tag and only allow these VLANs on certain ports. Start by selecting the proper EtherType, use these commands on<span> </span><strong>SW1</strong><span> </span>and<span> </span><strong>SW2</strong>:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
add name=bridge1 vlan-filtering=no ether-type=0x8100</pre>
</div></div><p><span style="letter-spacing: 0.0px;">In this setup,</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">ether1</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">and</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">ether2</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">will ignore any VLAN tags that are present and add a new VLAN tag, use the</span><span style="letter-spacing: 0.0px;"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code style="letter-spacing: 0.0px;">pvid</code><span style="letter-spacing: 0.0px;"> </span></span><span style="letter-spacing: 0.0px;">parameter to tag all ingress traffic on each port and allow</span><span style="letter-spacing: 0.0px;"> </span><span style="color:var(--ds-icon-success,#22a06b);"><code style="letter-spacing: 0.0px;">tag-stacking</code></span><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">on these ports, use these commands on</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW1</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">and</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW2</strong><span style="letter-spacing: 0.0px;">:</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge port
add interface=ether1 bridge=bridge1 pvid=200 tag-stacking=yes
add interface=ether2 bridge=bridge1 pvid=300 tag-stacking=yes
add interface=ether3 bridge=bridge1</pre>
</div></div><p><span style="letter-spacing: 0.0px;">Specify tagged and untagged ports in the bridge VLAN table, you only need to specify the VLAN ID of the outer tag, use these commands on</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW1</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">and</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW2</strong><span style="letter-spacing: 0.0px;">:</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge vlan
add bridge=bridge1 tagged=ether3 untagged=ether1 vlan-ids=200
add bridge=bridge1 tagged=ether3 untagged=ether2 vlan-ids=300</pre>
</div></div><p><br/></p><p>When the bridge VLAN table is configured, you can enable bridge VLAN filtering, which is required in order for the <span style="color:var(--ds-icon-success,#22a06b);"><span style="font-family: SFMono-Medium , SF Mono , Segoe UI Mono , Roboto Mono , Ubuntu Mono , Menlo , Courier , monospace;">pvid </span></span>parameter to have any effect, use these commands on <strong>SW1</strong> and <strong>SW2:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge set bridge1 vlan-filtering=yes</pre>
</div></div><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>By enabling<span> </span>vlan-filtering<span> </span>you will be filtering out traffic destined to the CPU, before enabling VLAN filtering you should make sure that you set up a<span> </span>Management port.</p></div></div><h2 id="BridgingandSwitching-MVRP"><span class="mw-headline">MVRP</span></h2><p>Multiple VLAN Registration protocol (MVRP) is a protocol based on Multiple Registration Protocol (MRP) which allows to register attributes (VLAN IDs in case of MVRP) with other members of Bridged LAN.</p><p>An MRP application can make or withdraw declarations of attributes which result in registration or leaving of those attributes with other MRP participants.</p><p>Here's how it works.</p><p><span>MRP consists of two parts:</span></p><ul><li><p><strong>Applicant</strong> - responsible for sending declarations (or leaves). Its behavior can be configured on a per-port basis using the setting called <code><span style="color:var(--ds-icon-success,#22a06b);">mvrp-applicant-state</span></code>, and per-VLAN using the <code><span style="color:var(--ds-icon-success,#22a06b);">mvrp-forbidden</span></code> setting.</p></li><li><p><strong>Registrar</strong> - responsible for registering incoming declarations. Its configuration can be set per-port using the <span style="color:var(--ds-icon-success,#22a06b);"><code>mvrp-registrar-state</code></span> setting, and per-VLAN using the <code><span style="color:var(--ds-icon-success,#22a06b);">mvrp-forbidden</span></code> setting.</p></li></ul><p><strong>Registration Propagation:</strong> Incoming registration on a bridge port dynamically makes that specific port a tagged VLAN member. Additionally, the attributes associated with this registration are spread to all active (forwarding) bridge ports as a declaration.</p><p><strong>Declaration Operation:</strong> I<span>n case of MVRP, the configured VLAN's get declared on each port, but they will only get configured as members of those VLAN's when a declaration is received from the LAN (Registrar will register the VLAN). From the perspective of an end-station, a single declaration will be registered on each upstream port across the entire LAN. When another end-station declares the same attribute, a path of registrations will be made between the two (or more) end stations, see the picture below. </span></p><p><span>MVRP helps to dynamically propagate VLAN information throughout the bridged network and configure VLANs only on the needed ports. This makes the network efficient by avoiding unnecessary traffic flooding.</span></p><p>As noted before, MVRP is only active on ports that are forwarding. In case of MSTP declarations and registrations are made only if the port is forwarding in the MSTI in which VLAN is mapped.</p><p>The point-to-point ports speed up the<span> process of registration (or leaving). Manually configuring </span><code><span style="color:var(--ds-icon-success,#22a06b);">point-to-point=yes</span></code> <span>can be advantageous for non-Ethernet interfaces.</span></p><p><span><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" draggable="false" src="attachments/328068/240156844.png" data-image-src="attachments/328068/240156844.png" data-unresolved-comment-count="0" data-linked-resource-id="240156844" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="2b.png" data-base-url="https://help.mikrotik.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="328068" data-linked-resource-container-version="147" tabindex="0" alt=""></span></span></p><h3 id="BridgingandSwitching-PropertyReference">Property Reference</h3><p><strong>Sub-menu:</strong> <code>/interface bridge</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh"><p>Property</p></th><th class="confluenceTh"><p>Description</p></th></tr><tr><td class="confluenceTd"><p><strong>mvrp</strong> (<em>yes </em>|<em> no</em>; Default: <strong>no</strong>)</p></td><td class="confluenceTd"><p>Enables MVRP for bridge. It ensures that the MAC address 01:80:C2:00:00:21 is trapped and not forwarded, the <span style="color:var(--ds-icon-success,#22a06b);"><code>vlan-filtering</code></span> must be enabled.</p></td></tr></tbody></table></div><p><br/></p><p><strong>Sub-menu:</strong> <code>/interface bridge port</code></p><p>The port menu enables control over the applicant and registrar settings on a per-port basis.</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh"><p>Property</p></th><th class="confluenceTh"><p>Description</p></th></tr><tr><td class="confluenceTd"><p style="text-align: left;"><strong>mvrp-applicant-state</strong><span> </span>(<em>non-participant | normal-participant;</em> Default: <strong>normal-participant</strong>)</p></td><td class="confluenceTd"><p>MVRP applicant options:</p><ul style="text-align: left;"><li><p><strong>non-participant</strong> - port does not send any MRP messages;</p></li><li><p><strong>normal-participant </strong>- port participates normally in MRP exchanges.</p></li></ul></td></tr><tr><td class="confluenceTd"><p style="text-align: left;"><strong>mvrp-registrar-state</strong> (<em>fixed | normal</em>; Default: <strong>normal</strong>)</p></td><td class="confluenceTd"><p>MVRP registrar options:</p><ul style="text-align: left;"><li><p><strong>fixed</strong> - port ignores all MRP messages, and remains Registered (IN) in all configured vlans.</p></li><li><p><strong>normal </strong>- port receives MRP messages and handles them according to the standard.</p></li></ul></td></tr></tbody></table></div><p> <span class="mw-headline">To monitor the currently declared and registered VLAN IDs, use the <span style="color:var(--ds-text-accent-magenta,#943d73);"><code>monitor</code></span> command.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] &gt; interface/bridge/port monitor [find interface=sfp-sfpplus1]
            interface: sfp-sfpplus1
               status: in-bridge
          port-number: 1
                 role: designated-port
            edge-port: no
  edge-port-discovery: yes
  point-to-point-port: yes
         external-fdb: no
         sending-rstp: yes
             learning: yes
           forwarding: yes
     actual-path-cost: 2000
     hw-offload-group: switch1
    declared-vlan-ids: 1,10,20-21
  registered-vlan-ids: 1,10,20,30-33</pre>
</div></div><p><br/></p><p><strong>Sub-menu:</strong> <code>/interface bridge vlan</code></p><p>All ports that are members of static VLANs or dynamic untagged VLANs created by the port <code><span style="color:var(--ds-icon-success,#22a06b);">pvid</span></code> setting are treated as &quot;fixed.&quot; Meaning the registrar disregards all MRP messages and remains registered (IN) for those VLANs.</p><p>When VLAN is neither manually configured nor created by the port <code><span style="color:var(--ds-icon-success,#22a06b);">pvid</span></code> setting, incoming registrations on a bridge port can dynamically designate that specific port as a tagged VLAN member. The <code><span style="color:var(--ds-icon-success,#22a06b);">mvrp-forbidden</span></code> feature allows creating a list of ports that are restricted from registering into a specific VLAN ID.</p><p>VLANs that are static or dynamic will be declared by the applicants unless this functionality is disabled by the port's <code><span style="color:var(--ds-icon-success,#22a06b);">mvrp-applicant-state</span></code>, or by VLAN's<span style="letter-spacing: 0.0px;"> </span><code style="letter-spacing: 0.0px;"><span style="color:var(--ds-icon-success,#22a06b);">mvrp-forbidden</span></code><span style="letter-spacing: 0.0px;"> setting.</span></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 24.0227%;"/><col style="width: 75.9773%;"/></colgroup><tbody><tr><th class="confluenceTh"><p>Property</p></th><th class="confluenceTh"><p>Description</p></th></tr><tr><td class="confluenceTd"><p><strong style="text-align: left;">mvrp-forbidden</strong><span style="color:var(--ds-text,#172b4d);"> (</span><em style="text-align: left;">interfaces</em><span style="color:var(--ds-text,#172b4d);">; Default: </span><span style="color:var(--ds-text,#172b4d);">)</span></p></td><td class="confluenceTd"><p>Ports that ignore all MRP messages and remains Not Registered (MT), as well as disables applicant from declaring specific VLAN ID.</p></td></tr></tbody></table></div><p><br/></p><p><strong>Sub-menu:</strong> <code>/interface bridge vlan mvrp</code></p><p style="text-align: left;">The MVRP attributes menu can be used to see internal MVRP attribute states, as specified in the IEEE 802.1Q-2011.</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 24.0227%;"/><col style="width: 75.9773%;"/></colgroup><tbody><tr><th class="confluenceTh"><p>Property</p></th><th class="confluenceTh"><p>Description</p></th></tr><tr><td class="confluenceTd"><p><strong style="text-align: left;">applicant-state</strong></p></td><td class="confluenceTd"><p>The Applicant state machine that declares attributes. Its state can be VO, VP, VN, AN, AA, QA, LA, AO, QO, AP, QP, or LO. Each state consists of two letters.</p><p>The first letter indicates the state:</p><ul><li>V—Very anxious;</li><li>A—Anxious;</li><li>Q—Quiet;</li><li>L—Leaving.</li></ul><p><span>The second letter indicates the membership state:</span></p><ul><li>A - Active member;</li><li>P - Passive member;</li><li>O - Observer;</li><li>N - New.</li></ul><p><span>For example, VP indicates &quot;Very anxious, Passive member.&quot;</span></p></td></tr><tr><td class="confluenceTd"><p><strong style="text-align: left;">registrar-state</strong></p></td><td class="confluenceTd"><p class="TableText" style="text-align: left;">The Registrar state machine that records the registration state of attributes declared by other participants. Its state can be IN, LV, or MT:</p><ul><li class="TableText"><span class="BoldText">IN</span><span>—Registered;</span></li><li class="TableText"><span class="BoldText">LV</span><span>—Previously registered, but now being timed out;</span></li><li class="TableText"><span class="BoldText">MT</span><span>—Not registered.</span></li></ul></td></tr></tbody></table></div><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@Mikrotik] /interface/bridge/vlan/mvrp print where vlan-id=10
Columns: BRIDGE, PORT, VLAN-ID, REGISTRAR-STATE, APPLICANT-STATE, LAST-EVENT
 #  BRIDGE    PORT           VLAN-ID  REGISTRAR-STATE  APPLICANT-STATE  LAST-EVENT
 1  bridge67  sfp-sfpplus1        10  IN               Quiet Active     JoinIn    
 9  bridge67  sfp-sfpplus5        10  MT               Quiet Active     JoinEmpty 
17  bridge67  sfp-sfpplus9        10  MT               Quiet Active     JoinEmpty 
25  bridge67  sfp-sfpplus13       10  IN               Quiet Active     JoinIn </pre>
</div></div><h1 id="BridgingandSwitching-FastForward"><span class="mw-headline">Fast Forward</span></h1><hr/><p>Fast Forward allows forwarding packets faster under special conditions. When Fast Forward is enabled, then the bridge can process packets even faster since it can skip multiple bridge-related checks, including MAC learning. Below you can find a list of conditions that<span> </span><strong>MUST</strong><span> </span>be met in order for Fast Forward to be active:</p><ul><li>Bridge has<span> </span><code><span style="color:var(--ds-icon-success,#22a06b);">fast-forward</span></code><span> </span>set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span></li><li>Bridge has only 2 running ports</li><li>Both bridge ports support<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/Packet+Flow+in+RouterOS#heading-FastPath" rel="nofollow">Fast Path</a>, Fast Path is active on ports and globally on the bridge</li><li>Bridge Hardware Offloading<span> </span>is disabled</li><li>Bridge VLAN Filtering<span> </span>is disabled</li><li>Bridge DHCP snooping<span> </span>is disabled</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>unknown-multicast-flood</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span></li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>unknown-unicast-flood</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span></li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>broadcast-flood</code></span><span> </span>is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>yes</code></span></li><li>MAC address for the bridge matches with a MAC address from one of the bridge slave ports</li><li><span style="color:var(--ds-icon-success,#22a06b);"><code>horizon</code></span><span> </span>for both ports is set to<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>none</code></span></li></ul><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Fast Forward disables MAC learning, this is by design to achieve faster packet forwarding. MAC learning prevents traffic from flooding multiple interfaces, but MAC learning is not needed when a packet can only be sent out through just one interface.</p></div></div><p><br/></p><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Fast Forward is disabled when hardware offloading is enabled. Hardware offloading can achieve full write-speed performance when it is active since it will use the built-in switch chip (if such exists on your device), fast forward uses the CPU to forward packets. When comparing throughput results, you would get such results: Hardware offloading &gt; Fast Forward &gt; Fast Path &gt; Slow Path.</p></div></div><p>It is possible to check how many packets where processed by Fast Forward:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] /interface bridge settings&gt; pr
              use-ip-firewall: no
     use-ip-firewall-for-vlan: no
    use-ip-firewall-for-pppoe: no
              allow-fast-path: yes
      bridge-fast-path-active: yes
     bridge-fast-path-packets: 0
       bridge-fast-path-bytes: 0
  bridge-fast-forward-packets: 16423
    bridge-fast-forward-bytes: 24864422</pre>
</div></div><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>If packets are processed by Fast Path, then Fast Forward is not active. Packet count can be used as an indicator of whether Fast Forward is active or not.</p></div></div><p>Since RouterOS 6.44 it is possible to monitor Fast Forward status, for example:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">[admin@MikroTik] /interface bridge monitor bridge1 
                  state: enabled
    current-mac-address: B8:69:F4:C9:EE:D7
            root-bridge: yes
         root-bridge-id: 0x8000.B8:69:F4:C9:EE:D7
         root-path-cost: 0
              root-port: none
             port-count: 2
  designated-port-count: 2
           fast-forward: yes</pre>
</div></div><div role="region" aria-label="Warning" class="confluence-information-macro  confluence-information-macro-warning" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Disabling or enabling<span> </span>fast-forward<span> </span>will temporarily disable all bridge ports for settings to take effect. This must be taken into account whenever changing this property on production environments since it can cause all packets to be temporarily dropped.</p></div></div><h1 id="BridgingandSwitching-IGMP/MLDSnooping"><span class="mw-headline">IGMP/MLD Snooping</span></h1><hr/><p>The bridge supports IGMP/MLD snooping. It controls multicast streams and prevents multicast flooding on unnecessary ports. Its settings are placed in the bridge menu and it works independently in every bridge interface. Software-driven implementation works on all devices with RouterOS, but CRS3xx, CRS5xx series switches, CCR2116, CR2216 routers, and <span style="color:var(--ds-text,#172b4d);">88E6393X, 88E6191X, 88E6190 switch chips</span> also support IGMP/MLD snooping with hardware offloading. See more details on <a href="https://help.mikrotik.com/docs/pages/viewpage.action?pageId=59277403" rel="nofollow">IGMP/MLD snooping manual</a>.</p><h1 id="BridgingandSwitching-DHCPSnoopingandDHCPOption82"><span class="mw-headline">DHCP Snooping and DHCP Option 82</span></h1><hr/><p>DHCP Snooping and DHCP Option 82 is supported by bridge. The DHCP Snooping is a Layer2 security feature, that limits unauthorized DHCP servers from providing malicious information to users. In RouterOS, you can specify which bridge ports are trusted (where known DHCP server resides and DHCP messages should be forwarded) and which are untrusted (usually used for access ports, received DHCP server messages will be dropped). The DHCP Option 82 is additional information (Agent Circuit ID and Agent Remote ID) provided by DHCP Snooping enabled devices that allow identifying the device itself and DHCP clients.</p><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" draggable="false" src="attachments/328068/43057258.png" data-image-src="attachments/328068/43057258.png" data-unresolved-comment-count="0" data-linked-resource-id="43057258" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="Dhcp_snooping.png" data-base-url="https://help.mikrotik.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="328068" data-linked-resource-container-version="147" tabindex="0" alt=""></span></p><p>In this example, SW1 and SW2 are DHCP Snooping, and Option 82 enabled devices. First, we need to create a bridge, assign interfaces and mark trusted ports. Use these commands on<span> </span><strong>SW1</strong>:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
add name=bridge
/interface bridge port
add bridge=bridge interface=ether1
add bridge=bridge interface=ether2 trusted=yes</pre>
</div></div><p><span style="letter-spacing: 0.0px;">For SW2, the configuration will be similar, but we also need to mark ether1 as trusted, because this interface is going to receive DHCP messages with Option 82 already added. You need to mark all ports as trusted if they are going to receive DHCP messages with added Option 82, otherwise these messages will be dropped. Also, we add ether3 to the same bridge and leave this port untrusted, imagine there is an unauthorized (rogue) DHCP server. Use these commands on</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW2</strong><span style="letter-spacing: 0.0px;">:</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
add name=bridge
/interface bridge port
add bridge=bridge interface=ether1 trusted=yes
add bridge=bridge interface=ether2 trusted=yes
add bridge=bridge interface=ether3</pre>
</div></div><p><span style="letter-spacing: 0.0px;">Then we need to enable DHCP Snooping and Option 82. In case your DHCP server does not support DHCP Option 82 or you do not implement any Option 82 related policies, this option can be disabled. Use these commands on</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW1</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">and</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW2</strong><span style="letter-spacing: 0.0px;">:</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: ros; gutter: false">/interface bridge
set [find where name=&quot;bridge&quot;] dhcp-snooping=yes add-dhcp-option82=yes</pre>
</div></div><p><span style="letter-spacing: 0.0px;">Now both devices will analyze what DHCP messages are received on bridge ports. The</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW1</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">is responsible for adding and removing the DHCP Option 82. The</span><span style="letter-spacing: 0.0px;"> </span><strong style="letter-spacing: 0.0px;">SW2</strong><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">will limit rogue DHCP server from receiving any discovery messages and drop malicious DHCP server messages from ether3.</span></p><div role="region" aria-label="Note" class="confluence-information-macro  confluence-information-macro-note" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Currently, CRS3xx, CRS5xx series switches, CCR2116, CR2216 routers, and <span style="color:var(--ds-text,#172b4d);">88E6393X, 88E6191X, 88E6190 switch chips</span> fully support hardware offloaded DHCP Snooping and Option 82. For CRS1xx and CRS2xx series switches it is possible to use DHCP Snooping along with VLAN switching, but then you need to make sure that DHCP packets are sent out with the correct VLAN tag using egress ACL rules. Other devices are capable of using DHCP Snooping and Option 82 features along with hardware offloading, but you must make sure that there is no VLAN-related configuration applied on the device, otherwise, DHCP Snooping and Option 82 might not work properly. See<span> the </span>Bridge Hardware Offloading<span> </span>section with supported features.</p></div></div><div role="region" aria-label="Info" class="confluence-information-macro  confluence-information-macro-information" ><span role="presentation" class="aui-icon aui-icon-small aui-iconfont-info-filled confluence-information-macro-icon" ></span><div class="confluence-information-macro-body"><p>Starting from RouterOS v7.17, DHCP snooping is supported with hardware offloading bonding interfaces.</p></div></div><h1 class="auto-cursor-target" id="BridgingandSwitching-ControllerBridgeandPortExtender"><span style="font-size: 24.0px;letter-spacing: -0.01em;">Controller Bridge and Port Extender</span></h1><hr/><p><span style="color:var(--ds-text,#172b4d);">Controller Bridge (CB) and Port Extender (PE) is an IEEE 802.1BR standard implementation in RouterOS for CRS3xx, CRS5xx series switches and CCR2116, CCR2216 routers. It allows virtually extending the CB ports with a PE device and managing these extended interfaces from a single controlling device. Such configuration provides a simplified network topology, flexibility, increased port density, and ease of manageability. See more details on <a href="https://help.mikrotik.com/docs/display/ROS/Controller+Bridge+and+Port+Extender" rel="nofollow">Controller Bridge and Port Extender manual</a>.</span></p><h1 id="BridgingandSwitching-BridgeFirewall"><span class="mw-headline">Bridge Firewall</span></h1><hr/><p>The bridge firewall implements packet filtering and thereby provides security functions that are used to manage data flow to, from, and through the bridge.</p><p><a href="https://help.mikrotik.com/docs/display/ROS/Packet+Flow+in+RouterOS" rel="nofollow">Packet flow diagram</a><span> </span>shows how packets are processed through the router. It is possible to force bridge traffic to go through<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>/ip firewall filter</code></span><span> </span>rules (see the bridge settings).</p><p>There are two bridge firewall tables:</p><ul><li><strong>filter</strong><span> </span>- bridge firewall with three predefined chains:<ul><li><strong>input</strong><span> </span>- filters packets, where the destination is the bridge (including those packets that will be routed, as they are destined to the bridge MAC address anyway)</li><li><strong>output</strong><span> </span>- filters packets, which come from the bridge (including those packets that has been routed normally)</li><li><strong>forward</strong><span> </span>- filters packets, which are to be bridged (note: this chain is not applied to the packets that should be routed through the router, just to those that are traversing between the ports of the same bridge)</li></ul></li><li><strong>nat</strong><span> </span>- bridge network address translation provides ways for changing source/destination MAC addresses of the packets traversing a bridge. Has two built-in chains:<ul><li><strong>srcnat</strong><span> </span>- used for &quot;hiding&quot; a host or a network behind a different MAC address. This chain is applied to the packets leaving the router through a bridged interface</li><li><strong>dstnat</strong><span> </span>- used for redirecting some packets to other destinations</li></ul></li></ul><p>You can put packet marks in bridge firewall (filter and NAT), which are the same as the packet marks in IP firewall configured by<span> </span><code>'<span style="color:var(--ds-icon-success,#22a06b);">/ip firewall mangle</span>'</code>. In this way, packet marks put by bridge firewall can be used in 'IP firewall', and vice versa.</p><p>General bridge firewall properties are described in this section. Some parameters that differ between nat and filter rules are described in further sections.</p><p><strong>Sub-menu:</strong><span> </span><code>/interface bridge filter, /interface bridge nat</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>802.3-sap</strong><span> </span>(<em>integer</em>; Default: )</td><td class="confluenceTd">DSAP (Destination Service Access Point) and SSAP (Source Service Access Point) are 2 one-byte fields, which identify the network protocol entities which use the link-layer service. These bytes are always equal. Two hexadecimal digits may be specified here to match an SAP byte.</td></tr><tr><td class="confluenceTd"><strong>802.3-type</strong><span> </span>(<em>integer</em>; Default: )</td><td class="confluenceTd">Ethernet protocol type, placed after the IEEE 802.2 frame header. Works only if 802.3-sap is 0xAA (SNAP - Sub-Network Attachment Point header). For example, AppleTalk can be indicated by the SAP code of 0xAA followed by a SNAP type code of 0x809B.</td></tr><tr><td class="confluenceTd"><strong>action</strong><span> </span>(<em>accept | drop | jump | log | mark-packet | passthrough | return | set-priority</em>; Default: )</td><td class="confluenceTd">Action to take if the packet is matched by the rule:<ul><li>accept<span> </span>- accept the packet. The packet is not passed to the next firewall rule</li><li>drop<span> </span>- silently drop the packet</li><li>jump<span> </span>- jump to the user-defined chain specified by the value of<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>jump-target</code></span><span> </span>parameter</li><li>log<span> </span>- add a message to the system log containing the following data: in-interface, out-interface, src-mac, protocol, src-ip:port-&gt;dst-ip:port and length of the packet. After the packet is matched it is passed to the next rule in the list, similar as<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>passthrough</code></span></li><li>mark-packet<span> </span>- place a mark specified by the new-packet-mark parameter on a packet that matches the rule</li><li>passthrough<span> </span>- if the packet is matched by the rule, increase counter and go to next rule (useful for statistics)</li><li>return<span> </span>- passes control back to the chain from where the jump took place</li><li>set-priority<span> </span>- set priority specified by the new-priority parameter on the packets sent out through a link that is capable of transporting priority (VLAN or WMM-enabled wireless interface).<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/WMM+and+VLAN+priority" rel="nofollow">Read more</a></li></ul></td></tr><tr><td class="confluenceTd"><strong>arp-dst-address</strong><span> </span>(<em>IP address</em>; Default: )</td><td class="confluenceTd">ARP destination IP address.</td></tr><tr><td class="confluenceTd"><strong>arp-dst-mac-address</strong><span> </span>(<em>MAC address</em>; Default: )</td><td class="confluenceTd">ARP destination MAC address.</td></tr><tr><td class="confluenceTd"><strong>arp-gratuitous</strong><span> </span>(<em>yes | no</em>; Default: )</td><td class="confluenceTd">Matches ARP gratuitous packets.</td></tr><tr><td class="confluenceTd"><strong>arp-hardware-type</strong><span> </span>(<em>integer</em>; Default:<span> </span><strong>1</strong>)</td><td class="confluenceTd">ARP hardware type. This is normally Ethernet (Type 1).</td></tr><tr><td class="confluenceTd"><strong>arp-opcode</strong><span> </span>(<em>arp-nak | drarp-error | drarp-reply | drarp-request | inarp-reply | inarp-request | reply | reply-reverse | request | request-reverse</em>; Default: )</td><td class="confluenceTd">ARP opcode (packet type)<ul><li>arp-nak<span> </span>- negative ARP reply (rarely used, mostly in ATM networks)</li><li>drarp-error<span> </span>- Dynamic RARP error code, saying that an IP address for the given MAC address can not be allocated</li><li>drarp-reply<span> </span>- Dynamic RARP reply, with a temporary IP address assignment for a host</li><li>drarp-request<span> </span>- Dynamic RARP request to assign a temporary IP address for the given MAC address</li><li>inarp-reply<span> </span>- InverseARP Reply</li><li>inarp-request<span> </span>- InverseARP Request</li><li>reply<span> </span>- standard ARP reply with a MAC address</li><li>reply-reverse<span> </span>- reverse ARP (RARP) reply with an IP address assigned</li><li>request<span> </span>- standard ARP request to a known IP address to find out unknown MAC address</li><li>request-reverse<span> </span>- reverse ARP (RARP) request to a known MAC address to find out the unknown IP address (intended to be used by hosts to find out their own IP address, similarly to DHCP service)</li></ul></td></tr><tr><td class="confluenceTd"><strong>arp-packet-type</strong><span> </span>(<em>integer 0..65535 | hex 0x0000-0xffff</em>; Default: )</td><td class="confluenceTd">ARP Packet Type.</td></tr><tr><td class="confluenceTd"><strong>arp-src-address</strong><span> </span>(<em>IP address</em>; Default: )</td><td class="confluenceTd">ARP source IP address.</td></tr><tr><td class="confluenceTd"><strong>arp-src-mac-address</strong><span> </span>(<em>MAC addres</em>; Default: )</td><td class="confluenceTd">ARP source MAC address.</td></tr><tr><td class="confluenceTd"><strong>chain</strong><span> </span>(<em>text</em>; Default: )</td><td class="confluenceTd">Bridge firewall chain, which the filter is functioning in (either a built-in one, or a user-defined one).</td></tr><tr><td class="confluenceTd"><strong>dst-address</strong><span> </span>(<em>IP address</em>; Default: )</td><td class="confluenceTd">Destination IP address (only if MAC protocol is set to IP).</td></tr><tr><td class="confluenceTd"><strong>dst-address6</strong><span> </span>(<em>IPv6 address</em>; Default: )</td><td class="confluenceTd">Destination IPv6 address (only if MAC protocol is set to IPv6).</td></tr><tr><td class="confluenceTd"><strong>dst-mac-address</strong><span> </span>(<em>MAC address</em>; Default: )</td><td class="confluenceTd">Destination MAC address.</td></tr><tr><td class="confluenceTd"><strong>dst-port</strong><span> </span>(<em>integer 0..65535</em>; Default: )</td><td class="confluenceTd">Destination port number or range (only for TCP or UDP protocols).</td></tr><tr><td class="confluenceTd"><strong>in-bridge</strong><span> </span>(<em>name</em>; Default: )</td><td class="confluenceTd">Bridge interface through which the packet is coming in.</td></tr><tr><td class="confluenceTd"><strong>in-bridge-list</strong><span> </span>(<em>name</em>; Default: )</td><td class="confluenceTd">Set of bridge interfaces defined in<span> </span>interface list. Works the same as<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>in-bridge</code></span>.</td></tr><tr><td class="confluenceTd"><strong>in-interface</strong><span> </span>(<em>name</em>; Default: )</td><td class="confluenceTd">Physical interface (i.e., bridge port) through which the packet is coming in.</td></tr><tr><td class="confluenceTd"><strong>in-interface-list</strong><span> </span>(<em>name</em>; Default: )</td><td class="confluenceTd">Set of interfaces defined in<span> </span>interface list. Works the same as<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>in-interface</code></span>.</td></tr><tr><td class="confluenceTd"><strong>ingress-priority</strong><span> </span>(<em>integer 0..63</em>; Default: )</td><td class="confluenceTd">Matches the priority of an ingress packet. Priority may be derived from VLAN, WMM, DSCP or MPLS EXP bit.<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/WMM+and+VLAN+priority" rel="nofollow">read more</a></td></tr><tr><td class="confluenceTd"><strong>ip-protocol</strong><span> </span>(<em>dccp | ddp | egp | encap | etherip | ggp | gre | hmp | icmp | icmpv6 | idpr-cmtp | igmp | ipencap | ipip | ipsec-ah | ipsec-esp | ipv6 | ipv6-frag | ipv6-nonxt | ipv6-opts | ipv6-route | iso-tp4 | l2tp | ospf | pim | pup | rdp | rspf | rsvp | sctp | st | tcp | udp | udp-lite | vmtp | vrrp | xns-idp | xtp</em>; Default: )</td><td class="confluenceTd">IP protocol (only if MAC protocol is set to IPv4)<ul><li>dccp<span> </span>- Datagram Congestion Control Protocol</li><li>ddp<span> </span>- Datagram Delivery Protocol</li><li>egp<span> </span>- Exterior Gateway Protocol</li><li>encap<span> </span>- Encapsulation Header</li><li>etherip<span> </span>- Ethernet-within-IP Encapsulation</li><li>ggp<span> </span>- Gateway-to-Gateway Protocol</li><li>gre<span> </span>- Generic Routing Encapsulation</li><li>hmp<span> </span>- Host Monitoring Protocol</li><li>icmp<span> </span>- IPv4 Internet Control Message Protocol</li><li>icmpv6<span> </span>- IPv6 Internet Control Message Protocol</li><li>idpr-cmtp<span> </span>- Inter-Domain Policy Routing Control Message Transport Protocol</li><li>igmp<span> </span>- Internet Group Management Protocol</li><li>ipencap<span> </span>- IP in IP (encapsulation)</li><li>ipip<span> </span>- IP-within-IP Encapsulation Protocol</li><li>ipsec-ah<span> </span>- IPsec Authentication Header</li><li>ipsec-esp<span> </span>- IPsec Encapsulating Security Payload</li><li>ipv6<span> </span>- Internet Protocol version 6</li><li>ipv6-frag<span> </span>- Fragment Header for IPv6</li><li>ipv6-nonxt<span> </span>- No Next Header for IPv6</li><li>ipv6-opts<span> </span>- Destination Options for IPv6</li><li>ipv6-route<span> </span>- Routing Header for IPv6</li><li>iso-tp4<span> </span>- ISO Transport Protocol Class 4</li><li>l2tp<span> </span>- Layer Two Tunneling Protocol</li><li>ospf<span> </span>- Open Shortest Path First</li><li>pim<span> </span>- Protocol Independent Multicast</li><li>pup<span> </span>- PARC Universal Packet</li><li>rdp<span> </span>- Reliable Data Protocol</li><li>rspf<span> </span>- Radio Shortest Path First</li><li>rsvp<span> </span>- Reservation Protocol</li><li>sctp<span> </span>- Stream Control Transmission Protocol</li><li>st<span> </span>- Internet Stream Protocol</li><li>tcp<span> </span>- Transmission Control Protocol</li><li>udp<span> </span>- User Datagram Protocol</li><li>udp-lite<span> </span>- Lightweight User Datagram Protocol</li><li>vmtp<span> </span>- Versatile Message Transaction Protocol</li><li>vrrp<span> </span>- Virtual Router Redundancy Protocol</li><li>xns-idp<span> </span>- Xerox Network Systems Internet Datagram Protocol</li><li>xtp<span> </span>- Xpress Transport Protocol</li></ul></td></tr><tr><td class="confluenceTd"><strong>jump-target</strong><span> </span>(<em>name</em>; Default: )</td><td class="confluenceTd">If<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>action=jump</code></span><span> </span>specified, then specifies the user-defined firewall chain to process the packet.</td></tr><tr><td class="confluenceTd"><strong>limit</strong><span> </span>(<em>integer/time,integer</em>; Default: )</td><td class="confluenceTd">Matches packets up to a limited rate. A rule using this matcher will match until this limit is reached.<br/><ul><li>count<span> </span>- maximum average packet rate, measured in packets per second (pps), unless followed by Time option</li><li>time<span> </span>- specifies the time interval over which the packet rate is measured</li><li>burst<span> </span>- number of packets to match in a burst</li></ul></td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>log </strong>(<em>yes | no; Default:<span> </span></em><strong>no</strong>)</td><td style="text-align: left;vertical-align: top;" class="confluenceTd"><span style="color:var(--ds-text,#172b4d);">Add a message to the system log containing the following data: in-interface, out-interface, src-mac, dst-mac, eth-protocol, ip-protocol, src-ip:port-&gt;dst-ip:port, and length of the packet.</span></td></tr><tr><td class="confluenceTd"><strong>log-prefix</strong><span> </span>(<em>text</em>; Default: )</td><td class="confluenceTd">Defines the prefix to be printed before the logging information.</td></tr><tr><td class="confluenceTd"><strong>mac-protocol</strong><span> </span>(<em>802.2 | arp | capsman | dot1x | homeplug-av | ip | ipv6 | ipx | lacp | length | lldp | loop-protect | macsec | mpls-multicast | mpls-unicast | packing-compr | packing-simple | pppoe | pppoe-discovery | rarp | romon | service-vlan | vlan | integer 0..65535 | hex 0x0000-0xffff</em>; Default: )</td><td class="confluenceTd">Ethernet payload type (MAC-level protocol). To match protocol type for VLAN encapsulated frames (0x8100 or 0x88a8), a<span> </span>vlan-encap<span> </span>property should be used.<ul><li>802.2<span> </span>- 802.2 Frames (0x0004)</li><li>arp<span> </span>- Address Resolution Protocol (0x0806)</li><li>homeplug-av<span> </span>- HomePlug AV MME (0x88E1)</li><li>ip<span> </span>- Internet Protocol version 4 (0x0800)</li><li>ipv6<span> </span>- Internet Protocol Version 6 (0x86DD)</li><li>ipx<span> </span>- Internetwork Packet Exchange (0x8137)</li><li>length<span> </span>- Packets with length field (0x0000-0x05DC)</li><li>lldp<span> </span>- Link Layer Discovery Protocol (0x88CC)</li><li>loop-protect<span> </span>- Loop Protect Protocol (0x9003)</li><li>mpls-multicast<span> </span>- MPLS multicast (0x8848)</li><li>mpls-unicast<span> </span>- MPLS unicast (0x8847)</li><li>packing-compr<span> </span>- Encapsulated packets with compressed<span> </span><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:IP/Packing" rel="nofollow" style="text-decoration: none;" title="Manual:IP/Packing">IP packing</a><span> </span>(0x9001)</li><li>packing-simple<span> </span>- Encapsulated packets with simple<span> </span><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:IP/Packing" rel="nofollow" style="text-decoration: none;" title="Manual:IP/Packing">IP packing</a><span> </span>(0x9000)</li><li>pppoe<span> </span>- PPPoE Session Stage (0x8864)</li><li>pppoe-discovery<span> </span>- PPPoE Discovery Stage (0x8863)</li><li>rarp<span> </span>- Reverse Address Resolution Protocol (0x8035)</li><li>service-vlan<span> </span>- Provider Bridging (IEEE 802.1ad) &amp; Shortest Path Bridging IEEE 802.1aq (0x88A8)</li><li>vlan<span> </span>- VLAN-tagged frame (IEEE 802.1Q) and Shortest Path Bridging IEEE 802.1aq with NNI compatibility (0x8100)</li></ul></td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>new-packet-mark</strong><span> </span>(<em>string</em>; Default: )</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Sets a new packet-mark value.</td></tr><tr><td style="text-align: left;vertical-align: top;" class="confluenceTd"><strong>new-priority</strong><span> </span>(<em>integer | from-ingress</em>; Default: )</td><td style="text-align: left;vertical-align: top;" class="confluenceTd">Sets a new priority for a packet. This can be the VLAN, WMM or MPLS EXP priority<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/WMM+and+VLAN+priority" rel="nofollow">Read more</a>. This property can also be used to set an internal priori</td></tr><tr><td class="confluenceTd"><strong>out-bridge</strong><span> </span>(<em>name</em>; Default: )</td><td class="confluenceTd">Outgoing bridge interface.</td></tr><tr><td class="confluenceTd"><strong>out-bridge-list</strong><span> </span>(<em>name</em>; Default: )</td><td class="confluenceTd">Set of bridge interfaces defined in<span> </span>interface list. Works the same as<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>out-bridge</code></span>.</td></tr><tr><td class="confluenceTd"><strong>out-interface</strong><span> </span>(<em>name</em>; Default: )</td><td class="confluenceTd">Interface that the packet is leaving the bridge through.</td></tr><tr><td class="confluenceTd"><strong>out-interface-list</strong><span> </span>(<em>name</em>; Default: )</td><td class="confluenceTd">Set of interfaces defined in<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/List" rel="nofollow">interface list</a>. Works the same as<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>out-interface</code></span>.</td></tr><tr><td class="confluenceTd"><strong>packet-mark</strong><span> </span>(<em>name</em>; Default: )</td><td class="confluenceTd">Match packets with a certain packet mark.</td></tr><tr><td class="confluenceTd"><strong>packet-type</strong><span> </span>(<em>broadcast | host | multicast | other-host</em>; Default: )</td><td class="confluenceTd">MAC frame type:<ul><li>broadcast<span> </span>- broadcast MAC packet</li><li>host<span> </span>- packet is destined to the bridge itself</li><li>multicast<span> </span>- multicast MAC packet</li><li>other-host<span> </span>- packet is destined to some other unicast address, not to the bridge itself</li></ul></td></tr><tr><td class="confluenceTd"><strong>src-address</strong><span> </span>(<em>IP address</em>; Default: )</td><td class="confluenceTd">Source IP address (only if MAC protocol is set to IPv4).</td></tr><tr><td class="confluenceTd"><strong>src-address6</strong><span> </span>(<em>IPv6 address</em>; Default: )</td><td class="confluenceTd">Source IPv6 address (only if MAC protocol is set to IPv6).</td></tr><tr><td class="confluenceTd"><strong>src-mac-address</strong><span> </span>(<em>MAC address</em>; Default: )</td><td class="confluenceTd">Source MAC address.</td></tr><tr><td class="confluenceTd"><strong>src-port</strong><span> </span>(<em>integer 0..65535</em>; Default: )</td><td class="confluenceTd">Source port number or range (only for TCP or UDP protocols).</td></tr><tr><td class="confluenceTd"><strong>stp-flags</strong><span> </span>(<em>topology-change | topology-change-ack</em>; Default: )</td><td class="confluenceTd">The BPDU (Bridge Protocol Data Unit) flags. Bridge exchange configuration messages named BPDU periodically for preventing loops<ul><li>topology-change<span> </span>- topology change flag is set when a bridge detects port state change, to force all other bridges to drop their host tables and recalculate network topology</li><li>topology-change-ack<span> </span>- topology change acknowledgment flag is sent in replies to the notification packets</li></ul></td></tr><tr><td class="confluenceTd"><strong>stp-forward-delay</strong><span> </span>(<em>integer 0..65535</em>; Default: )</td><td class="confluenceTd">Forward delay timer.</td></tr><tr><td class="confluenceTd"><strong>stp-hello-time</strong><span> </span>(<em>integer 0..65535</em>; Default: )</td><td class="confluenceTd">STP hello packets time.</td></tr><tr><td class="confluenceTd"><strong>stp-max-age</strong><span> </span>(<em>integer 0..65535</em>; Default: )</td><td class="confluenceTd">Maximal STP message age.</td></tr><tr><td class="confluenceTd"><strong>stp-msg-age</strong><span> </span>(<em>integer 0..65535</em>; Default: )</td><td class="confluenceTd">STP message age.</td></tr><tr><td class="confluenceTd"><strong>stp-port</strong><span> </span>(<em>integer 0..65535</em>; Default: )</td><td class="confluenceTd">STP port identifier.</td></tr><tr><td class="confluenceTd"><strong>stp-root-address</strong><span> </span>(<em>MAC address</em>; Default: )</td><td class="confluenceTd">Root bridge MAC address.</td></tr><tr><td class="confluenceTd"><strong>stp-root-cost</strong><span> </span>(<em>integer 0..65535</em>; Default: )</td><td class="confluenceTd">Root bridge cost.</td></tr><tr><td class="confluenceTd"><strong>stp-root-priority</strong><span> </span>(<em>integer 0..65535</em>; Default: )</td><td class="confluenceTd">Root bridge priority.</td></tr><tr><td class="confluenceTd"><strong>stp-sender-address</strong><span> </span>(<em>MAC address</em>; Default: )</td><td class="confluenceTd">STP message sender MAC address.</td></tr><tr><td class="confluenceTd"><strong>stp-sender-priority</strong><span> </span>(<em>integer 0..65535</em>; Default: )</td><td class="confluenceTd">STP sender priority.</td></tr><tr><td class="confluenceTd"><strong>stp-type</strong><span> </span>(<em>config | tcn</em>; Default: )</td><td class="confluenceTd">The BPDU type:<ul><li>config<span> </span>- configuration BPDU</li><li>tcn<span> </span>- topology change notification</li></ul></td></tr><tr><td class="confluenceTd"><strong>tls-host</strong><span> </span>(<em>string</em>; Default: )</td><td class="confluenceTd">Allows matching https traffic based on TLS SNI hostname. Accepts<span> </span><a class="external-link" href="https://en.wikipedia.org/wiki/Glob_(programming)" rel="nofollow" style="text-decoration: none;">GLOB syntax</a><span> </span>for wildcard matching. Note that matcher will not be able to match hostname if the TLS handshake frame is fragmented into multiple TCP segments (packets).</td></tr><tr><td class="confluenceTd"><strong>vlan-encap</strong><span> </span>(<em>802.2 | arp | ip | ipv6 | ipx | length | mpls-multicast | mpls-unicast | pppoe | pppoe-discovery | rarp | vlan | integer 0..65535 | hex 0x0000-0xffff</em>; Default: )</td><td class="confluenceTd">Matches the MAC protocol type encapsulated in the VLAN frame.</td></tr><tr><td class="confluenceTd"><strong>vlan-id</strong><span> </span>(<em>integer 0..4095</em>; Default: )</td><td class="confluenceTd">Matches the VLAN identifier field.</td></tr><tr><td class="confluenceTd"><strong>vlan-priority</strong><span> </span>(<em>integer 0..7</em>; Default: )</td><td class="confluenceTd">Matches the VLAN priority (priority code point)</td></tr></tbody></table></div><p><span class="mw-headline">Footnotes:</span></p><ul><li>STP matchers are only valid if the destination MAC address is <code>01:80:C2:00:00:00/FF:FF:FF:FF:FF:FF</code> (Bridge Group address), also STP should be enabled.</li></ul><ul><li>ARP matchers are only valid if<span> </span>mac-protocol<span> </span>is<span> </span><span style="color:var(--ds-text,#333333);"><code>arp</code> </span>or<span> </span><span style="color:var(--ds-text,#333333);"><code>rarp</code></span></li></ul><ul><li>VLAN matchers are only valid for<span> </span><code>0x8100</code><span> </span>or<span> </span><code>0x88a8</code><span> </span>ethernet protocols</li></ul><ul><li>IP or IPv6 related matchers are only valid if<span> </span>mac-protocol<span> </span>is either set to<span> </span><code>ip</code><span> </span>or<span> </span><code>ipv6</code></li></ul><ul><li>802.3 matchers are only consulted if the actual frame is compliant with IEEE 802.2 and IEEE 802.3 standards. These matchers are ignored for other packets.</li></ul><h2 id="BridgingandSwitching-BridgePacketFilter"><span class="mw-headline">Bridge Packet Filter</span></h2><p><span class="mw-headline">This section describes specific bridge filter options.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface bridge filter</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>action</strong><span> </span>(<em>accept | drop | jump | log | mark-packet | passthrough | return | set-priority</em>; Default:<span> </span><strong>accept</strong>)</td><td class="confluenceTd">Action to take if the packet is matched by the rule:<ul><li>accept<span> </span>- accept the packet. No action, i.e., the packet is passed through without undertaking any action, and no more rules are processed in the relevant list/chain</li><li>drop<span> </span>- silently drop the packet (without sending the ICMP reject message)</li><li>jump<span> </span>- jump to the chain specified by the value of the jump-target argument</li><li>log<span> </span>- add a message to the system log containing the following data: in-interface, out-interface, src-mac, dst-mac, eth-proto, protocol, src-ip:port-&gt;dst-ip:port and length of the packet. After packet is matched it is passed to the next rule in the list, similar as passthrough</li><li>mark<span> </span>- mark the packet to use the mark later</li><li>passthrough<span> </span>- ignore this rule and go on to the next one. Acts the same way as a disabled rule, except for the ability to count packets</li><li>return<span> </span>- return to the previous chain, from where the jump took place</li><li>set-priority<span> </span>- set priority specified by the new-priority parameter on the packets sent out through a link that is capable of transporting priority (VLAN or WMM-enabled wireless interface).<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/WMM+and+VLAN+priority" rel="nofollow">Read more</a></li></ul></td></tr></tbody></table></div><h2 id="BridgingandSwitching-BridgeNAT"><span class="mw-headline">Bridge NAT</span></h2><p><span class="mw-headline">This section describes specific bridge NAT options.</span></p><p><strong>Sub-menu:</strong><span> </span><code>/interface bridge nat</code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong>action</strong><span> </span>(<em>accept | drop | jump | mark-packet | redirect | set-priority | arp-reply | dst-nat | log | passthrough | return | src-nat</em>; Default:<span> </span><strong>accept</strong>)</td><td class="confluenceTd">Action to take if the packet is matched by the rule:<ul><li>accept<span> </span>- accept the packet. No action, i.e., the packet is passed through without undertaking any action, and no more rules are processed in the relevant list/chain</li><li>arp-reply<span> </span>- send a reply to an ARP request (any other packets will be ignored by this rule) with the specified MAC address (only valid in dstnat chain)</li><li>drop<span> </span>- silently drop the packet (without sending the ICMP reject message)</li><li>dst-nat<span> </span>- change destination MAC address of a packet (only valid in dstnat chain)</li><li>jump<span> </span>- jump to the chain specified by the value of the jump-target argument</li><li>log<span> </span>- log the packet</li><li>mark<span> </span>- mark the packet to use the mark later</li><li>passthrough<span> </span>- ignore this rule and go on to the next one. Acts the same way as a disabled rule, except for the ability to count packets</li><li>redirect<span> </span>- redirect the packet to the bridge itself (only valid in dstnat chain)</li><li>return<span> </span>- return to the previous chain, from where the jump took place</li><li>set-priority<span> </span>- set priority specified by the new-priority parameter on the packets sent out through a link that is capable of transporting priority (VLAN or WMM-enabled wireless interface).<span> </span><a href="https://help.mikrotik.com/docs/display/ROS/WMM+and+VLAN+priority" rel="nofollow">Read more</a></li><li>src-nat<span> </span>- change source MAC address of a packet (only valid in srcnat chain)</li></ul></td></tr><tr><td class="confluenceTd"><strong>to-arp-reply-mac-address</strong><span> </span>(<em>MAC address</em>; Default: )</td><td class="confluenceTd">Source MAC address to put in Ethernet frame and ARP payload, when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>action=arp-reply</code></span><span> </span>is selected</td></tr><tr><td class="confluenceTd"><strong>to-dst-mac-address</strong><span> </span>(<em>MAC address</em>; Default: )</td><td class="confluenceTd">Destination MAC address to put in Ethernet frames, when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>action=dst-nat</code></span><span> </span>is selected</td></tr><tr><td class="confluenceTd"><strong>to-src-mac-address</strong><span> </span>(<em>MAC address</em>; Default: )</td><td class="confluenceTd">Source MAC address to put in Ethernet frames, when<span> </span><span style="color:var(--ds-icon-success,#22a06b);"><code>action=src-nat</code></span><span> </span>is selected</td></tr></tbody></table></div><h1 id="BridgingandSwitching-Seealso"><span class="mw-headline">See also</span></h1><hr/><ul><li><a href="https://help.mikrotik.com/docs/pages/viewpage.action?pageId=103841835" rel="nofollow">CRS1xx/2xx series switches</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/CRS3xx%2C+CRS5xx%2C+CCR2116%2C+CCR2216+switch+chip+features" rel="nofollow">CRS3xx, CRS5xx series switches, and CCR2116, CCR2216 routers</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/Switch+Chip+Features" rel="nofollow">Switch chip features</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/MTU+in+RouterOS" rel="nofollow">MTU on RouterBOARD</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/Layer2+misconfiguration" rel="nofollow">Layer2 misconfiguration</a></li><li><a href="https://help.mikrotik.com/docs/display/ROS/Bridge+VLAN+Table" rel="nofollow">Bridge VLAN Table</a></li><li><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:Wireless_VLAN_Trunk" rel="nofollow" style="text-decoration: none;" title="Manual:Wireless VLAN Trunk">Wireless VLAN Trunk</a></li><li><a class="external-link" href="https://wiki.mikrotik.com/wiki/Manual:VLANs_on_Wireless" rel="nofollow" style="text-decoration: none;" title="Manual:VLANs on Wireless">VLANs on Wireless</a></li></ul></div>
</div>
</div>
</div>
<p><br/></p>
                    </div>

                                                            <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/43057253.png">Portbased-vlan1.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/43057254.png">Portbased-vlan2.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/43057255.png">Bridge-vlan-routing.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/58720263.png">Provider_bridge.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/58720264.png">Tag_stacking.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/58720266.png">Dhcp_snooping.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/58720276.png">Provider_bridge.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/58720277.png">Tag_stacking.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/43057258.png">Dhcp_snooping.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/43057256.png">Provider_bridge.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/43057257.png">Tag_stacking.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/76939384.png">access_ports.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/76939385.png">hybrid_ports.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/76939386.png">vlan_routing.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/76939371.png">access_ports.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/76939372.png">hybrid_ports.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/76939373.png">vlan_routing.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/100007969.png">bridge_diagram.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/100007971">bridge_SW</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/100007972.png">bridge_SW.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/100007973.png">bridge_HW.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/108789762.png">image2022-2-14_14-57-37.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/240156836.png">shema.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/328068/240156844.png">2b.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 20, 2025 14:53</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
